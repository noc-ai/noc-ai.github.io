(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const Wa=!1;var Xl=Array.isArray,Gh=Array.prototype.indexOf,Kh=Array.from,Yh=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,Jl=Object.getOwnPropertyDescriptors,Xh=Object.prototype,Jh=Array.prototype,ta=Object.getPrototypeOf,Ha=Object.isExtensible;function Zh(t){return t()}function is(t){for(var e=0;e<t.length;e++)t[e]()}const Ze=2,Zl=4,yr=8,na=16,wt=32,kn=64,Yi=128,Be=256,Xi=512,Re=1024,ut=2048,nn=4096,bn=8192,br=16384,Qh=32768,ia=65536,ed=1<<17,td=1<<19,Ql=1<<20,rs=1<<21,gn=Symbol("$state"),nd=Symbol("legacy props"),id=Symbol("");function eu(t){return t===this.v}function rd(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ra(t){return!rd(t,this.v)}function sd(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ad(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function od(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ld(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ud(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function cd(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function hd(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function dd(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let An=!1,fd=!1;function pd(){An=!0}const gd=1,vd=2,tu=4,md=8,_d=16,yd=1,bd=2,Ae=Symbol(),wd="http://www.w3.org/1999/xhtml";function xd(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ee=null;function za(t){ee=t}function Mn(t,e=!1,n){var i=ee={p:ee,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};An&&!e&&(ee.l={s:null,u:null,r1:[],r2:wr(!1)}),hu(()=>{i.d=!0})}function Fn(t){const e=ee;if(e!==null){const a=e.e;if(a!==null){var n=J,i=Y;e.e=null;try{for(var r=0;r<a.length;r++){var s=a[r];Rt(s.effect),ct(s.reaction),du(s.fn)}}finally{Rt(n),ct(i)}}ee=e.p,e.m=!0}return{}}function mi(){return!An||ee!==null&&ee.l===null}function jt(t){if(typeof t!="object"||t===null||gn in t)return t;const e=ta(t);if(e!==Xh&&e!==Jh)return t;var n=new Map,i=Xl(t),r=xt(0),s=Y,a=o=>{var l=Y;ct(s);var u=o();return ct(l),u};return i&&n.set("length",xt(t.length)),new Proxy(t,{defineProperty(o,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&cd();var c=n.get(l);return c===void 0?(c=a(()=>xt(u.value)),n.set(l,c)):re(c,a(()=>jt(u.value))),!0},deleteProperty(o,l){var u=n.get(l);if(u===void 0)l in o&&(n.set(l,a(()=>xt(Ae))),Or(r));else{if(i&&typeof l=="string"){var c=n.get("length"),d=Number(l);Number.isInteger(d)&&d<c.v&&re(c,d)}re(u,Ae),Or(r)}return!0},get(o,l,u){var f;if(l===gn)return t;var c=n.get(l),d=l in o;if(c===void 0&&(!d||(f=pn(o,l))!=null&&f.writable)&&(c=a(()=>xt(jt(d?o[l]:Ae))),n.set(l,c)),c!==void 0){var h=G(c);return h===Ae?void 0:h}return Reflect.get(o,l,u)},getOwnPropertyDescriptor(o,l){var u=Reflect.getOwnPropertyDescriptor(o,l);if(u&&"value"in u){var c=n.get(l);c&&(u.value=G(c))}else if(u===void 0){var d=n.get(l),h=d==null?void 0:d.v;if(d!==void 0&&h!==Ae)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(o,l){var h;if(l===gn)return!0;var u=n.get(l),c=u!==void 0&&u.v!==Ae||Reflect.has(o,l);if(u!==void 0||J!==null&&(!c||(h=pn(o,l))!=null&&h.writable)){u===void 0&&(u=a(()=>xt(c?jt(o[l]):Ae)),n.set(l,u));var d=G(u);if(d===Ae)return!1}return c},set(o,l,u,c){var _;var d=n.get(l),h=l in o;if(i&&l==="length")for(var f=u;f<d.v;f+=1){var g=n.get(f+"");g!==void 0?re(g,Ae):f in o&&(g=a(()=>xt(Ae)),n.set(f+"",g))}d===void 0?(!h||(_=pn(o,l))!=null&&_.writable)&&(d=a(()=>xt(void 0)),re(d,a(()=>jt(u))),n.set(l,d)):(h=d.v!==Ae,re(d,a(()=>jt(u))));var p=Reflect.getOwnPropertyDescriptor(o,l);if(p!=null&&p.set&&p.set.call(c,u),!h){if(i&&typeof l=="string"){var b=n.get("length"),m=Number(l);Number.isInteger(m)&&m>=b.v&&re(b,m+1)}Or(r)}return!0},ownKeys(o){G(r);var l=Reflect.ownKeys(o).filter(d=>{var h=n.get(d);return h===void 0||h.v!==Ae});for(var[u,c]of n)c.v!==Ae&&!(u in o)&&l.push(u);return l},setPrototypeOf(){hd()}})}function Or(t,e=1){re(t,t.v+e)}function ii(t){var e=Ze|ut,n=Y!==null&&(Y.f&Ze)!==0?Y:null;return J===null||n!==null&&(n.f&Be)!==0?e|=Be:J.f|=Ql,{ctx:ee,deps:null,effects:null,equals:eu,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??J}}function Sd(t){const e=ii(t);return e.equals=ra,e}function nu(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Jt(e[n])}}function Ed(t){for(var e=t.parent;e!==null;){if((e.f&Ze)===0)return e;e=e.parent}return null}function iu(t){var e,n=J;Rt(Ed(t));try{nu(t),e=Su(t)}finally{Rt(n)}return e}function ru(t){var e=iu(t),n=(Ft||(t.f&Be)!==0)&&t.deps!==null?nn:Re;Qe(t,n),t.equals(e)||(t.v=e,t.wv=wu())}const ri=new Map;function wr(t,e){var n={f:0,v:t,reactions:null,equals:eu,rv:0,wv:0};return n}function xt(t,e){const n=wr(t);return Dd(n),n}function ln(t,e=!1){var i;const n=wr(t);return e||(n.equals=ra),An&&ee!==null&&ee.l!==null&&((i=ee.l).s??(i.s=[])).push(n),n}function re(t,e,n=!1){Y!==null&&!rt&&mi()&&(Y.f&(Ze|na))!==0&&!(ke!=null&&ke.includes(t))&&dd();let i=n?jt(e):e;return Td(t,i)}function Td(t,e){if(!t.equals(e)){var n=t.v;_i?ri.set(t,e):ri.set(t,n),t.v=e,(t.f&Ze)!==0&&((t.f&ut)!==0&&iu(t),Qe(t,(t.f&Be)===0?Re:nn)),t.wv=wu(),su(t,ut),mi()&&J!==null&&(J.f&Re)!==0&&(J.f&(wt|kn))===0&&(qe===null?Ld([t]):qe.push(t))}return e}function Ua(t,e=1){var n=G(t),i=e===1?n++:n--;return re(t,n),i}function su(t,e){var n=t.reactions;if(n!==null)for(var i=mi(),r=n.length,s=0;s<r;s++){var a=n[s],o=a.f;(o&ut)===0&&(!i&&a===J||(Qe(a,e),(o&(Re|Be))!==0&&((o&Ze)!==0?su(a,nn):Sr(a))))}}var Ga,au,ou,lu;function kd(){if(Ga===void 0){Ga=window,au=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;ou=pn(e,"firstChild").get,lu=pn(e,"nextSibling").get,Ha(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ha(n)&&(n.__t=void 0)}}function uu(t=""){return document.createTextNode(t)}function Mt(t){return ou.call(t)}function sa(t){return lu.call(t)}function W(t,e){return Mt(t)}function Ad(t,e){{var n=Mt(t);return n instanceof Comment&&n.data===""?sa(n):n}}function V(t,e=1,n=!1){let i=t;for(;e--;)i=sa(i);return i}function cu(t){J===null&&Y===null&&od(),Y!==null&&(Y.f&Be)!==0&&J===null&&ad(),_i&&sd()}function Md(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function In(t,e,n,i=!0){var r=J,s={ctx:ee,deps:null,nodes_start:null,nodes_end:null,f:t|ut,first:null,fn:e,last:null,next:null,parent:r,prev:null,teardown:null,transitions:null,wv:0};if(n)try{aa(s),s.f|=Qh}catch(l){throw Jt(s),l}else e!==null&&Sr(s);var a=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Ql|Yi))===0;if(!a&&i&&(r!==null&&Md(s,r),Y!==null&&(Y.f&Ze)!==0)){var o=Y;(o.effects??(o.effects=[])).push(s)}return s}function hu(t){const e=In(yr,null,!1);return Qe(e,Re),e.teardown=t,e}function ss(t){cu();var e=J!==null&&(J.f&wt)!==0&&ee!==null&&!ee.m;if(e){var n=ee;(n.e??(n.e=[])).push({fn:t,effect:J,reaction:Y})}else{var i=du(t);return i}}function Fd(t){return cu(),fu(t)}function Id(t){const e=In(kn,t,!0);return(n={})=>new Promise(i=>{n.outro?os(e,()=>{Jt(e),i(void 0)}):(Jt(e),i(void 0))})}function du(t){return In(Zl,t,!1)}function fu(t){return In(yr,t,!0)}function Gt(t,e=[],n=ii){const i=e.map(n);return pu(()=>t(...i.map(G)))}function pu(t,e=0){return In(yr|na|e,t,!0)}function as(t,e=!0){return In(yr|wt,t,!0,e)}function gu(t){var e=t.teardown;if(e!==null){const n=_i,i=Y;Ya(!0),ct(null);try{e.call(null)}finally{Ya(n),ct(i)}}}function vu(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var i=n.next;(n.f&kn)!==0?n.parent=null:Jt(n,e),n=i}}function Pd(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&wt)===0&&Jt(e),e=n}}function Jt(t,e=!0){var n=!1;(e||(t.f&td)!==0)&&t.nodes_start!==null&&(Cd(t.nodes_start,t.nodes_end),n=!0),vu(t,e&&!n),er(t,0),Qe(t,br);var i=t.transitions;if(i!==null)for(const s of i)s.stop();gu(t);var r=t.parent;r!==null&&r.first!==null&&mu(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Cd(t,e){for(;t!==null;){var n=t===e?null:sa(t);t.remove(),t=n}}function mu(t){var e=t.parent,n=t.prev,i=t.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=n))}function os(t,e){var n=[];_u(t,n,!0),Rd(n,()=>{Jt(t),e&&e()})}function Rd(t,e){var n=t.length;if(n>0){var i=()=>--n||e();for(var r of t)r.out(i)}else e()}function _u(t,e,n){if((t.f&bn)===0){if(t.f^=bn,t.transitions!==null)for(const a of t.transitions)(a.is_global||n)&&e.push(a);for(var i=t.first;i!==null;){var r=i.next,s=(i.f&ia)!==0||(i.f&wt)!==0;_u(i,e,s?n:!1),i=r}}}function Ka(t){yu(t,!0)}function yu(t,e){if((t.f&bn)!==0){t.f^=bn,(t.f&Re)===0&&(t.f^=Re),yi(t)&&(Qe(t,ut),Sr(t));for(var n=t.first;n!==null;){var i=n.next,r=(n.f&ia)!==0||(n.f&wt)!==0;yu(n,r?e:!1),n=i}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Ji=[];function Od(){var t=Ji;Ji=[],is(t)}function $d(t){Ji.length===0&&queueMicrotask(Od),Ji.push(t)}let Ni=!1,ls=!1,Zi=null,Kt=!1,_i=!1;function Ya(t){_i=t}let Vi=[];let Y=null,rt=!1;function ct(t){Y=t}let J=null;function Rt(t){J=t}let ke=null;function Dd(t){Y!==null&&Y.f&rs&&(ke===null?ke=[t]:ke.push(t))}let Ee=null,Ne=0,qe=null;function Ld(t){qe=t}let bu=1,Qi=0,Ft=!1;function wu(){return++bu}function yi(t){var d;var e=t.f;if((e&ut)!==0)return!0;if((e&nn)!==0){var n=t.deps,i=(e&Be)!==0;if(n!==null){var r,s,a=(e&Xi)!==0,o=i&&J!==null&&!Ft,l=n.length;if(a||o){var u=t,c=u.parent;for(r=0;r<l;r++)s=n[r],(a||!((d=s==null?void 0:s.reactions)!=null&&d.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);a&&(u.f^=Xi),o&&c!==null&&(c.f&Be)===0&&(u.f^=Be)}for(r=0;r<l;r++)if(s=n[r],yi(s)&&ru(s),s.wv>t.wv)return!0}(!i||J!==null&&!Ft)&&Qe(t,Re)}return!1}function Nd(t,e){for(var n=e;n!==null;){if((n.f&Yi)!==0)try{n.fn(t);return}catch{n.f^=Yi}n=n.parent}throw Ni=!1,t}function Xa(t){return(t.f&br)===0&&(t.parent===null||(t.parent.f&Yi)===0)}function xr(t,e,n,i){if(Ni){if(n===null&&(Ni=!1),Xa(e))throw t;return}if(n!==null&&(Ni=!0),Nd(t,e),Xa(e))throw t}function xu(t,e,n=!0){var i=t.reactions;if(i!==null)for(var r=0;r<i.length;r++){var s=i[r];ke!=null&&ke.includes(t)||((s.f&Ze)!==0?xu(s,e,!1):e===s&&(n?Qe(s,ut):(s.f&Re)!==0&&Qe(s,nn),Sr(s)))}}function Su(t){var f;var e=Ee,n=Ne,i=qe,r=Y,s=Ft,a=ke,o=ee,l=rt,u=t.f;Ee=null,Ne=0,qe=null,Ft=(u&Be)!==0&&(rt||!Kt||Y===null),Y=(u&(wt|kn))===0?t:null,ke=null,za(t.ctx),rt=!1,Qi++,t.f|=rs;try{var c=(0,t.fn)(),d=t.deps;if(Ee!==null){var h;if(er(t,Ne),d!==null&&Ne>0)for(d.length=Ne+Ee.length,h=0;h<Ee.length;h++)d[Ne+h]=Ee[h];else t.deps=d=Ee;if(!Ft)for(h=Ne;h<d.length;h++)((f=d[h]).reactions??(f.reactions=[])).push(t)}else d!==null&&Ne<d.length&&(er(t,Ne),d.length=Ne);if(mi()&&qe!==null&&!rt&&d!==null&&(t.f&(Ze|nn|ut))===0)for(h=0;h<qe.length;h++)xu(qe[h],t);return r!==null&&r!==t&&(Qi++,qe!==null&&(i===null?i=qe:i.push(...qe))),c}finally{Ee=e,Ne=n,qe=i,Y=r,Ft=s,ke=a,za(o),rt=l,t.f^=rs}}function Vd(t,e){let n=e.reactions;if(n!==null){var i=Gh.call(n,t);if(i!==-1){var r=n.length-1;r===0?n=e.reactions=null:(n[i]=n[r],n.pop())}}n===null&&(e.f&Ze)!==0&&(Ee===null||!Ee.includes(e))&&(Qe(e,nn),(e.f&(Be|Xi))===0&&(e.f^=Xi),nu(e),er(e,0))}function er(t,e){var n=t.deps;if(n!==null)for(var i=e;i<n.length;i++)Vd(t,n[i])}function aa(t){var e=t.f;if((e&br)===0){Qe(t,Re);var n=J,i=ee,r=Kt;J=t,Kt=!0;try{(e&na)!==0?Pd(t):vu(t),gu(t);var s=Su(t);t.teardown=typeof s=="function"?s:null,t.wv=bu;var a=t.deps,o;Wa&&fd&&t.f&ut}catch(l){xr(l,t,n,i||t.ctx)}finally{Kt=r,J=n}}}function Bd(){try{ld()}catch(t){if(Zi!==null)xr(t,Zi,null);else throw t}}function qd(){var t=Kt;try{var e=0;for(Kt=!0;Vi.length>0;){e++>1e3&&Bd();var n=Vi,i=n.length;Vi=[];for(var r=0;r<i;r++){var s=Wd(n[r]);jd(s)}ri.clear()}}finally{ls=!1,Kt=t,Zi=null}}function jd(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var i=t[n];if((i.f&(br|bn))===0)try{yi(i)&&(aa(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?mu(i):i.fn=null))}catch(r){xr(r,i,null,i.ctx)}}}function Sr(t){ls||(ls=!0,queueMicrotask(qd));for(var e=Zi=t;e.parent!==null;){e=e.parent;var n=e.f;if((n&(kn|wt))!==0){if((n&Re)===0)return;e.f^=Re}}Vi.push(e)}function Wd(t){for(var e=[],n=t;n!==null;){var i=n.f,r=(i&(wt|kn))!==0,s=r&&(i&Re)!==0;if(!s&&(i&bn)===0){if((i&Zl)!==0)e.push(n);else if(r)n.f^=Re;else try{yi(n)&&aa(n)}catch(l){xr(l,n,null,n.ctx)}var a=n.first;if(a!==null){n=a;continue}}var o=n.parent;for(n=n.next;n===null&&o!==null;)n=o.next,o=o.parent}return e}function G(t){var e=t.f,n=(e&Ze)!==0;if(Y!==null&&!rt){if(!(ke!=null&&ke.includes(t))){var i=Y.deps;t.rv<Qi&&(t.rv=Qi,Ee===null&&i!==null&&i[Ne]===t?Ne++:Ee===null?Ee=[t]:(!Ft||!Ee.includes(t))&&Ee.push(t))}}else if(n&&t.deps===null&&t.effects===null){var r=t,s=r.parent;s!==null&&(s.f&Be)===0&&(r.f^=Be)}return n&&(r=t,yi(r)&&ru(r)),_i&&ri.has(t)?ri.get(t):t.v}function si(t){var e=rt;try{return rt=!0,t()}finally{rt=e}}const Hd=-7169;function Qe(t,e){t.f=t.f&Hd|e}function zd(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(gn in t)us(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&gn in n&&us(n)}}}function us(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{us(t[i],e)}catch{}const n=ta(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=Jl(n);for(let r in i){const s=i[r].get;if(s)try{s.call(t)}catch{}}}}}const Ud=["touchstart","touchmove"];function Gd(t){return Ud.includes(t)}let Ja=!1;function Kd(){Ja||(Ja=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Eu(t){var e=Y,n=J;ct(null),Rt(null);try{return t()}finally{ct(e),Rt(n)}}function Yd(t,e,n,i=n){t.addEventListener(e,()=>Eu(n));const r=t.__on_r;r?t.__on_r=()=>{r(),i(!0)}:t.__on_r=()=>i(!0),Kd()}const Xd=new Set,Za=new Set;function Jd(t,e,n,i={}){function r(s){if(i.capture||jn.call(e,s),!s.cancelBubble)return Eu(()=>n==null?void 0:n.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?$d(()=>{e.addEventListener(t,r,i)}):e.addEventListener(t,r,i),r}function vn(t,e,n,i,r){var s={capture:i,passive:r},a=Jd(t,e,n,s);(e===document.body||e===window||e===document)&&hu(()=>{e.removeEventListener(t,a,s)})}function jn(t){var _;var e=this,n=e.ownerDocument,i=t.type,r=((_=t.composedPath)==null?void 0:_.call(t))||[],s=r[0]||t.target,a=0,o=t.__root;if(o){var l=r.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=r.indexOf(e);if(u===-1)return;l<=u&&(a=l)}if(s=r[a]||t.target,s!==e){Yh(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=Y,d=J;ct(null),Rt(null);try{for(var h,f=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+i];if(p!=null&&(!s.disabled||t.target===s))if(Xl(p)){var[b,...m]=p;b.apply(s,[t,...m])}else p.call(s,t)}catch(S){h?f.push(S):h=S}if(t.cancelBubble||g===e||g===null)break;s=g}if(h){for(let S of f)queueMicrotask(()=>{throw S});throw h}}finally{t.__root=e,delete t.currentTarget,ct(c),Rt(d)}}}function Tu(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function tr(t,e){var n=J;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Oe(t,e){var n=(e&yd)!==0,i=(e&bd)!==0,r,s=!t.startsWith("<!>");return()=>{r===void 0&&(r=Tu(s?t:"<!>"+t),n||(r=Mt(r)));var a=i||au?document.importNode(r,!0):r.cloneNode(!0);if(n){var o=Mt(a),l=a.lastChild;tr(o,l)}else tr(a,a);return a}}function Zd(t,e,n="svg"){var i=!t.startsWith("<!>"),r=`<${n}>${i?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var a=Tu(r),o=Mt(a);for(s=document.createDocumentFragment();Mt(o);)s.appendChild(Mt(o))}var l=s.cloneNode(!0);{var u=Mt(l),c=l.lastChild;tr(u,c)}return l}}function Qd(t=""){{var e=uu(t+"");return tr(e,e),e}}function _e(t,e){t!==null&&t.before(e)}function wn(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function ef(t,e){return tf(t,e)}const an=new Map;function tf(t,{target:e,anchor:n,props:i={},events:r,context:s,intro:a=!0}){kd();var o=new Set,l=d=>{for(var h=0;h<d.length;h++){var f=d[h];if(!o.has(f)){o.add(f);var g=Gd(f);e.addEventListener(f,jn,{passive:g});var p=an.get(f);p===void 0?(document.addEventListener(f,jn,{passive:g}),an.set(f,1)):an.set(f,p+1)}}};l(Kh(Xd)),Za.add(l);var u=void 0,c=Id(()=>{var d=n??e.appendChild(uu());return as(()=>{if(s){Mn({});var h=ee;h.c=s}r&&(i.$$events=r),u=t(d,i)||{},s&&Fn()}),()=>{var g;for(var h of o){e.removeEventListener(h,jn);var f=an.get(h);--f===0?(document.removeEventListener(h,jn),an.delete(h)):an.set(h,f)}Za.delete(l),d!==n&&((g=d.parentNode)==null||g.removeChild(d))}});return nf.set(u,c),u}let nf=new WeakMap;function Bi(t,e,[n,i]=[0,0]){var r=t,s=null,a=null,o=Ae,l=n>0?ia:0,u=!1;const c=(h,f=!0)=>{u=!0,d(f,h)},d=(h,f)=>{o!==(o=h)&&(o?(s?Ka(s):f&&(s=as(()=>f(r))),a&&os(a,()=>{a=null})):(a?Ka(a):f&&(a=as(()=>f(r,[n+1,i]))),s&&os(s,()=>{s=null})))};pu(()=>{u=!1,e(c),u||d(null,null)},l)}function rf(t,e,n){var i=t==null?"":""+t;return i===""?null:i}function ku(t,e,n,i,r,s){var a=t.__className;if(a!==n||a===void 0){var o=rf(n);o==null?t.removeAttribute("class"):t.className=o,t.__className=n}return s}const sf=Symbol("is custom element"),af=Symbol("is html");function Zt(t,e,n,i){var r=of(t);r[e]!==(r[e]=n)&&(e==="loading"&&(t[id]=n),n==null?t.removeAttribute(e):typeof n!="string"&&lf(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function of(t){return t.__attributes??(t.__attributes={[sf]:t.nodeName.includes("-"),[af]:t.namespaceURI===wd})}var Qa=new Map;function lf(t){var e=Qa.get(t.nodeName);if(e)return e;Qa.set(t.nodeName,e=[]);for(var n,i=t,r=Element.prototype;r!==i;){n=Jl(i);for(var s in n)n[s].set&&e.push(s);i=ta(i)}return e}function eo(t,e,n=e){var i=mi();Yd(t,"input",r=>{var s=r?t.defaultValue:t.value;if(s=$r(t)?Dr(s):s,n(s),i&&s!==(s=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=s??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),si(e)==null&&t.value&&n($r(t)?Dr(t.value):t.value),fu(()=>{var r=e();$r(t)&&r===Dr(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function $r(t){var e=t.type;return e==="number"||e==="range"}function Dr(t){return t===""?null:+t}function uf(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}function bi(t=!1){const e=ee,n=e.l.u;if(!n)return;let i=()=>zd(e.s);if(t){let r=0,s={};const a=ii(()=>{let o=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],o=!0);return o&&r++,r});i=()=>G(a)}n.b.length&&Fd(()=>{to(e,i),is(n.b)}),ss(()=>{const r=si(()=>n.m.map(Zh));return()=>{for(const s of r)typeof s=="function"&&s()}}),n.a.length&&ss(()=>{to(e,i),is(n.a)})}function to(t,e){if(t.l.s)for(const n of t.l.s)G(n);e()}let Ai=!1;function cf(t){var e=Ai;try{return Ai=!1,[t(),Ai]}finally{Ai=e}}const hf={get(t,e){if(!t.exclude.includes(e))return G(t.version),e in t.special?t.special[e]():t.props[e]},set(t,e,n){return e in t.special||(t.special[e]=Xe({get[e](){return t.props[e]}},e,tu)),t.special[e](n),Ua(t.version),!0},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},deleteProperty(t,e){return t.exclude.includes(e)||(t.exclude.push(e),Ua(t.version)),!0},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function no(t,e){return new Proxy({props:t,exclude:e,special:{},version:wr(0)},hf)}function io(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function Xe(t,e,n,i){var C;var r=(n&gd)!==0,s=!An||(n&vd)!==0,a=(n&md)!==0,o=(n&_d)!==0,l=!1,u;a?[u,l]=cf(()=>t[e]):u=t[e];var c=gn in t||nd in t,d=a&&(((C=pn(t,e))==null?void 0:C.set)??(c&&e in t&&(F=>t[e]=F)))||void 0,h=i,f=!0,g=!1,p=()=>(g=!0,f&&(f=!1,o?h=si(i):h=i),h);u===void 0&&i!==void 0&&(d&&s&&ud(),u=p(),d&&d(u));var b;if(s)b=()=>{var F=t[e];return F===void 0?p():(f=!0,g=!1,F)};else{var m=(r?ii:Sd)(()=>t[e]);m.f|=ed,b=()=>{var F=G(m);return F!==void 0&&(h=void 0),F===void 0?h:F}}if((n&tu)===0)return b;if(d){var _=t.$$legacy;return function(F,w){return arguments.length>0?((!s||!w||_||l)&&d(w?b():F),F):b()}}var S=!1,T=ln(u),x=ii(()=>{var F=b(),w=G(T);return S?(S=!1,w):T.v=F});return a&&G(x),r||(x.equals=ra),function(F,w){if(arguments.length>0){const R=w?G(x):s&&a?jt(F):F;if(!x.equals(R)){if(S=!0,re(T,R),g&&h!==void 0&&(h=R),io(x))return F;si(()=>G(x))}return F}return io(x)?x.v:G(x)}}function wi(t){ee===null&&xd(),An&&ee.l!==null?df(ee).m.push(t):ss(()=>{const e=si(t);if(typeof e=="function")return e})}function df(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const ff="5";var Yl;typeof window<"u"&&((Yl=window.__svelte??(window.__svelte={})).v??(Yl.v=new Set)).add(ff);pd();const Au="/assets/verdian_logo-C0i7mwVJ.png",Te=t=>!!(t&&t.getVelocity);function oa(t){return typeof t=="object"&&!Array.isArray(t)}function Er(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=(n==null?void 0:n[t])??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function Mu(t,e,n,i){return typeof t=="string"&&oa(e)?Er(t,n,i):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function pf(t,e,n){return t*(e+1)}function ro(t,e,n,i){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:i.get(e)??t}const xi=(t,e,n)=>t+(e-t)*n,gf=(t,e,n)=>{const i=e-t;return((n-t)%i+i)%i+t},Fu=t=>Array.isArray(t)&&typeof t[0]!="number";function Iu(t,e){return Fu(t)?t[gf(0,t.length,e)]:t}function vf(t,e){t.indexOf(e)===-1&&t.push(e)}function Pu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function mf(t,e,n){for(let i=0;i<t.length;i++){const r=t[i];r.at>e&&r.at<n&&(Pu(t,r),i--)}}function _f(t,e,n,i,r,s){mf(t,r,s);for(let a=0;a<e.length;a++)t.push({value:e[a],at:xi(r,s,i[a]),easing:Iu(n,a)})}function yf(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function bf(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Tr=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};function Cu(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Tr(0,e,i);t.push(xi(n,1,r))}}function la(t){const e=[0];return Cu(e,t.length-1),e}function ua(t){return typeof t=="function"&&"applyToOptions"in t}const nr=2e4;function ca(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<nr;)e+=n,i=t.next(e);return e>=nr?1/0:e}const ot=t=>t*1e3,_t=t=>t/1e3;function Ru(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(ca(i),nr);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:_t(r)}}let ha=()=>{};const wf="easeInOut";function xf(t,{defaultTransition:e={},...n}={},i,r){const s=e.duration||.3,a=new Map,o=new Map,l={},u=new Map;let c=0,d=0,h=0;for(let f=0;f<t.length;f++){const g=t[f];if(typeof g=="string"){u.set(g,d);continue}else if(!Array.isArray(g)){u.set(g.name,ro(d,g.at,c,u));continue}let[p,b,m={}]=g;m.at!==void 0&&(d=ro(d,m.at,c,u));let _=0;const S=(T,x,C,F=0,w=0)=>{const R=Sf(T),{delay:q=0,times:z=la(R),type:he="keyframes",repeat:pe,repeatType:$e,repeatDelay:De=0,...et}=x;let{ease:le=e.ease||"easeOut",duration:Z}=x;const xe=typeof q=="function"?q(F,w):q,Le=R.length,Ke=ua(he)?he:r==null?void 0:r[he];if(Le<=2&&Ke){let P=100;if(Le===2&&kf(R)){const B=R[1]-R[0];P=Math.abs(B)}const O={...et};Z!==void 0&&(O.duration=ot(Z));const D=Ru(O,P,Ke);le=D.ease,Z=D.duration}Z??(Z=s);const se=d+xe;z.length===1&&z[0]===0&&(z[1]=1);const y=z.length-R.length;if(y>0&&Cu(z,y),R.length===1&&R.unshift(null),pe){Z=pf(Z,pe);const P=[...R],O=[...z];le=Array.isArray(le)?[...le]:[le];const D=[...le];for(let B=0;B<pe;B++){R.push(...P);for(let H=0;H<P.length;H++)z.push(O[H]+(B+1)),le.push(H===0?"linear":Iu(D,H-1))}yf(z,pe)}const E=se+Z;_f(C,R,le,z,se,E),_=Math.max(xe+Z,_),h=Math.max(E,h)};if(Te(p)){const T=so(p,o);S(b,m,ao("default",T))}else{const T=Mu(p,b,i,l),x=T.length;for(let C=0;C<x;C++){b=b,m=m;const F=T[C],w=so(F,o);for(const R in b)S(b[R],Ef(m,R),ao(R,w),C,x)}}c=d,d+=_}return o.forEach((f,g)=>{for(const p in f){const b=f[p];b.sort(bf);const m=[],_=[],S=[];for(let x=0;x<b.length;x++){const{at:C,value:F,easing:w}=b[x];m.push(F),_.push(Tr(0,h,C)),S.push(w||"easeOut")}_[0]!==0&&(_.unshift(0),m.unshift(m[0]),S.unshift(wf)),_[_.length-1]!==1&&(_.push(1),m.push(null)),a.has(g)||a.set(g,{keyframes:{},transition:{}});const T=a.get(g);T.keyframes[p]=m,T.transition[p]={...e,duration:h,ease:S,times:_,...n}}}),a}function so(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function ao(t,e){return e[t]||(e[t]=[]),e[t]}function Sf(t){return Array.isArray(t)?t:[t]}function Ef(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Tf=t=>typeof t=="number",kf=t=>t.every(Tf),ai=new WeakMap,Af=t=>Array.isArray(t);function oo(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Ou(t,e,n,i){if(typeof e=="function"){const[r,s]=oo(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=oo(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function Mf(t,e,n){const i=t.getProps();return Ou(i,e,i.custom,t)}const Mi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ff(t,e){let n=new Set,i=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){a.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,d=!1,h=!1)=>{const g=h&&r?n:i;return d&&a.add(c),g.has(c)||g.add(c),c},cancel:c=>{i.delete(c),a.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(l),n.clear(),r=!1,s&&(s=!1,u.process(c))}};return u}const bt={},If=40;function Pf(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Mi.reduce((S,T)=>(S[T]=Ff(s),S),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:f,postRender:g}=a,p=()=>{const S=bt.useManualTiming?r.timestamp:performance.now();n=!1,bt.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(S-r.timestamp,If),1)),r.timestamp=S,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),c.process(r),d.process(r),h.process(r),f.process(r),g.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(p))},b=()=>{n=!0,i=!0,r.isProcessing||t(p)};return{schedule:Mi.reduce((S,T)=>{const x=a[T];return S[T]=(C,F=!1,w=!1)=>(n||b(),x.schedule(C,F,w)),S},{}),cancel:S=>{for(let T=0;T<Mi.length;T++)a[Mi[T]].cancel(S)},state:r,steps:a}}const Pn=t=>t,{schedule:Ie,cancel:oi,state:li}=Pf(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0);let qi;function Cf(){qi=void 0}const We={now:()=>(qi===void 0&&We.set(li.isProcessing||bt.useManualTiming?li.timestamp:performance.now()),qi),set:t=>{qi=t,queueMicrotask(Cf)}};class $u{constructor(){this.subscriptions=[]}add(e){return vf(this.subscriptions,e),()=>Pu(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function da(t,e){return e?t*(1e3/e):0}const lo=30,Rf=t=>!isNaN(parseFloat(t));class Of{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{var a,o;const s=We.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=We.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Rf(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $u);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=We.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lo)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lo);return da(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ui(t,e){return new Of(t,e)}function $f(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ui(n))}function Df(t){return Af(t)?t[t.length-1]||0:t}function Lf(t,e){const n=Mf(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const a in s){const o=Df(s[a]);$f(t,a,o)}}function Nf(t){return!!(Te(t)&&t.add)}function Vf(t,e){const n=t.getValue("willChange");if(Nf(n))return n.add(e);if(!n&&bt.WillChange){const i=new bt.WillChange("auto");t.addValue("willChange",i),i.add(e)}}const fa=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bf="framerAppearId",qf="data-"+fa(Bf);function jf(t){return t.props[qf]}const Wf=t=>t!==null;function Hf(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(Wf),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[s]}const Cn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rn=new Set(Cn),zf={type:"spring",stiffness:500,damping:25,restSpeed:10},Uf=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Gf={type:"keyframes",duration:.8},Kf={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yf=(t,{keyframes:e})=>e.length>2?Gf:Rn.has(t)?t.startsWith("scale")?Uf(e[1]):zf:Kf;function Xf({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Du(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Lu=t=>e=>typeof e=="string"&&e.startsWith(t),Nu=Lu("--"),Jf=Lu("var(--"),pa=t=>Jf(t)?Zf.test(t.split("/*")[0].trim()):!1,Zf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ot=(t,e,n)=>n>e?e:n<t?t:n,On={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ci={...On,transform:t=>Ot(0,1,t)},Fi={...On,default:1},Jn=t=>Math.round(t*1e5)/1e5,ga=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Qf(t){return t==null}const ep=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,va=(t,e)=>n=>!!(typeof n=="string"&&ep.test(n)&&n.startsWith(t)||e&&!Qf(n)&&Object.prototype.hasOwnProperty.call(n,e)),Vu=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,a,o]=i.match(ga);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},tp=t=>Ot(0,255,t),Lr={...On,transform:t=>Math.round(tp(t))},Ht={test:va("rgb","red"),parse:Vu("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Lr.transform(t)+", "+Lr.transform(e)+", "+Lr.transform(n)+", "+Jn(ci.transform(i))+")"};function np(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const cs={test:va("#"),parse:np,transform:Ht.transform},Si=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tt=Si("deg"),mn=Si("%"),$=Si("px"),ip=Si("vh"),rp=Si("vw"),uo={...mn,parse:t=>mn.parse(t)/100,transform:t=>mn.transform(t*100)},cn={test:va("hsl","hue"),parse:Vu("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+mn.transform(Jn(e))+", "+mn.transform(Jn(n))+", "+Jn(ci.transform(i))+")"},me={test:t=>Ht.test(t)||cs.test(t)||cn.test(t),parse:t=>Ht.test(t)?Ht.parse(t):cn.test(t)?cn.parse(t):cs.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ht.transform(t):cn.transform(t)},sp=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ap(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ga))==null?void 0:e.length)||0)+(((n=t.match(sp))==null?void 0:n.length)||0)>0}const Bu="number",qu="color",op="var",lp="var(",co="${}",up=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hi(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(up,l=>(me.test(l)?(i.color.push(s),r.push(qu),n.push(me.parse(l))):l.startsWith(lp)?(i.var.push(s),r.push(op),n.push(l)):(i.number.push(s),r.push(Bu),n.push(parseFloat(l))),++s,co)).split(co);return{values:n,split:o,indexes:i,types:r}}function ju(t){return hi(t).values}function Wu(t){const{split:e,types:n}=hi(t),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const o=n[a];o===Bu?s+=Jn(r[a]):o===qu?s+=me.transform(r[a]):s+=r[a]}return s}}const cp=t=>typeof t=="number"?0:t;function hp(t){const e=ju(t);return Wu(t)(e.map(cp))}const $n={test:ap,parse:ju,createTransformer:Wu,getAnimatableNone:hp};function Nr(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dp({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,a=0;if(!e)r=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=Nr(l,o,t+1/3),s=Nr(l,o,t),a=Nr(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function ir(t,e){return n=>n>0?e:t}const Vr=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},fp=[cs,Ht,cn],pp=t=>fp.find(e=>e.test(t));function ho(t){const e=pp(t);if(!e)return!1;let n=e.parse(t);return e===cn&&(n=dp(n)),n}const fo=(t,e)=>{const n=ho(t),i=ho(e);if(!n||!i)return ir(t,e);const r={...n};return s=>(r.red=Vr(n.red,i.red,s),r.green=Vr(n.green,i.green,s),r.blue=Vr(n.blue,i.blue,s),r.alpha=xi(n.alpha,i.alpha,s),Ht.transform(r))},hs=new Set(["none","hidden"]);function gp(t,e){return hs.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const vp=(t,e)=>n=>e(t(n)),ma=(...t)=>t.reduce(vp);function mp(t,e){return n=>xi(t,e,n)}function _a(t){return typeof t=="number"?mp:typeof t=="string"?pa(t)?ir:me.test(t)?fo:bp:Array.isArray(t)?Hu:typeof t=="object"?me.test(t)?fo:_p:ir}function Hu(t,e){const n=[...t],i=n.length,r=t.map((s,a)=>_a(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)n[a]=r[a](s);return n}}function _p(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=_a(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function yp(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],a=t.indexes[s][i[s]],o=t.values[a]??0;n[r]=o,i[s]++}return n}const bp=(t,e)=>{const n=$n.createTransformer(e),i=hi(t),r=hi(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?hs.has(t)&&!r.values.length||hs.has(e)&&!i.values.length?gp(t,e):ma(Hu(yp(i,r),r.values),n):ir(t,e)};function zu(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xi(t,e,n):_a(t)(t,e)}const wp=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ie.update(e,n),stop:()=>oi(e),now:()=>li.isProcessing?li.timestamp:We.now()}},Uu=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(s/(r-1))+", ";return`linear(${i.substring(0,i.length-2)})`},xp=5;function Gu(t,e,n){const i=Math.max(e-xp,0);return da(n-t(i),e-i)}const te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},po=.001;function Sp({duration:t=te.duration,bounce:e=te.bounce,velocity:n=te.velocity,mass:i=te.mass}){let r,s,a=1-e;a=Ot(te.minDamping,te.maxDamping,a),t=Ot(te.minDuration,te.maxDuration,_t(t)),a<1?(r=u=>{const c=u*a,d=c*t,h=c-n,f=ds(u,a),g=Math.exp(-d);return po-h/f*g},s=u=>{const d=u*a*t,h=d*n+n,f=Math.pow(a,2)*Math.pow(u,2)*t,g=Math.exp(-d),p=ds(Math.pow(u,2),a);return(-r(u)+po>0?-1:1)*((h-f)*g)/p}):(r=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-.001+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const o=5/t,l=Tp(r,s,o);if(t=ot(t),isNaN(l))return{stiffness:te.stiffness,damping:te.damping,duration:t};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:t}}}const Ep=12;function Tp(t,e,n){let i=n;for(let r=1;r<Ep;r++)i=i-t(i)/e(i);return i}function ds(t,e){return t*Math.sqrt(1-e*e)}const kp=["duration","bounce"],Ap=["stiffness","damping","mass"];function go(t,e){return e.some(n=>t[n]!==void 0)}function Mp(t){let e={velocity:te.velocity,stiffness:te.stiffness,damping:te.damping,mass:te.mass,isResolvedFromDuration:!1,...t};if(!go(t,Ap)&&go(t,kp))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Ot(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:te.mass,stiffness:r,damping:s}}else{const n=Sp(t);e={...e,...n,mass:te.mass},e.isResolvedFromDuration=!0}return e}function di(t=te.visualDuration,e=te.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=Mp({...n,velocity:-_t(n.velocity||0)}),g=h||0,p=u/(2*Math.sqrt(l*c)),b=a-s,m=_t(Math.sqrt(l/c)),_=Math.abs(b)<5;i||(i=_?te.restSpeed.granular:te.restSpeed.default),r||(r=_?te.restDelta.granular:te.restDelta.default);let S;if(p<1){const x=ds(m,p);S=C=>{const F=Math.exp(-p*m*C);return a-F*((g+p*m*b)/x*Math.sin(x*C)+b*Math.cos(x*C))}}else if(p===1)S=x=>a-Math.exp(-m*x)*(b+(g+m*b)*x);else{const x=m*Math.sqrt(p*p-1);S=C=>{const F=Math.exp(-p*m*C),w=Math.min(x*C,300);return a-F*((g+p*m*b)*Math.sinh(w)+x*b*Math.cosh(w))/x}}const T={calculatedDuration:f&&d||null,next:x=>{const C=S(x);if(f)o.done=x>=d;else{let F=x===0?g:0;p<1&&(F=x===0?ot(g):Gu(S,x,C));const w=Math.abs(F)<=i,R=Math.abs(a-C)<=r;o.done=w&&R}return o.value=o.done?a:C,o},toString:()=>{const x=Math.min(ca(T),nr),C=Uu(F=>T.next(x*F).value,x,30);return x+"ms "+C},toTransition:()=>{}};return T}di.applyToOptions=t=>{const e=Ru(t,100,di);return t.ease=e.ease,t.duration=ot(e.duration),t.type="keyframes",t};function fs({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=w=>o!==void 0&&w<o||l!==void 0&&w>l,g=w=>o===void 0?l:l===void 0||Math.abs(o-w)<Math.abs(l-w)?o:l;let p=n*e;const b=d+p,m=a===void 0?b:a(b);m!==b&&(p=m-d);const _=w=>-p*Math.exp(-w/i),S=w=>m+_(w),T=w=>{const R=_(w),q=S(w);h.done=Math.abs(R)<=u,h.value=h.done?m:q};let x,C;const F=w=>{f(h.value)&&(x=w,C=di({keyframes:[h.value,g(h.value)],velocity:Gu(S,w,h.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return F(0),{calculatedDuration:null,next:w=>{let R=!1;return!C&&x===void 0&&(R=!0,T(w),F(w)),x!==void 0&&w>=x?C.next(w-x):(!R&&T(w),h)}}}function Fp(t,e,n){const i=[],r=n||bt.mix||zu,s=t.length-1;for(let a=0;a<s;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Pn:e;o=ma(l,o)}i.push(o)}return i}function Ku(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(ha(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Fp(e,i,r),l=o.length,u=c=>{if(a&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Tr(t[d],t[d+1],c);return o[d](h)};return n?c=>u(Ot(t[0],t[s-1],c)):u}function Ip(t,e){return t.map(n=>n*e)}const Yu=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Pp=1e-7,Cp=12;function Rp(t,e,n,i,r){let s,a,o=0;do a=e+(n-e)/2,s=Yu(a,i,r)-t,s>0?n=a:e=a;while(Math.abs(s)>Pp&&++o<Cp);return a}function Ei(t,e,n,i){if(t===e&&n===i)return Pn;const r=s=>Rp(s,0,1,t,n);return s=>s===0||s===1?s:Yu(r(s),e,i)}const Op=Ei(.42,0,1,1),$p=Ei(0,0,.58,1),Xu=Ei(.42,0,.58,1),Ju=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Zu=t=>e=>1-t(1-e),Qu=Ei(.33,1.53,.69,.99),ya=Zu(Qu),ec=Ju(ya),tc=t=>(t*=2)<1?.5*ya(t):.5*(2-Math.pow(2,-10*(t-1))),ba=t=>1-Math.sin(Math.acos(t)),Dp=Zu(ba),nc=Ju(ba),ic=t=>Array.isArray(t)&&typeof t[0]=="number",Lp={linear:Pn,easeIn:Op,easeInOut:Xu,easeOut:$p,circIn:ba,circInOut:nc,circOut:Dp,backIn:ya,backInOut:ec,backOut:Qu,anticipate:tc},Np=t=>typeof t=="string",ps=t=>{if(ic(t)){ha(t.length===4);const[e,n,i,r]=t;return Ei(e,n,i,r)}else if(Np(t))return Lp[t];return t};function Vp(t,e){return t.map(()=>e||Xu).splice(0,t.length-1)}function Zn({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=Fu(i)?i.map(ps):ps(i),s={done:!1,value:e[0]},a=Ip(n&&n.length===e.length?n:la(e),t),o=Ku(a,e,{ease:Array.isArray(r)?r:Vp(e,r)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Bp=t=>t!==null;function wa(t,{repeat:e,repeatType:n="loop"},i,r=1){const s=t.filter(Bp),o=r<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const qp={decay:fs,inertia:fs,tween:Zn,keyframes:Zn,spring:di};function rc(t){typeof t.type=="string"&&(t.type=qp[t.type])}class xa{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const jp=t=>t/100;class Sa extends xa{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{if(n){const{motionValue:r}=this.options;r&&r.updatedAt!==We.now()&&this.tick(We.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:i}=this.options;i&&i()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;rc(e);const{type:n=Zn,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Zn;l!==Zn&&typeof o[0]!="number"&&(this.mixKeyframes=ma(jp,zu(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=ca(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:h,repeatDelay:f,type:g,onUpdate:p,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?m<0:m>r;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let S=this.currentTime,T=i;if(d){const w=Math.min(this.currentTime,r)/o;let R=Math.floor(w),q=w%1;!q&&w>=1&&(q=1),q===1&&R--,R=Math.min(R,d+1),!!(R%2)&&(h==="reverse"?(q=1-q,f&&(q-=f/o)):h==="mirror"&&(T=a)),S=Ot(0,1,q)*o}const x=_?{done:!1,value:c[0]}:T.next(S);s&&(x.value=s(x.value));let{done:C}=x;!_&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return F&&g!==fs&&(x.value=wa(c,this.options,b,this.speed)),p&&p(x.value),F&&this.finish(),x}then(e,n){return this.finished.then(e,n)}get duration(){return _t(this.calculatedDuration)}get time(){return _t(this.currentTime)}set time(e){var n;e=ot(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(We.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_t(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=wp,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(We.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Wp(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const zt=t=>t*180/Math.PI,gs=t=>{const e=zt(Math.atan2(t[1],t[0]));return vs(e)},Hp={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gs,rotateZ:gs,skewX:t=>zt(Math.atan(t[1])),skewY:t=>zt(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vs=t=>(t=t%360,t<0&&(t+=360),t),vo=gs,mo=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),_o=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zp={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mo,scaleY:_o,scale:t=>(mo(t)+_o(t))/2,rotateX:t=>vs(zt(Math.atan2(t[6],t[5]))),rotateY:t=>vs(zt(Math.atan2(-t[2],t[0]))),rotateZ:vo,rotate:vo,skewX:t=>zt(Math.atan(t[4])),skewY:t=>zt(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yo(t){return t.includes("scale")?1:0}function ms(t,e){if(!t||t==="none")return yo(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=zp,r=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Hp,r=o}if(!r)return yo(e);const s=i[e],a=r[1].split(",").map(Gp);return typeof s=="function"?s(a):a[s]}const Up=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ms(n,e)};function Gp(t){return parseFloat(t.trim())}const bo=t=>t===On||t===$,Kp=new Set(["x","y","z"]),Yp=Cn.filter(t=>!Kp.has(t));function Xp(t){const e=[];return Yp.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Yt={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ms(e,"x"),y:(t,{transform:e})=>ms(e,"y")};Yt.translateX=Yt.x;Yt.translateY=Yt.y;const Xt=new Set;let _s=!1,ys=!1,bs=!1;function sc(){if(ys){const t=Array.from(Xt).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=Xp(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,a])=>{var o;(o=i.getValue(s))==null||o.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ys=!1,_s=!1,Xt.forEach(t=>t.complete(bs)),Xt.clear()}function ac(){Xt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ys=!0)})}function Jp(){bs=!0,ac(),sc(),bs=!1}class Ea{constructor(e,n,i,r,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Xt.add(this),_s||(_s=!0,Ie.read(ac),Ie.resolveKeyframes(sc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const o=i.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),r&&s===void 0&&r.set(e[0])}Wp(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xt.delete(this)}cancel(){this.state==="scheduled"&&(Xt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zp=t=>t.startsWith("--");function Qp(t,e,n){Zp(e)?t.style.setProperty(e,n):t.style[e]=n}function Ta(t){let e;return()=>(e===void 0&&(e=t()),e)}const oc=Ta(()=>window.ScrollTimeline!==void 0),eg={};function tg(t,e){const n=Ta(t);return()=>eg[e]??n()}const lc=tg(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wn=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,wo={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wn([0,.65,.55,1]),circOut:Wn([.55,0,1,.45]),backIn:Wn([.31,.01,.66,-.59]),backOut:Wn([.33,1.53,.69,.99])};function uc(t,e){if(t)return typeof t=="function"?lc()?Uu(t,e):"ease-out":ic(t)?Wn(t):Array.isArray(t)?t.map(n=>uc(n,e)||wo.easeOut):wo[t]}function ng(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=uc(o,r);Array.isArray(d)&&(c.easing=d);const h={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(c,h)}function ig({type:t,...e}){return ua(t)&&lc()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class rg extends xa{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,ha(typeof e.type!="string");const u=ig(e);this.animation=ng(n,i,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=wa(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):Qp(n,i,c),this.animation.cancel()}l==null||l(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return _t(Number(e))}get time(){return _t(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ot(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&oc()?(this.animation.timeline=e,Pn):n(this)}}const cc={anticipate:tc,backInOut:ec,circInOut:nc};function sg(t){return t in cc}function ag(t){typeof t.ease=="string"&&sg(t.ease)&&(t.ease=cc[t.ease])}const xo=10;class og extends rg{constructor(e){ag(e),rc(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new Sa({...a,autoplay:!1}),l=ot(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-xo).value,o.sample(l).value,xo),o.stop()}}const So=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($n.test(t)||t==="0")&&!t.startsWith("url("));function lg(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ug(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=So(r,e),o=So(s,e);return!a||!o?!1:lg(t)||(n==="spring"||ua(n))&&i}const cg=new Set(["opacity","clipPath","filter","transform"]),hg=Ta(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dg(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:a}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=e.owner.getProps();return hg()&&n&&cg.has(n)&&(n!=="transform"||!l)&&!o&&!i&&r!=="mirror"&&s!==0&&a!=="inertia"}const fg=40;class pg extends xa{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...d}){var g;super(),this.stop=()=>{var p,b;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=We.now();const h={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:c,...d},f=(c==null?void 0:c.KeyframeResolver)||Ea;this.keyframeResolver=new f(o,(p,b,m)=>this.onKeyframesResolved(p,b,h,!m),l,u,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=i;this.resolvedAt=We.now(),ug(e,s,a,o)||((bt.instantAnimations||!l)&&(c==null||c(wa(e,i,n))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const h={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>fg?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},f=!u&&dg(h)?new og({...h,element:h.motionValue.owner.current}):new Sa(h);f.finished.then(()=>this.notifyFinished()).catch(Pn),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Jp()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const hc=(t,e,n,i={},r,s)=>a=>{const o=Du(i,t)||{},l=o.delay||i.delay||0;let{elapsed:u=0}=i;u=u-ot(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:r};Xf(o)||Object.assign(c,Yf(t,c)),c.duration&&(c.duration=ot(c.duration)),c.repeatDelay&&(c.repeatDelay=ot(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(bt.instantAnimations||bt.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const h=Hf(c.keyframes,o);if(h!==void 0){Ie.update(()=>{c.onUpdate(h),c.onComplete()});return}}return o.isSync?new Sa(c):new pg(c)},dc=new Set(["width","height","top","left","right","bottom",...Cn]);function gg({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function vg(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;i&&(s=i);const l=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const c in o){const d=t.getValue(c,t.latestValues[c]??null),h=o[c];if(h===void 0||u&&gg(u,c))continue;const f={delay:n,...Du(s||{},c)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===g&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const m=jf(t);if(m){const _=window.MotionHandoffAnimation(m,c,Ie);_!==null&&(f.startTime=_,p=!0)}}Vf(t,c),d.start(hc(c,d,h,t.shouldReduceMotion&&dc.has(c)?{type:!1}:f,t,p));const b=d.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{Ie.update(()=>{a&&Lf(t,a)})}),l}function mg(t){return t instanceof SVGElement&&t.tagName!=="svg"}function _g({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function yg(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function bg(t,e){return _g(yg(t.getBoundingClientRect(),e))}const Eo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ws={};for(const t in Eo)ws[t]={isEnabled:e=>Eo[t].some(n=>!!e[n])};const To=()=>({min:0,max:0}),ka=()=>({x:To(),y:To()}),wg=typeof window<"u",xs={current:null},fc={current:!1};function xg(){if(fc.current=!0,!!wg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xs.current=t.matches;t.addListener(e),e()}else xs.current=!1}function Sg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Eg(t){return typeof t=="string"||Array.isArray(t)}const Tg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kg=["initial",...Tg];function pc(t){return Sg(t.animate)||kg.some(e=>Eg(t[e]))}function Ag(t){return!!(pc(t)||t.variants)}function Mg(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Te(r))t.addValue(i,r);else if(Te(s))t.addValue(i,ui(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(i);t.addValue(i,ui(a!==void 0?a:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const gc=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),vc=t=>/^0[^.\s]+$/u.test(t),Fg={test:t=>t==="auto",parse:t=>t},mc=t=>e=>e.test(t),_c=[On,$,mn,Tt,rp,ip,Fg],ko=t=>_c.find(mc(t)),Ig=[..._c,me,$n],Pg=t=>Ig.find(mc(t)),Cg=new Set(["brightness","contrast","saturate","opacity"]);function Rg(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(ga)||[];if(!i)return t;const r=n.replace(i,"");let s=Cg.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Og=/\b([a-z-]*)\(.*?\)/gu,Ss={...$n,getAnimatableNone:t=>{const e=t.match(Og);return e?e.map(Rg).join(" "):t}},Ao={...On,transform:Math.round},$g={rotate:Tt,rotateX:Tt,rotateY:Tt,rotateZ:Tt,scale:Fi,scaleX:Fi,scaleY:Fi,scaleZ:Fi,skew:Tt,skewX:Tt,skewY:Tt,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:ci,originX:uo,originY:uo,originZ:$},Aa={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...$g,zIndex:Ao,fillOpacity:ci,strokeOpacity:ci,numOctaves:Ao},Dg={...Aa,color:me,backgroundColor:me,outlineColor:me,fill:me,stroke:me,borderColor:me,borderTopColor:me,borderRightColor:me,borderBottomColor:me,borderLeftColor:me,filter:Ss,WebkitFilter:Ss},yc=t=>Dg[t];function bc(t,e){let n=yc(t);return n!==Ss&&(n=$n),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wc{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ea,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=We.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ie.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=pc(n),this.isVariantNode=Ag(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&Te(f)&&f.set(l[h],!1)}}mount(e){this.current=e,ai.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),fc.current||xg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xs.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),oi(this.notifyUpdate),oi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Rn.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ws){const n=ws[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ka()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Mo.length;i++){const r=Mo[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=Mg(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ui(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(gc(i)||vc(i))?i=parseFloat(i):!Pg(i)&&$n.test(n)&&(i=bc(e,n)),this.setBaseTarget(e,Te(i)?i.get():i)),Te(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=Ou(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Te(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $u),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const Lg=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ng(t){const e=Lg.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function xc(t,e,n=1){const[i,r]=Ng(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return gc(a)?parseFloat(a):a}return pa(r)?xc(r,e,n+1):r}function Vg(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vc(t):!0}const Bg=new Set(["auto","none","0"]);function qg(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!Bg.has(s)&&hi(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=bc(n,r)}class jg extends Ea{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),pa(u))){const c=xc(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!dc.has(i)||e.length!==2)return;const[r,s]=e,a=ko(r),o=ko(s);if(a!==o)if(bo(a)&&bo(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Yt[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||Vg(e[r]))&&i.push(r);i.length&&qg(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yt[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Yt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}class Sc extends wc{constructor(){super(...arguments),this.KeyframeResolver=jg}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Te(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}const Ec=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Wg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hg=Cn.length;function zg(t,e,n){let i="",r=!0;for(let s=0;s<Hg;s++){const a=Cn[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=Ec(o,Aa[a]);if(!l){r=!1;const c=Wg[a]||a;i+=`${c}(${u}) `}n&&(e[a]=u)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Tc(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(Rn.has(l)){a=!0;continue}else if(Nu(l)){r[l]=u;continue}else{const c=Ec(u,Aa[l]);l.startsWith("origin")?(o=!0,s[l]=c):i[l]=c}}if(e.transform||(a||n?i.transform=zg(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}function kc(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const Ug={};function Gg(t,{layout:e,layoutId:n}){return Rn.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ug[t]||t==="opacity")}function Ac(t,e,n){var s;const{style:i}=t,r={};for(const a in i)(Te(i[a])||e.style&&Te(e.style[a])||Gg(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(r[a]=i[a]);return r}function Kg(t){return window.getComputedStyle(t)}class Yg extends Sc{constructor(){super(...arguments),this.type="html",this.renderInstance=kc}readValueFromInstance(e,n){if(Rn.has(n))return Up(e,n);{const i=Kg(e),r=(Nu(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bg(e,n)}build(e,n,i){Tc(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Ac(e,n,i)}}function Xg(t,e){return t in e}class Jg extends wc{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(Xg(n,e)){const i=e[n];if(typeof i=="string"||typeof i=="number")return i}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return ka()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}const Zg={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qg={offset:"strokeDashoffset",array:"strokeDasharray"};function ev(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?Zg:Qg;t[s.offset]=$.transform(-i);const a=$.transform(e),o=$.transform(n);t[s.array]=`${a} ${o}`}function tv(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:a=0,...o},l,u,c){if(Tc(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),r!==void 0&&ev(d,r,s,a,!1)}const Mc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iv(t,e,n,i){kc(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(Mc.has(r)?r:fa(r),e.attrs[r])}function rv(t,e,n){const i=Ac(t,e,n);for(const r in t)if(Te(t[r])||Te(e[r])){const s=Cn.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}class sv extends Sc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ka}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rn.has(n)){const i=yc(n);return i&&i.default||0}return n=Mc.has(n)?n:fa(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return rv(e,n,i)}build(e,n,i){tv(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){iv(e,n,i,r)}mount(e){this.isSVGTag=nv(e.tagName),super.mount(e)}}function av(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=mg(t)?new sv(e):new Yg(e);n.mount(t),ai.set(t,n)}function ov(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Jg(e);n.mount(t),ai.set(t,n)}function lv(t,e,n){const i=Te(t)?t:ui(t);return i.start(hc("",i,e,n)),i.animation}function uv(t,e){return Te(t)||typeof t=="number"||typeof t=="string"&&!oa(e)}function Fc(t,e,n,i){const r=[];if(uv(t,e))r.push(lv(t,oa(e)&&e.default||e,n&&(n.default||n)));else{const s=Mu(t,e,i),a=s.length;for(let o=0;o<a;o++){const l=s[o],u=l instanceof Element?av:ov;ai.has(l)||u(l);const c=ai.get(l),d={...n};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,a)),r.push(...vg(c,{...e,transition:d},{}))}}return r}function cv(t,e,n){const i=[];return xf(t,e,n,{spring:di}).forEach(({keyframes:s,transition:a},o)=>{i.push(...Fc(o,s,a))}),i}class hv{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e){const n=this.animations.map(i=>i.attachTimeline(e));return()=>{n.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dv extends hv{then(e,n){return this.finished.finally(e).then(()=>{})}}function fv(t){return Array.isArray(t)&&t.some(Array.isArray)}function pv(t){function e(n,i,r){let s=[];return fv(n)?s=cv(n,i,t):s=Fc(n,i,r,t),new dv(s)}return e}const st=pv(),ji=new WeakMap;let kt;function gv(t,e){if(e){const{inlineSize:n,blockSize:i}=e[0];return{width:n,height:i}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function vv({target:t,contentRect:e,borderBoxSize:n}){var i;(i=ji.get(t))==null||i.forEach(r=>{r({target:t,contentSize:e,get size(){return gv(t,n)}})})}function mv(t){t.forEach(vv)}function _v(){typeof ResizeObserver>"u"||(kt=new ResizeObserver(mv))}function yv(t,e){kt||_v();const n=Er(t);return n.forEach(i=>{let r=ji.get(i);r||(r=new Set,ji.set(i,r)),r.add(e),kt==null||kt.observe(i)}),()=>{n.forEach(i=>{const r=ji.get(i);r==null||r.delete(e),r!=null&&r.size||kt==null||kt.unobserve(i)})}}const Wi=new Set;let Qn;function bv(){Qn=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Wi.forEach(n=>n(e))},window.addEventListener("resize",Qn)}function wv(t){return Wi.add(t),Qn||bv(),()=>{Wi.delete(t),!Wi.size&&Qn&&(Qn=void 0)}}function xv(t,e){return typeof t=="function"?wv(t):yv(t,e)}const Sv=50,Fo=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Ev=()=>({time:0,x:Fo(),y:Fo()}),Tv={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Io(t,e,n,i){const r=n[e],{length:s,position:a}=Tv[e],o=r.current,l=n.time;r.current=t[`scroll${a}`],r.scrollLength=t[`scroll${s}`]-t[`client${s}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Tr(0,r.scrollLength,r.current);const u=i-l;r.velocity=u>Sv?0:da(r.current-o,u)}function kv(t,e,n){Io(t,"x",e,n),Io(t,"y",e,n),e.time=n}function Av(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(i instanceof HTMLElement)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const s=i.getBoundingClientRect();n.x+=r.left-s.left,n.y+=r.top-s.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:s}=i.getBBox();n.x+=r,n.y+=s;let a=null,o=i.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=i.parentNode;i=a}else break;return n}const Es={start:0,center:.5,end:1};function Po(t,e,n=0){let i=0;if(t in Es&&(t=Es[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?i=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?i=r/100*document.documentElement.clientWidth:t.endsWith("vh")?i=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(i=e*t),n+i}const Mv=[0,0];function Fv(t,e,n,i){let r=Array.isArray(t)?t:Mv,s=0,a=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,Es[t]?t:"0"]),s=Po(r[0],n,i),a=Po(r[1],e),s-a}const Iv={All:[[0,0],[1,1]]},Pv={x:0,y:0};function Cv(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Rv(t,e,n){const{offset:i=Iv.All}=n,{target:r=t,axis:s="y"}=n,a=s==="y"?"height":"width",o=r!==t?Av(r,t):Pv,l=r===t?{width:t.scrollWidth,height:t.scrollHeight}:Cv(r),u={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let c=!e[s].interpolate;const d=i.length;for(let h=0;h<d;h++){const f=Fv(i[h],u[a],l[a],o[s]);!c&&f!==e[s].interpolatorOffsets[h]&&(c=!0),e[s].offset[h]=f}c&&(e[s].interpolate=Ku(e[s].offset,la(i),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Ot(0,1,e[s].interpolate(e[s].current))}function Ov(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function $v(t,e,n,i={}){return{measure:()=>Ov(t,i.target,n),update:r=>{kv(t,n,r),(i.offset||i.target)&&Rv(t,n,i)},notify:()=>e(n)}}const Dn=new WeakMap,Co=new WeakMap,Br=new WeakMap,Ro=t=>t===document.documentElement?window:t;function Ic(t,{container:e=document.documentElement,...n}={}){let i=Br.get(e);i||(i=new Set,Br.set(e,i));const r=Ev(),s=$v(e,t,r,n);if(i.add(s),!Dn.has(e)){const o=()=>{for(const h of i)h.measure()},l=()=>{for(const h of i)h.update(li.timestamp)},u=()=>{for(const h of i)h.notify()},c=()=>{Ie.read(o),Ie.read(l),Ie.preUpdate(u)};Dn.set(e,c);const d=Ro(e);window.addEventListener("resize",c,{passive:!0}),e!==document.documentElement&&Co.set(e,xv(e,c)),d.addEventListener("scroll",c,{passive:!0}),c()}const a=Dn.get(e);return Ie.read(a,!1,!0),()=>{var u;oi(a);const o=Br.get(e);if(!o||(o.delete(s),o.size))return;const l=Dn.get(e);Dn.delete(e),l&&(Ro(e).removeEventListener("scroll",l),(u=Co.get(e))==null||u(),window.removeEventListener("resize",l))}}const Oo=new Map;function Dv(t){const e={value:0},n=Ic(i=>{e.value=i[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function Pc({source:t,container:e,...n}){const{axis:i}=n;t&&(e=t);const r=Oo.get(e)??new Map;Oo.set(e,r);const s=n.target??"self",a=r.get(s)??{},o=i+(n.offset??[]).join(",");return a[o]||(a[o]=!n.target&&oc()?new ScrollTimeline({source:e,axis:i}):Dv({container:e,...n})),a[o]}function Cc(t,e){let n;const i=()=>{const{currentTime:r}=e,a=(r===null?0:r.value)/100;n!==a&&t(a),n=a};return Ie.preUpdate(i,!0),()=>oi(i)}function Lv(t,e){const n=Pc(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:i=>(i.pause(),Cc(r=>{i.time=i.duration*r},n))})}function Nv(t){return t.length===2}function Vv(t,e){return Nv(t)?Ic(n=>{t(n[e.axis].progress,n)},e):Cc(t,Pc(e))}function Bv(t,{axis:e="y",container:n=document.documentElement,...i}={}){n===document.documentElement&&(e==="y"&&n.scrollHeight===n.clientHeight||e==="x"&&n.scrollWidth===n.clientWidth)&&(n=document.body);const r={axis:e,container:n,...i};return typeof t=="function"?Vv(t,r):Lv(t,r)}const qv={some:0,all:1};function Rc(t,e,{root:n,margin:i,amount:r="some"}={}){const s=Er(t),a=new WeakMap,o=u=>{u.forEach(c=>{const d=a.get(c.target);if(c.isIntersecting!==!!d)if(c.isIntersecting){const h=e(c.target,c);typeof h=="function"?a.set(c.target,h):l.unobserve(c.target)}else typeof d=="function"&&(d(c),a.delete(c.target))})},l=new IntersectionObserver(o,{root:n,rootMargin:i,threshold:typeof r=="number"?r:qv[r]});return s.forEach(u=>l.observe(u)),()=>l.disconnect()}function jv(t,e){if(t==="first")return 0;{const n=e-1;return t==="last"?n:n/2}}function Oc(t=.1,{startDelay:e=0,from:n=0,ease:i}={}){return(r,s)=>{const a=typeof n=="number"?n:jv(n,s),o=Math.abs(a-r);let l=t*o;if(i){const u=s*t;l=ps(i)(l/u)*u}return e+l}}const Wv={y:!1};function Hv(){return Wv.y}function $c(t,e){const n=Er(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function $o(t){return!(t.pointerType==="touch"||Hv())}function Dc(t,e,n={}){const[i,r,s]=$c(t,n),a=o=>{if(!$o(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=d=>{$o(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return i.forEach(o=>{o.addEventListener("pointerenter",a,r)}),s}const Lc=(t,e)=>e?t===e?!0:Lc(t,e.parentElement):!1,zv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Uv=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gv(t){return Uv.has(t.tagName)||t.tabIndex!==-1}const Hi=new WeakSet;function Do(t){return e=>{e.key==="Enter"&&t(e)}}function qr(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Kv=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Do(()=>{if(Hi.has(n))return;qr(n,"down");const r=Do(()=>{qr(n,"up")}),s=()=>qr(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Lo(t){return zv(t)&&!0}function Yv(t,e,n={}){const[i,r,s]=$c(t,n),a=o=>{const l=o.currentTarget;if(!Lo(o))return;Hi.add(l);const u=e(l,o),c=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Hi.has(l)&&Hi.delete(l),Lo(f)&&typeof u=="function"&&u(f,{success:g})},d=f=>{c(f,l===window||l===document||n.useGlobalTarget||Lc(l,f.target))},h=f=>{c(f,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",h,r)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),o instanceof HTMLElement&&(o.addEventListener("focus",u=>Kv(u,r)),!Gv(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}var Xv=Oe('<button id="cta-button" class="rounded-xl inset-ring-green-400 inset-ring-2 bg-gradient-to-b cursor-pointer from-green-700 to-green-400 px-3 md:px-4 py-2 text-white font-bold"> </button>');function Ma(t,e){Mn(e,!1);let n=Xe(e,"text",8,"Join the Change"),i=Xe(e,"onClick",8,null);function r(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),i()&&i()()}wi(()=>{Dc("#cta-button",o=>(st(o,{"--tw-gradient-from-position":"60%"},{type:"spring",stiffness:200,damping:10}),()=>st(o,{"--tw-gradient-from-position":"0%"},{type:"spring",stiffness:200,damping:10})))}),bi();var s=Xv(),a=W(s);Gt(()=>wn(a,n())),vn("click",s,r),_e(t,s),Fn()}function je(t){t.preventDefault();const e=t.currentTarget.getAttribute("href");if(e){const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth"})}}var Jv=Oe('<header class="dark:bg-black bg-gray-100 py-4"><nav class="container mx-auto grid grid-cols-3 max-w-screen-2xl text-xs md:text-lg place-items-center px-4"><img alt="Logo" class="h-10 md:h-20 w-auto object-contain"> <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6"><a href="#what" class="text-white hover:text-green-600">What?</a> <a href="#why" class="text-gray-300 hover:text-green-600">Why?</a> <a href="#how" class="text-gray-300 hover:text-green-600">How?</a></div> <div class="flex justify-center my-6"><!></div></nav></header>');function Zv(t){var e=Jv(),n=W(e),i=W(n);Zt(i,"src",Au);var r=V(i,2),s=W(r),a=V(s,2),o=V(a,2),l=V(r,2),u=W(l);Ma(u,{text:"Join Waitlist"}),vn("click",s,function(...c){je==null||je.apply(this,c)}),vn("click",a,function(...c){je==null||je.apply(this,c)}),vn("click",o,function(...c){je==null||je.apply(this,c)}),_e(t,e)}function Qv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zi={exports:{}},em=zi.exports,No;function tm(){return No||(No=1,function(t,e){(function(n,i){t.exports=i()})(em,function(){var n=document,i=n.createTextNode.bind(n);function r(y,E,P){y.style.setProperty(E,P)}function s(y,E){return y.appendChild(E)}function a(y,E,P,O){var D=n.createElement("span");return E&&(D.className=E),P&&(!O&&D.setAttribute("data-"+E,P),D.textContent=P),y&&s(y,D)||D}function o(y,E){return y.getAttribute("data-"+E)}function l(y,E){return!y||y.length==0?[]:y.nodeName?[y]:[].slice.call(y[0].nodeName?y:(E||n).querySelectorAll(y))}function u(y){for(var E=[];y--;)E[y]=[];return E}function c(y,E){y&&y.some(E)}function d(y){return function(E){return y[E]}}function h(y,E,P){var O="--"+E,D=O+"-index";c(P,function(B,H){Array.isArray(B)?c(B,function(U){r(U,D,H)}):r(B,D,H)}),r(y,O+"-total",P.length)}var f={};function g(y,E,P){var O=P.indexOf(y);if(O==-1){P.unshift(y);var D=f[y];if(!D)throw new Error("plugin not loaded: "+y);c(D.depends,function(H){g(H,y,P)})}else{var B=P.indexOf(E);P.splice(O,1),P.splice(B,0,y)}return P}function p(y,E,P,O){return{by:y,depends:E,key:P,split:O}}function b(y){return g(y,0,[]).map(d(f))}function m(y){f[y.by]=y}function _(y,E,P,O,D){y.normalize();var B=[],H=document.createDocumentFragment();O&&B.push(y.previousSibling);var U=[];return l(y.childNodes).some(function(de){if(de.tagName&&!de.hasChildNodes()){U.push(de);return}if(de.childNodes&&de.childNodes.length){U.push(de),B.push.apply(B,_(de,E,P,O,D));return}var tt=de.wholeText||"",nt=tt.trim();if(nt.length){tt[0]===" "&&U.push(i(" "));var Ti=P===""&&typeof Intl.Segmenter=="function";c(Ti?Array.from(new Intl.Segmenter().segment(nt)).map(function(rn){return rn.segment}):nt.split(P),function(rn,ki){ki&&D&&U.push(a(H,"whitespace"," ",D));var sn=a(H,E,rn);B.push(sn),U.push(sn)}),tt[tt.length-1]===" "&&U.push(i(" "))}}),c(U,function(de){s(H,de)}),y.innerHTML="",s(y,H),B}var S=0;function T(y,E){for(var P in E)y[P]=E[P];return y}var x="words",C=p(x,S,"word",function(y){return _(y,"word",/\s+/,0,1)}),F="chars",w=p(F,[x],"char",function(y,E,P){var O=[];return c(P[x],function(D,B){O.push.apply(O,_(D,"char","",E.whitespace&&B))}),O});function R(y){y=y||{};var E=y.key;return l(y.target||"[data-splitting]").map(function(P){var O=P[""];if(!y.force&&O)return O;O=P[""]={el:P};var D=y.by||o(P,"splitting");(!D||D=="true")&&(D=F);var B=b(D),H=T({},y);return c(B,function(U){if(U.split){var de=U.by,tt=(E?"-"+E:"")+U.key,nt=U.split(P,H,O);tt&&h(P,tt,nt),O[de]=nt,P.classList.add(de)}}),P.classList.add("splitting"),O})}function q(y){y=y||{};var E=y.target=a();return E.innerHTML=y.content,R(y),E.outerHTML}R.html=q,R.add=m;function z(y,E,P){var O=l(E.matching||y.children,y),D={};return c(O,function(B){var H=Math.round(B[P]);(D[H]||(D[H]=[])).push(B)}),Object.keys(D).map(Number).sort(he).map(d(D))}function he(y,E){return y-E}var pe=p("lines",[x],"line",function(y,E,P){return z(y,{matching:P[x]},"offsetTop")}),$e=p("items",S,"item",function(y,E){return l(E.matching||y.children,y)}),De=p("rows",S,"row",function(y,E){return z(y,E,"offsetTop")}),et=p("cols",S,"col",function(y,E){return z(y,E,"offsetLeft")}),le=p("grid",["rows","cols"]),Z="layout",xe=p(Z,S,S,function(y,E){var P=E.rows=+(E.rows||o(y,"rows")||1),O=E.columns=+(E.columns||o(y,"columns")||1);if(E.image=E.image||o(y,"image")||y.currentSrc||y.src,E.image){var D=l("img",y)[0];E.image=D&&(D.currentSrc||D.src)}E.image&&r(y,"background-image","url("+E.image+")");for(var B=P*O,H=[],U=a(S,"cell-grid");B--;){var de=a(U,"cell");a(de,"cell-inner"),H.push(de)}return s(y,U),H}),Le=p("cellRows",[Z],"row",function(y,E,P){var O=E.rows,D=u(O);return c(P[Z],function(B,H,U){D[Math.floor(H/(U.length/O))].push(B)}),D}),Ke=p("cellColumns",[Z],"col",function(y,E,P){var O=E.columns,D=u(O);return c(P[Z],function(B,H){D[H%O].push(B)}),D}),se=p("cells",["cellRows","cellColumns"],"cell",function(y,E,P){return P[Z]});return m(C),m(w),m(pe),m($e),m(De),m(et),m(le),m(xe),m(Le),m(Ke),m(se),R})}(zi)),zi.exports}var nm=tm();const rr=Qv(nm);var im=Oe("<i></i>"),rm=Oe('<span class="px-2.5 py-1.5 font-bold bg-linear-to-b from-green-600 to-green-100 from-50% rounded-full"> </span>'),sm=Oe('<div class="grid grid-flow-col items-center gap-2 text-white text-xs z-10!"><!> <span class="text-gray-200 text-sm"> </span></div>');function kr(t,e){let n=Xe(e,"text",8,"Default Text"),i=Xe(e,"label",8,""),r=Xe(e,"icon",8,"");var s=sm(),a=W(s);{var o=d=>{var h=im();Gt(()=>ku(h,1,`p-2 align-middle bg-linear-to-b from-green-600 to-green-100 from-50% rounded-full fa-solid fa-${r()??""}`)),_e(d,h)},l=d=>{var h=rm(),f=W(h);Gt(()=>wn(f,n())),_e(d,h)};Bi(a,d=>{r()?d(o):d(l,!1)})}var u=V(a,2),c=W(u);Gt(()=>wn(c,i())),_e(t,s)}var am=Oe(`<section id="why" class="flex flex-col items-center space-y-8 text-center px-4 py-12 max-w-6xl mx-auto text-white"><!> <h1 id="select-text" class="text-4xl md:text-5xl mb-8 leading-tight">The AI Chats we use daily, are free to us. But for the environment, not so
    much. We're here to change that by putting you in <span class="font-extrabold">control</span>.</h1> <div class="flex justify-center my-6"><!></div> <div class="mt-16 flex flex-col md:flex-row items-center justify-center gap-4"><div id="stat-text" class="text-center bg-radial to-70% md:to-90% from-green-600/50 to-green-400/0"><p class="text-8xl font-bold text-white">90,000</p> <p class="text-5xl mb-2">Kilograms</p> <p class="text-white/60">Approximately 198,000 Pounds</p></div> <div class="text-center md:text-center md:ml-12"><p class="text-xl mb-1"><b>CO<sub>2</sub></b> emission is generated</p> <div id="every-hour" class="text-5xl md:text-6xl font-bold mb-2 relative"><em>every hour</em> <div id="every-hour-tooltop" class="hidden absolute blur-lg text-xs text-justify bg-slate-800 px-3 py-2 rounded-xl">Conservative estimate based on daily usage data for ChatGPT
          extrapolated to other vendors and averaged for hourly insight.</div></div> <p class="text-xl text-white/60">due to global AI Chat use</p></div></div> <div class="flex flex-col mt-16 items-center"><h1 class="text-5xl md:text-7xl font-semibold">We can help</h1> <img alt="Verdian logo" class="w-9/10 md:w-1/2 mx-auto my-12"> <p class="text-sm text-white/60 md:text-xl mb-6">We are working to bring you the insights on your AI Chat use and its
      impact on the environment. <br> On top of that, <b>Verdian</b> will provide recommendations to drive eco-friendly
      behavior globally.</p> <div class="grid grid-cols-2 gap-6 items-end"><h3 class="text-lg md:text-3xl font-semibold mt-4"><span class="block text-white/60">Up to</span> <span class="block text-5xl md:text-8xl my-4">40%</span> <span class="block text-white/60">less CO<sub>2</sub> emissions</span></h3> <h3 class="text-lg md:text-3xl font-semibold mt-4"><span class="block text-white/60">Reducing approx.</span> <span class="block text-5xl md:text-8xl my-4">36,000</span> <span class="block text-white/60">Kilograms <i>per hour</i></span></h3></div></div></section>`);function om(t,e){Mn(e,!1),wi(()=>{const l=rr({target:"#select-text",by:"chars"})[0];function u(d){if(l.chars){const h=d*l.chars.length;for(let f=0;f<l.chars.length;f++)f<h?l.chars[f].style.opacity="1":l.chars[f].style.opacity="0.5"}}Bv(u,{target:document.getElementById("select-text"),offset:["start end","start center"]}),rr({target:"#stat-text",by:"chars"}),Rc("#stat-text",()=>(st("#stat-text .char",{opacity:[0,1],x:["5px","0px"],y:["5px","0px"],filter:["blur(20px)","blur(0px)"]},{delay:Oc(.05,{startDelay:.25}),type:"spring",stiffness:100,damping:20}),()=>{st("#stat-text .char",{opacity:[1,0],filter:["blur(0px)","blur(10px)"]},{duration:1,ease:"easeOut"})}));function c(){const d=document.getElementById("every-hour-tooltop");return st(d,{filter:"none",opacity:1,display:"block"},{duration:.25}),()=>{st(d,{filter:"blur(10px)",opacity:0,display:"none"},{duration:.25})}}Dc("#every-hour",c),Yv("#every-hour",c)}),bi();var n=am(),i=W(n);kr(i,{text:"Why"});var r=V(i,4),s=W(r);Ma(s,{});var a=V(r,4),o=V(W(a),2);Zt(o,"src",Au),_e(t,n),Fn()}const lm="/assets/noc_welcome-CNe2tIYv.png",um="/assets/globe-C3BXcmCp.png";var cm=Oe('<div id="what" class="w-full h-screen overflow-clip flex flex-col justify-evenly items-center md:pb-20 svelte-1g9c3a6"><!> <div id="intro-text" class="font-normal relative md:w-2/3 items-center text-center svelte-1g9c3a6"><h1 class="text-5xl md:text-8xl text-gray-800 dark:text-white svelte-1g9c3a6">We want to make</h1> <h1 class="text-5xl md:text-8xl text-gray-800 dark:text-white svelte-1g9c3a6">AI use - <i id="greener" class="text-white font-semibold text-shadow-green-600 svelte-1g9c3a6">greener</i>.</h1> <img alt="Welcome" class="absolute max-w-none w-[100vw] -z-2! left-1/2 -translate-x-1/2 -translate-y-3/5 overflow-clip blur-[2px] svelte-1g9c3a6"> <img id="welcome" alt="Welcome" class="absolute w-4/5 md:w-svw -z-1! left-1/2 -translate-x-1/2 -translate-y-1/3 blur-[4px] rounded-xl shadow-[0_10px_25px] lg:[transform:perspective(200em)rotateX(50deg)] [transform:perspective(50em)rotateX(50deg)] shadow-green-600 svelte-1g9c3a6"></div> <p class="text-center text-gray-400 text-sm md:text-lg font-light bg-black/70 rounded-2xl px-2 svelte-1g9c3a6">By delivering the insights on impact of your use,<br class="svelte-1g9c3a6"> and driving more sustainable behavior.</p> <div class="flex flex-col items-center justify-center svelte-1g9c3a6"><p class="text-white text-base my-2 bg-black/70 px-4 rounded-2xl svelte-1g9c3a6">Are you interested?</p> <!> <a href="#why" class="svelte-1g9c3a6"><p class="text-gray-300 my-2 hover:text-white bg-black/70 svelte-1g9c3a6">If not, let us convince you </p></a></div></div>');function hm(t,e){Mn(e,!1),document.querySelector("h1"),wi(()=>{rr({target:"#greener",by:"chars"}),rr({target:"#select-text",by:"chars"}),st("#greener .char",{opacity:[0,1],x:["5px","0px"],y:["5px","0px"],filter:["blur(10px)","blur(0px)"]},{delay:Oc(.05,{startDelay:.25}),type:"spring",stiffness:150,damping:10,mass:.5}),st("#intro-text",{opacity:[0,1],filter:["blur(10px)","none"]},{duration:1,ease:"easeOut"})}),bi();var n=cm(),i=W(n);kr(i,{text:"2025",label:"Sustainable AI Chat"});var r=V(i,2),s=V(W(r),4);Zt(s,"src",um);var a=V(s,2);Zt(a,"src",lm);var o=V(r,4),l=V(W(o),2);Ma(l,{text:"Join the Change"});var u=V(l,2);vn("click",u,function(...c){je==null||je.apply(this,c)}),_e(t,n),Fn()}var dm=Oe(`<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6" role="alert"><p>Thanks for joining our waitlist! We'll be in touch soon.</p></div>`),fm=Oe('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded" role="alert"><p> </p></div>'),pm=Zd('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Submitting...'),gm=Oe(`<form class="space-y-4"><div><label for="email" class="block text-sm font-medium mb-1 dark:text-white text-gray-700">Email Address <span class="text-red-500">*</span></label> <input type="email" id="email" placeholder="yourname@example.com" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-green-600 focus:outline-none dark:bg-gray-800 dark:border-gray-700 dark:text-white" required></div> <div><label for="feedback" class="block text-sm font-medium mb-1 dark:text-white text-gray-700">Why are you interested? Any feature suggestions? (optional)</label> <textarea id="feedback" rows="4" placeholder="Tell us what you're looking for..." class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-green-600 focus:outline-none dark:bg-gray-800 dark:border-gray-700 dark:text-white"></textarea></div> <!> <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md transition-colors duration-200 flex items-center justify-center"><!></button></form>`),vm=Oe('<section id="waitlist" class="w-9/10 max-w-2xl mx-auto py-12 px-4"><div class="text-center mb-8"><h2 class="text-3xl font-bold mb-3 dark:text-white text-gray-900">Join our Waitlist</h2> <p class="text-lg dark:text-gray-300 text-gray-600">Be the first to know when we launch</p></div> <!></section>');function mm(t,e){Mn(e,!1);let n=ln(""),i=ln(""),r=ln(!1),s=ln(!1),a=ln("");async function o(){if(!G(n)){re(a,"Please enter your email");return}re(r,!0),re(a,"");try{console.log("Submitting form with data:",{email:G(n),feedback:G(i)});const h=await fetch("https://submitform-tqcslwocpa-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:G(n),feedback:G(i)||""})});if(h.ok){const f=await h.json();console.log("Form submission response:",f),re(s,!0),re(n,""),re(i,"")}else{const f=await h.text();throw console.error("Error response:",h.status,f),new Error(`Server responded with status ${h.status}`)}}catch(h){h instanceof Error?(re(a,`Error: ${h.message}`),console.error("Waitlist submission error:",h)):(re(a,"Something went wrong. Please try again."),console.error("Waitlist submission unexpected error:",h))}finally{re(r,!1)}}wi(()=>{Rc("#waitlist",h=>(st(h,{scale:[.75,1]},{type:"spring",duration:.5,delay:.1}),()=>{st(h,{scale:.75},{type:"spring"})}),{amount:.5})}),bi();var l=vm(),u=V(W(l),2);{var c=h=>{var f=dm();_e(h,f)},d=h=>{var f=gm(),g=W(f),p=V(W(g),2),b=V(g,2),m=V(W(b),2),_=V(b,2);{var S=w=>{var R=fm(),q=W(R),z=W(q);Gt(()=>wn(z,G(a))),_e(w,R)};Bi(_,w=>{G(a)&&w(S)})}var T=V(_,2),x=W(T);{var C=w=>{var R=pm();_e(w,R)},F=w=>{var R=Qd("Join Waitlist");_e(w,R)};Bi(x,w=>{G(r)?w(C):w(F,!1)})}Gt(()=>T.disabled=G(r)),eo(p,()=>G(n),w=>re(n,w)),eo(m,()=>G(i),w=>re(i,w)),vn("submit",f,uf(o)),_e(h,f)};Bi(u,h=>{G(s)?h(c):h(d,!1)})}_e(t,l),Fn()}const _m="/assets/insight_stats-DLdhKfcS.png",ym="/assets/insight_source-fNpCtBct.png",bm="/assets/insight_breakdown-CCk14r67.png",wm="/assets/platform_screenshots-CCQ1eYyb.png",Vo="/assets/recommendation_1-DEl9xWpt.png";var xm=Oe('<div><!> <h1 class="text-2xl md:text-4xl text-gray-800 dark:text-white"> </h1> <p class="text-white/60 text-center text-xs"> </p> <img class="w-full h-auto rounded-lg inset-shadow-[0_0_20px] inset-shadow-gray-600 p-4"></div>');function Ln(t,e){const n=no(e,["children","$$slots","$$events","$$legacy"]),i=no(n,["title","description","image","alt","icon"]);let r=Xe(e,"title",8,"Default Title"),s=Xe(e,"description",8,"Default Description"),a=Xe(e,"image",8,"https://via.placeholder.com/150"),o=Xe(e,"alt",8,"Default Alt Text"),l=Xe(e,"icon",8,"");const{class:u="",...c}=i;var d=xm();ku(d,1,`flex flex-col space-y-2 items-center p-4 rounded-xl border-2 border-white/15 ${u}`);var h=W(d);kr(h,{get icon(){return l()}});var f=V(h,2),g=W(f),p=V(f,2),b=W(p),m=V(p,2);Gt(()=>{wn(g,r()),wn(b,s()),Zt(m,"src",a()),Zt(m,"alt",o())}),_e(t,d)}var Sm=Oe('<section id="how" class="flex flex-col space-y-10 items-center"><!> <h1 class="text-4xl md:text-8xl text-gray-800 dark:text-white">Our insights are deep</h1> <div class="grid md:grid-cols-3 gap-8"><!> <!> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 justify-items-center gap-8 w-full md:w-2/3"><h1 class="text-3xl col-span-1 md:col-span-2 md:text-6xl text-center">Recommendations that drive<br>eco-friendly behavior</h1> <!> <!></div> <div class="grid grid-cols-1 md:grid-cols-3 max-w-full md:max-w-3/4 items-center"><h1 class="text-xl text-center md:text-left md:text-6xl">All this goodness packed into a familiar interface</h1> <img alt="Screenshots" class="col-span-2 w-full h-auto rounded-lg p-2 md:p-8 bg-radial to-70% md:to-85% from-green-600 to-green-600/0"></div></section>');function Em(t){var e=Sm(),n=W(e);kr(n,{text:"How"});var i=V(n,4),r=W(i);Ln(r,{title:"Scores",description:"Our Impact Factor and Efficiency scores are calculated with a wide range of factors. They bring you a comprehensive look at your impact.",image:_m,alt:"Scores",icon:"chart-simple",class:"max-w-2xs"});var s=V(r,2);Ln(s,{title:"Sources",description:"One of the factors of our calculation is energy source. This lets you know how much of your AI energy use is green.",image:ym,alt:"Sources",icon:"chart-diagram",class:"max-w-2xs"});var a=V(s,2);Ln(a,{title:"Breakdown",description:"We break down your AI energy use by model. This gives you a clear picture of which models may be having the most impact.",image:bm,alt:"Breakdown",icon:"chart-pie",class:"max-w-2xs"});var o=V(i,2),l=V(W(o),2);Ln(l,{title:"Recommendations",description:"We provide recommendations to help you reduce your impact. These are based on your usage and the models you use.",image:Vo,alt:"Recommendations",icon:"lightbulb",class:"w-full"});var u=V(l,2);Ln(u,{title:"Insights",description:"We provide insights into your AI energy use. This helps you understand how your usage impacts the environment.",image:Vo,alt:"Insights",icon:"chart-bar",class:"w-full"});var c=V(o,2),d=V(W(c),2);Zt(d,"src",wm),_e(t,e)}var Je,v=typeof window<"u"?window:void 0,Pe=typeof globalThis<"u"?globalThis:v,Nc=Array.prototype,Bo=Nc.forEach,qo=Nc.indexOf,Ve=Pe==null?void 0:Pe.navigator,M=Pe==null?void 0:Pe.document,Fe=Pe==null?void 0:Pe.location,Ts=Pe==null?void 0:Pe.fetch,ks=Pe!=null&&Pe.XMLHttpRequest&&"withCredentials"in new Pe.XMLHttpRequest?Pe.XMLHttpRequest:void 0,jo=Pe==null?void 0:Pe.AbortController,Me=Ve==null?void 0:Ve.userAgent,L=v??{},vt={DEBUG:!1,LIB_VERSION:"1.240.6"},jr="$copy_autocapture",Tm=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(t){t.GZipJS="gzip-js",t.Base64="base64"})(Je||(Je={}));var km=["fatal","error","warning","log","info","debug"];function N(t,e){return t.indexOf(e)!==-1}var Ar=function(t){return t.trim()},As=function(t){return t.replace(/^\$/,"")},Am=Array.isArray,Vc=Object.prototype,Bc=Vc.hasOwnProperty,Mr=Vc.toString,ne=Am||function(t){return Mr.call(t)==="[object Array]"},ze=t=>typeof t=="function",ie=t=>t===Object(t)&&!ne(t),hn=t=>{if(ie(t)){for(var e in t)if(Bc.call(t,e))return!1;return!0}return!1},k=t=>t===void 0,oe=t=>Mr.call(t)=="[object String]",Ms=t=>oe(t)&&t.trim().length===0,Dt=t=>t===null,j=t=>k(t)||Dt(t),ye=t=>Mr.call(t)=="[object Number]",mt=t=>Mr.call(t)==="[object Boolean]",Mm=t=>t instanceof FormData,Fm=t=>N(Tm,t),qc=t=>{var e={t:function(n){if(v&&(vt.DEBUG||L.POSTHOG_DEBUG)&&!k(v.console)&&v.console){for(var i=("__rrweb_original__"in v.console[n])?v.console[n].__rrweb_original__:v.console[n],r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];i(t,...s)}},info:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.t("log",...i)},warn:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.t("warn",...i)},error:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.t("error",...i)},critical:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console.error(t,...i)},uninitializedWarning:n=>{e.error("You must initialize PostHog before calling "+n)},createLogger:n=>qc(t+" "+n)};return e},I=qc("[PostHog.js]"),we=I.createLogger,Im=we("[ExternalScriptsLoader]"),Wo=(t,e,n)=>{if(t.config.disable_external_dependency_loading)return Im.warn(e+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var i=M==null?void 0:M.querySelectorAll("script");if(i){for(var r=0;r<i.length;r++)if(i[r].src===e)return n()}var s=()=>{if(!M)return n("document not found");var a=M.createElement("script");if(a.type="text/javascript",a.crossOrigin="anonymous",a.src=e,a.onload=u=>n(void 0,u),a.onerror=u=>n(u),t.config.prepare_external_dependency_script&&(a=t.config.prepare_external_dependency_script(a)),!a)return n("prepare_external_dependency_script returned null");var o,l=M.querySelectorAll("body > script");l.length>0?(o=l[0].parentNode)==null||o.insertBefore(a,l[0]):M.body.appendChild(a)};M!=null&&M.body?s():M==null||M.addEventListener("DOMContentLoaded",s)};function A(){return A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},A.apply(this,arguments)}function jc(t,e){if(t==null)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}L.__PosthogExtensions__=L.__PosthogExtensions__||{},L.__PosthogExtensions__.loadExternalDependency=(t,e,n)=>{var i="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(i="/array/"+t.config.token+"/config.js"),e==="toolbar"){var r=3e5;i=i+"&t="+Math.floor(Date.now()/r)*r}var s=t.requestRouter.endpointFor("assets",i);Wo(t,s,n)},L.__PosthogExtensions__.loadSiteApp=(t,e,n)=>{var i=t.requestRouter.endpointFor("api",e);Wo(t,i,n)};var sr={};function Pt(t,e,n){if(ne(t)){if(Bo&&t.forEach===Bo)t.forEach(e,n);else if("length"in t&&t.length===+t.length){for(var i=0,r=t.length;i<r;i++)if(i in t&&e.call(n,t[i],i)===sr)return}}}function K(t,e,n){if(!j(t)){if(ne(t))return Pt(t,e,n);if(Mm(t)){for(var i of t.entries())if(e.call(n,i[1],i[0])===sr)return}else for(var r in t)if(Bc.call(t,r)&&e.call(n,t[r],r)===sr)return}}var ae=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Pt(n,function(r){for(var s in r)r[s]!==void 0&&(t[s]=r[s])}),t},Fr=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Pt(n,function(r){Pt(r,function(s){t.push(s)})}),t};function Ui(t){for(var e=Object.keys(t),n=e.length,i=new Array(n);n--;)i[n]=[e[n],t[e[n]]];return i}var Ho=function(t){try{return t()}catch{return}},Pm=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(this,n)}catch(r){I.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),I.critical(r)}}},Fa=function(t){var e={};return K(t,function(n,i){(oe(n)&&n.length>0||ye(n))&&(e[i]=n)}),e};function Cm(t,e){return n=t,i=s=>oe(s)&&!Dt(e)?s.slice(0,e):s,r=new Set,function s(a,o){return a!==Object(a)?i?i(a,o):a:r.has(a)?void 0:(r.add(a),ne(a)?(l=[],Pt(a,u=>{l.push(s(u))})):(l={},K(a,(u,c)=>{r.has(u)||(l[c]=s(u,c))})),l);var l}(n);var n,i,r}var Rm=["herokuapp.com","vercel.app","netlify.app"];function Om(t){var e=t==null?void 0:t.hostname;if(!oe(e))return!1;var n=e.split(".").slice(-2).join(".");for(var i of Rm)if(n===i)return!1;return!0}function Wc(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function Q(t,e,n,i){var{capture:r=!1,passive:s=!0}=i??{};t==null||t.addEventListener(e,n,{capture:r,passive:s})}var Hc="$people_distinct_id",Hn="__alias",zn="__timers",zo="$autocapture_disabled_server_side",Fs="$heatmaps_enabled_server_side",Uo="$exception_capture_enabled_server_side",Go="$web_vitals_enabled_server_side",zc="$dead_clicks_enabled_server_side",Ko="$web_vitals_allowed_metrics",Is="$session_recording_enabled_server_side",Yo="$console_log_recording_enabled_server_side",Xo="$session_recording_network_payload_capture",Jo="$session_recording_masking",Zo="$session_recording_canvas_recording",Qo="$replay_sample_rate",el="$replay_minimum_duration",tl="$replay_script_config",ar="$sesid",Un="$session_is_sampled",Ps="$session_recording_url_trigger_activated_session",Cs="$session_recording_event_trigger_activated_session",dn="$enabled_feature_flags",Gi="$early_access_features",Rs="$feature_flag_details",Gn="$stored_person_properties",qt="$stored_group_properties",Os="$surveys",Ii="$surveys_activated",or="$flag_call_reported",ft="$user_state",$s="$client_session_props",Ds="$capture_rate_limit",Ls="$initial_campaign_params",Ns="$initial_referrer_info",Vs="$initial_person_info",lr="$epp",Uc="__POSTHOG_TOOLBAR__",nl="$posthog_cookieless",$m=[Hc,Hn,"__cmpns",zn,Is,Fs,ar,dn,ft,Gi,Rs,qt,Gn,Os,or,$s,Ds,Ls,Ns,lr];function il(t){return t instanceof Element&&(t.id===Uc||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function Ir(t){return!!t&&t.nodeType===1}function Ct(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Gc(t){return!!t&&t.nodeType===3}function Kc(t){return!!t&&t.nodeType===11}function Ia(t){return t?Ar(t).split(/\s+/):[]}function rl(t){var e=v==null?void 0:v.location.href;return!!(e&&t&&t.some(n=>e.match(n)))}function ur(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Ia(e)}function Yc(t){return j(t)?null:Ar(t).split(/(\s+)/).filter(e=>xn(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Pr(t){var e="";return qs(t)&&!Zc(t)&&t.childNodes&&t.childNodes.length&&K(t.childNodes,function(n){var i;Gc(n)&&n.textContent&&(e+=(i=Yc(n.textContent))!==null&&i!==void 0?i:"")}),Ar(e)}function Xc(t){return k(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var Bs=["a","button","form","input","select","textarea","label"];function Jc(t){var e=t.parentNode;return!(!e||!Ir(e))&&e}function Dm(t,e,n,i,r){var s,a,o;if(n===void 0&&(n=void 0),!v||!t||Ct(t,"html")||!Ir(t)||(s=n)!=null&&s.url_allowlist&&!rl(n.url_allowlist)||(a=n)!=null&&a.url_ignorelist&&rl(n.url_ignorelist))return!1;if((o=n)!=null&&o.dom_event_allowlist){var l=n.dom_event_allowlist;if(l&&!l.some(b=>e.type===b))return!1}for(var u=!1,c=[t],d=!0,h=t;h.parentNode&&!Ct(h,"body");)if(Kc(h.parentNode))c.push(h.parentNode.host),h=h.parentNode.host;else{if(!(d=Jc(h)))break;if(i||Bs.indexOf(d.tagName.toLowerCase())>-1)u=!0;else{var f=v.getComputedStyle(d);f&&f.getPropertyValue("cursor")==="pointer"&&(u=!0)}c.push(d),h=d}if(!function(b,m){var _=m==null?void 0:m.element_allowlist;if(k(_))return!0;var S=function(C){if(_.some(F=>C.tagName.toLowerCase()===F))return{v:!0}};for(var T of b){var x=S(T);if(typeof x=="object")return x.v}return!1}(c,n)||!function(b,m){var _=m==null?void 0:m.css_selector_allowlist;if(k(_))return!0;var S=function(C){if(_.some(F=>C.matches(F)))return{v:!0}};for(var T of b){var x=S(T);if(typeof x=="object")return x.v}return!1}(c,n))return!1;var g=v.getComputedStyle(t);if(g&&g.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var p=t.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(r||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(r||["change","click"]).indexOf(e.type)>=0;default:return u?(r||["click"]).indexOf(e.type)>=0:(r||["click"]).indexOf(e.type)>=0&&(Bs.indexOf(p)>-1||t.getAttribute("contenteditable")==="true")}}function qs(t){for(var e=t;e.parentNode&&!Ct(e,"body");e=e.parentNode){var n=ur(e);if(N(n,"ph-sensitive")||N(n,"ph-no-capture"))return!1}if(N(ur(t),"ph-include"))return!0;var i=t.type||"";if(oe(i))switch(i.toLowerCase()){case"hidden":case"password":return!1}var r=t.name||t.id||"";return!(oe(r)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g,"")))}function Zc(t){return!!(Ct(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||Ct(t,"select")||Ct(t,"textarea")||t.getAttribute("contenteditable")==="true")}var Qc="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Lm=new RegExp("^(?:"+Qc+")$"),Nm=new RegExp(Qc),eh="\\d{3}-?\\d{2}-?\\d{4}",Vm=new RegExp("^("+eh+")$"),Bm=new RegExp("("+eh+")");function xn(t,e){return e===void 0&&(e=!0),!(j(t)||oe(t)&&(t=Ar(t),(e?Lm:Nm).test((t||"").replace(/[- ]/g,""))||(e?Vm:Bm).test(t)))}function th(t){var e=Pr(t);return xn(e=(e+" "+nh(t)).trim())?e:""}function nh(t){var e="";return t&&t.childNodes&&t.childNodes.length&&K(t.childNodes,function(n){var i;if(n&&((i=n.tagName)==null?void 0:i.toLowerCase())==="span")try{var r=Pr(n);e=(e+" "+r).trim(),n.childNodes&&n.childNodes.length&&(e=(e+" "+nh(n)).trim())}catch(s){I.error("[AutoCapture]",s)}}),e}function qm(t){return function(e){var n=e.map(i=>{var r,s,a="";if(i.tag_name&&(a+=i.tag_name),i.attr_class)for(var o of(i.attr_class.sort(),i.attr_class))a+="."+o.replace(/"/g,"");var l=A({},i.text?{text:i.text}:{},{"nth-child":(r=i.nth_child)!==null&&r!==void 0?r:0,"nth-of-type":(s=i.nth_of_type)!==null&&s!==void 0?s:0},i.href?{href:i.href}:{},i.attr_id?{attr_id:i.attr_id}:{},i.attributes),u={};return Ui(l).sort((c,d)=>{var[h]=c,[f]=d;return h.localeCompare(f)}).forEach(c=>{var[d,h]=c;return u[sl(d.toString())]=sl(h.toString())}),a+=":",a+=Ui(l).map(c=>{var[d,h]=c;return d+'="'+h+'"'}).join("")});return n.join(";")}(function(e){return e.map(n=>{var i,r,s={text:(i=n.$el_text)==null?void 0:i.slice(0,400),tag_name:n.tag_name,href:(r=n.attr__href)==null?void 0:r.slice(0,2048),attr_class:jm(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Ui(n).filter(a=>{var[o]=a;return o.indexOf("attr__")===0}).forEach(a=>{var[o,l]=a;return s.attributes[o]=l}),s})}(t))}function sl(t){return t.replace(/"|\\"/g,'\\"')}function jm(t){var e=t.attr__class;return e?ne(e)?e:Ia(e):void 0}class ih{constructor(){this.clicks=[]}isRageClick(e,n,i){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(n-r.y)<30&&i-r.timestamp<1e3){if(this.clicks.push({x:e,y:n,timestamp:i}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:n,timestamp:i}];return!1}}var Wm=["localhost","127.0.0.1"],Sn=t=>{var e=M==null?void 0:M.createElement("a");return k(e)?null:(e.href=t,e)},Hm=function(t,e){var n,i;e===void 0&&(e="&");var r=[];return K(t,function(s,a){k(s)||k(a)||a==="undefined"||(n=encodeURIComponent((o=>o instanceof File)(s)?s.name:s.toString()),i=encodeURIComponent(a),r[r.length]=i+"="+n)}),r.join(e)},cr=function(t,e){for(var n,i=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),r=0;r<i.length;r++){var s=i[r].split("=");if(s[0]===e){n=s;break}}if(!ne(n)||n.length<2)return"";var a=n[1];try{a=decodeURIComponent(a)}catch{I.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Pa=function(t,e,n){if(!t||!e||!e.length)return t;for(var i=t.split("#"),r=i[0]||"",s=i[1],a=r.split("?"),o=a[1],l=a[0],u=(o||"").split("&"),c=[],d=0;d<u.length;d++){var h=u[d].split("=");ne(h)&&(e.includes(h[0])?c.push(h[0]+"="+n):c.push(u[d]))}var f=l;return o!=null&&(f+="?"+c.join("&")),s!=null&&(f+="#"+s),f},hr=function(t,e){var n=t.match(new RegExp(e+"=([^&]*)"));return n?n[1]:null},al=we("[AutoCapture]");function Wr(t,e){return e.length>t?e.slice(0,t)+"...":e}function zm(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Ir(e));return e}function Um(t,e,n,i){var r=t.tagName.toLowerCase(),s={tag_name:r};Bs.indexOf(r)>-1&&!n&&(r.toLowerCase()==="a"||r.toLowerCase()==="button"?s.$el_text=Wr(1024,th(t)):s.$el_text=Wr(1024,Pr(t)));var a=ur(t);a.length>0&&(s.classes=a.filter(function(c){return c!==""})),K(t.attributes,function(c){var d;if((!Zc(t)||["name","id","class","aria-label"].indexOf(c.name)!==-1)&&(i==null||!i.includes(c.name))&&!e&&xn(c.value)&&(d=c.name,!oe(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){var h=c.value;c.name==="class"&&(h=Ia(h).join(" ")),s["attr__"+c.name]=Wr(1024,h)}});for(var o=1,l=1,u=t;u=zm(u);)o++,u.tagName===t.tagName&&l++;return s.nth_child=o,s.nth_of_type=l,s}function Gm(t,e){for(var n,i,{e:r,maskAllElementAttributes:s,maskAllText:a,elementAttributeIgnoreList:o,elementsChainAsString:l}=e,u=[t],c=t;c.parentNode&&!Ct(c,"body");)Kc(c.parentNode)?(u.push(c.parentNode.host),c=c.parentNode.host):(u.push(c.parentNode),c=c.parentNode);var d,h=[],f={},g=!1,p=!1;if(K(u,T=>{var x=qs(T);T.tagName.toLowerCase()==="a"&&(g=T.getAttribute("href"),g=x&&g&&xn(g)&&g),N(ur(T),"ph-no-capture")&&(p=!0),h.push(Um(T,s,a,o));var C=function(F){if(!qs(F))return{};var w={};return K(F.attributes,function(R){if(R.name&&R.name.indexOf("data-ph-capture-attribute")===0){var q=R.name.replace("data-ph-capture-attribute-",""),z=R.value;q&&z&&xn(z)&&(w[q]=z)}}),w}(T);ae(f,C)}),p)return{props:{},explicitNoCapture:p};if(a||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?h[0].$el_text=th(t):h[0].$el_text=Pr(t)),g){var b,m;h[0].attr__href=g;var _=(b=Sn(g))==null?void 0:b.host,S=v==null||(m=v.location)==null?void 0:m.host;_&&S&&_!==S&&(d=g)}return{props:ae({$event_type:r.type,$ce_version:1},l?{}:{$elements:h},{$elements_chain:qm(h)},(n=h[0])!=null&&n.$el_text?{$el_text:(i=h[0])==null?void 0:i.$el_text}:{},d&&r.type==="click"?{$external_click_url:d}:{},f)}}class Km{constructor(e){this.i=!1,this.o=null,this.rageclicks=new ih,this.h=!1,this.instance=e,this.m=null}get S(){var e,n,i=ie(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=(e=i.url_allowlist)==null?void 0:e.map(r=>new RegExp(r)),i.url_ignorelist=(n=i.url_ignorelist)==null?void 0:n.map(r=>new RegExp(r)),i}$(){if(this.isBrowserSupported()){if(v&&M){var e=i=>{i=i||(v==null?void 0:v.event);try{this.k(i)}catch(r){al.error("Failed to capture event",r)}};if(Q(M,"submit",e,{capture:!0}),Q(M,"change",e,{capture:!0}),Q(M,"click",e,{capture:!0}),this.S.capture_copied_text){var n=i=>{i=i||(v==null?void 0:v.event),this.k(i,jr)};Q(M,"copy",n,{capture:!0}),Q(M,"cut",n,{capture:!0})}}}else al.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[zo]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var n,i=[];return(n=this.m)==null||n.forEach(r=>{var s=M==null?void 0:M.querySelectorAll(r);s==null||s.forEach(a=>{e===a&&i.push(r)})}),i}get isEnabled(){var e,n,i=(e=this.instance.persistence)==null?void 0:e.props[zo],r=this.o;if(Dt(r)&&!mt(i)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this.o)!==null&&n!==void 0?n:!!i;return!!this.instance.config.autocapture&&!s}k(e,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var i,r=Xc(e);Gc(r)&&(r=r.parentNode||null),n==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!=null&&i.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.k(e,"$rageclick");var s=n===jr;if(r&&Dm(r,e,this.S,s,s?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:o}=Gm(r,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(o)return!1;var l=this.getElementSelectors(r);if(l&&l.length>0&&(a.$element_selectors=l),n===jr){var u,c=Yc(v==null||(u=v.getSelection())==null?void 0:u.toString()),d=e.type||"clipboard";if(!c)return!1;a.$selected_content=c,a.$copy_type=d}return this.instance.capture(n,a),!0}}}isBrowserSupported(){return ze(M==null?void 0:M.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return ye(t)&&isFinite(t)&&Math.floor(t)===t});var ol="0123456789abcdef";class dr{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,n,i,r){if(!Number.isInteger(e)||!Number.isInteger(n)||!Number.isInteger(i)||!Number.isInteger(r)||e<0||n<0||i<0||r<0||e>0xffffffffffff||n>4095||i>1073741823||r>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=e/Math.pow(2,40),s[1]=e/Math.pow(2,32),s[2]=e/Math.pow(2,24),s[3]=e/Math.pow(2,16),s[4]=e/Math.pow(2,8),s[5]=e,s[6]=112|n>>>8,s[7]=n,s[8]=128|i>>>24,s[9]=i>>>16,s[10]=i>>>8,s[11]=i,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new dr(s)}toString(){for(var e="",n=0;n<this.bytes.length;n++)e=e+ol.charAt(this.bytes[n]>>>4)+ol.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new dr(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var n=0;n<16;n++){var i=this.bytes[n]-e.bytes[n];if(i!==0)return Math.sign(i)}return 0}}class Ym{constructor(){this.I=0,this.P=0,this.R=new Xm}generate(){var e=this.generateOrAbort();if(k(e)){this.I=0;var n=this.generateOrAbort();if(k(n))throw new Error("Could not generate UUID after timestamp reset");return n}return e}generateOrAbort(){var e=Date.now();if(e>this.I)this.I=e,this.T();else{if(!(e+1e4>this.I))return;this.P++,this.P>4398046511103&&(this.I++,this.T())}return dr.fromFieldsV7(this.I,Math.trunc(this.P/Math.pow(2,30)),this.P&Math.pow(2,30)-1,this.R.nextUint32())}T(){this.P=1024*this.R.nextUint32()+(1023&this.R.nextUint32())}}var ll,rh=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};v&&!k(v.crypto)&&crypto.getRandomValues&&(rh=t=>crypto.getRandomValues(t));class Xm{constructor(){this.M=new Uint32Array(8),this.C=1/0}nextUint32(){return this.C>=this.M.length&&(rh(this.M),this.C=0),this.M[this.C++]}}var It=()=>Jm().toString(),Jm=()=>(ll||(ll=new Ym)).generate(),Zm="Thu, 01 Jan 1970 00:00:00 GMT",Nn="",Qm=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function e_(t,e){if(e){var n=function(r,s){if(s===void 0&&(s=M),Nn)return Nn;if(!s||["localhost","127.0.0.1"].includes(r))return"";for(var a=r.split("."),o=Math.min(a.length,8),l="dmn_chk_"+It(),u=new RegExp("(^|;)\\s*"+l+"=1");!Nn&&o--;){var c=a.slice(o).join("."),d=l+"=1;domain=."+c;s.cookie=d,u.test(s.cookie)&&(s.cookie=d+";expires="+Zm,Nn=c)}return Nn}(t);if(!n){var i=(r=>{var s=r.match(Qm);return s?s[0]:""})(t);i!==n&&I.info("Warning: cookie subdomain discovery mismatch",i,n),n=i}return n?"; domain=."+n:""}return""}var At,yt={O:()=>!!M,F:function(t){I.error("cookieStore error: "+t)},A:function(t){if(M){try{for(var e=t+"=",n=M.cookie.split(";").filter(s=>s.length),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return decodeURIComponent(r.substring(e.length,r.length))}}catch{}return null}},D:function(t){var e;try{e=JSON.parse(yt.A(t))||{}}catch{}return e},j:function(t,e,n,i,r){if(M)try{var s="",a="",o=e_(M.location.hostname,i);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}r&&(a="; secure");var u=t+"="+encodeURIComponent(JSON.stringify(e))+s+"; SameSite=Lax; path=/"+o+a;return u.length>3686.4&&I.warn("cookieStore warning: large cookie, len="+u.length),M.cookie=u,u}catch{return}},L:function(t,e){try{yt.j(t,"",-1,e)}catch{return}}},Hr=null,ce={O:function(){if(!Dt(Hr))return Hr;var t=!0;if(k(v))t=!1;else try{var e="__mplssupport__";ce.j(e,"xyz"),ce.A(e)!=='"xyz"'&&(t=!1),ce.L(e)}catch{t=!1}return t||I.error("localStorage unsupported; falling back to cookie store"),Hr=t,t},F:function(t){I.error("localStorage error: "+t)},A:function(t){try{return v==null?void 0:v.localStorage.getItem(t)}catch(e){ce.F(e)}return null},D:function(t){try{return JSON.parse(ce.A(t))||{}}catch{}return null},j:function(t,e){try{v==null||v.localStorage.setItem(t,JSON.stringify(e))}catch(n){ce.F(n)}},L:function(t){try{v==null||v.localStorage.removeItem(t)}catch(e){ce.F(e)}}},t_=["distinct_id",ar,Un,lr,Vs],Pi=A({},ce,{D:function(t){try{var e={};try{e=yt.D(t)||{}}catch{}var n=ae(e,JSON.parse(ce.A(t)||"{}"));return ce.j(t,n),n}catch{}return null},j:function(t,e,n,i,r,s){try{ce.j(t,e,void 0,void 0,s);var a={};t_.forEach(o=>{e[o]&&(a[o]=e[o])}),Object.keys(a).length&&yt.j(t,a,n,i,r,s)}catch(o){ce.F(o)}},L:function(t,e){try{v==null||v.localStorage.removeItem(t),yt.L(t,e)}catch(n){ce.F(n)}}}),Ci={},n_={O:function(){return!0},F:function(t){I.error("memoryStorage error: "+t)},A:function(t){return Ci[t]||null},D:function(t){return Ci[t]||null},j:function(t,e){Ci[t]=e},L:function(t){delete Ci[t]}},Lt=null,fe={O:function(){if(!Dt(Lt))return Lt;if(Lt=!0,k(v))Lt=!1;else try{var t="__support__";fe.j(t,"xyz"),fe.A(t)!=='"xyz"'&&(Lt=!1),fe.L(t)}catch{Lt=!1}return Lt},F:function(t){I.error("sessionStorage error: ",t)},A:function(t){try{return v==null?void 0:v.sessionStorage.getItem(t)}catch(e){fe.F(e)}return null},D:function(t){try{return JSON.parse(fe.A(t))||null}catch{}return null},j:function(t,e){try{v==null||v.sessionStorage.setItem(t,JSON.stringify(e))}catch(n){fe.F(n)}},L:function(t){try{v==null||v.sessionStorage.removeItem(t)}catch(e){fe.F(e)}}};(function(t){t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED"})(At||(At={}));class i_{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.N()?At.DENIED:this.U}isOptedOut(){return this.consent===At.DENIED||this.consent===At.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.q.j(this.B,e?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.q.L(this.B,this.S.cross_subdomain_cookie)}get B(){var{token:e,opt_out_capturing_cookie_prefix:n}=this._instance.config;return(n||"__ph_opt_in_out_")+e}get U(){var e=this.q.A(this.B);return e==="1"?At.GRANTED:e==="0"?At.DENIED:At.PENDING}get q(){if(!this.H){var e=this.S.opt_out_capturing_persistence_type;this.H=e==="localStorage"?ce:yt;var n=e==="localStorage"?yt:ce;n.A(this.B)&&(this.H.A(this.B)||this.optInOut(n.A(this.B)==="1"),n.L(this.B,this.S.cross_subdomain_cookie))}return this.H}N(){return!!this.S.respect_dnt&&!!Wc([Ve==null?void 0:Ve.doNotTrack,Ve==null?void 0:Ve.msDoNotTrack,L.doNotTrack],e=>N([!0,1,"1","yes"],e))}}var Ri=we("[Dead Clicks]"),r_=()=>!0,s_=t=>{var e,n=!((e=t.instance.persistence)==null||!e.get_property(zc)),i=t.instance.config.capture_dead_clicks;return mt(i)?i:n};class sh{get lazyLoadedDeadClicksAutocapture(){return this.W}constructor(e,n,i){this.instance=e,this.isEnabled=n,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[zc]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.G(()=>{this.J()})}G(e){var n,i;(n=L.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&e(),(i=L.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this.instance,"dead-clicks-autocapture",r=>{r?Ri.error("failed to load script",r):e()})}J(){var e;if(M){if(!this.W&&(e=L.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var n=ie(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.W=L.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.W.start(M),Ri.info("starting...")}}else Ri.error("`document` not found. Cannot start.")}stop(){this.W&&(this.W.stop(),this.W=void 0,Ri.info("stopping..."))}}var zr=we("[ExceptionAutocapture]");class a_{constructor(e){var n;this.V=()=>{var i;if(v&&this.isEnabled&&(i=L.__PosthogExtensions__)!=null&&i.errorWrappingFunctions){var r=L.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,s=L.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,a=L.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.K&&this.S.capture_unhandled_errors&&(this.K=r(this.captureException.bind(this))),!this.Y&&this.S.capture_unhandled_rejections&&(this.Y=s(this.captureException.bind(this))),!this.X&&this.S.capture_console_errors&&(this.X=a(this.captureException.bind(this)))}catch(o){zr.error("failed to start",o),this.Z()}}},this._instance=e,this.tt=!((n=this._instance.persistence)==null||!n.props[Uo]),this.S=this.it(),this.startIfEnabled()}it(){var e=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return ie(e)?n=A({},n,e):(k(e)?this.tt:e)&&(n=A({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(zr.info("enabled"),this.G(this.V))}G(e){var n,i;(n=L.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&e(),(i=L.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"exception-autocapture",r=>{if(r)return zr.error("failed to load script",r);e()})}Z(){var e,n,i;(e=this.K)==null||e.call(this),this.K=void 0,(n=this.Y)==null||n.call(this),this.Y=void 0,(i=this.X)==null||i.call(this),this.X=void 0}onRemoteConfig(e){var n=e.autocaptureExceptions;this.tt=!!n||!1,this.S=this.it(),this._instance.persistence&&this._instance.persistence.register({[Uo]:this.tt}),this.startIfEnabled()}captureException(e){var n=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=n+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id(),this._instance.exceptions.sendExceptionEvent(e)}}function ah(t){return!k(Event)&&oh(t,Event)}function oh(t,e){try{return t instanceof e}catch{return!1}}function lh(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return oh(t,Error)}}function Ki(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function Ur(t){return Ki(t,"DOMError")}var ul=/\(error: (.*)\)/,cl=50,fn="?";function Gr(t,e,n,i){var r={platform:"web:javascript",filename:t,function:e==="<anonymous>"?fn:e,in_app:!0};return k(n)||(r.lineno=n),k(i)||(r.colno=i),r}var o_=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,l_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u_=/\((\S*)(?::(\d+))(?::(\d+))\)/,c_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,h_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d_=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.sort((r,s)=>r[0]-s[0]).map(r=>r[1]);return function(r,s){s===void 0&&(s=0);for(var a=[],o=r.split(`
`),l=s;l<o.length;l++){var u=o[l];if(!(u.length>1024)){var c=ul.test(u)?u.replace(ul,"$1"):u;if(!c.match(/\S*Error: /)){for(var d of i){var h=d(c);if(h){a.push(h);break}}if(a.length>=cl)break}}}return function(f){if(!f.length)return[];var g=Array.from(f);return g.reverse(),g.slice(0,cl).map(p=>A({},p,{filename:p.filename||f_(g).filename,function:p.function||fn}))}(a)}}([30,t=>{var e=o_.exec(t);if(e){var[,n,i,r]=e;return Gr(n,fn,+i,+r)}var s=l_.exec(t);if(s){if(s[2]&&s[2].indexOf("eval")===0){var a=u_.exec(s[2]);a&&(s[2]=a[1],s[3]=a[2],s[4]=a[3])}var[o,l]=dl(s[1]||fn,s[2]);return Gr(l,o,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,t=>{var e=c_.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var n=h_.exec(e[3]);n&&(e[1]=e[1]||"eval",e[3]=n[1],e[4]=n[2],e[5]="")}var i=e[3],r=e[1]||fn;return[r,i]=dl(r,i),Gr(i,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function f_(t){return t[t.length-1]||{}}var Oi,hl,Kr,dl=(t,e)=>{var n=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return n||i?[t.indexOf("@")!==-1?t.split("@")[0]:fn,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},p_=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Ca(t,e){e===void 0&&(e=0);var n=t.stacktrace||t.stack||"",i=function(a){return a&&g_.test(a.message)?1:0}(t);try{var r=d_,s=function(a,o){var l=function(u){var c=globalThis._posthogChunkIds;if(!c)return{};var d=Object.keys(c);return Kr&&d.length===hl||(hl=d.length,Kr=d.reduce((h,f)=>{Oi||(Oi={});var g=Oi[f];if(g)h[g[0]]=g[1];else for(var p=u(f),b=p.length-1;b>=0;b--){var m=p[b],_=m==null?void 0:m.filename,S=c[f];if(_&&S){h[_]=S,Oi[f]=[_,S];break}}return h},{})),Kr}(o);return a.forEach(u=>{u.filename&&(u.chunk_id=l[u.filename])}),a}(r(n,i),r);return s.slice(0,s.length-e)}catch{}return[]}var g_=/Minified React error #\d+;/i;function v_(t,e){var n,i,r=Ca(t),s=(n=e==null?void 0:e.handled)===null||n===void 0||n,a=(i=e==null?void 0:e.synthetic)!==null&&i!==void 0&&i;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:t.name,value:function(o){var l=o.message;return l.error&&typeof l.error.message=="string"?String(l.error.message):String(l)}(t),stacktrace:{frames:r,type:"raw"},mechanism:{handled:s,synthetic:a}}}function uh(t,e){var n=v_(t,e);return t.cause&&lh(t.cause)&&t.cause!==t?[n,...uh(t.cause,{handled:e==null?void 0:e.handled,synthetic:e==null?void 0:e.synthetic})]:[n]}function Yr(t,e){return{$exception_list:uh(t,e),$exception_level:"error"}}function Xr(t,e){var n,i,r,s=(n=e==null?void 0:e.handled)===null||n===void 0||n,a=(i=e==null?void 0:e.synthetic)===null||i===void 0||i,o={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(r=e==null?void 0:e.defaultExceptionType)!==null&&r!==void 0?r:"Error",value:t||(e==null?void 0:e.defaultExceptionMessage),mechanism:{handled:s,synthetic:a}};if(e!=null&&e.syntheticException){var l=Ca(e.syntheticException,1);l.length&&(o.stacktrace={frames:l,type:"raw"})}return{$exception_list:[o],$exception_level:"error"}}function m_(t){return oe(t)&&!Ms(t)&&km.indexOf(t)>=0}function __(t,e){var n,i,r=(n=e==null?void 0:e.handled)===null||n===void 0||n,s=(i=e==null?void 0:e.synthetic)===null||i===void 0||i,a=e!=null&&e.overrideExceptionType?e.overrideExceptionType:ah(t)?t.constructor.name:"Error",o="Non-Error 'exception' captured with keys: "+function(c,d){d===void 0&&(d=40);var h=Object.keys(c);if(h.sort(),!h.length)return"[object has no keys]";for(var f=h.length;f>0;f--){var g=h.slice(0,f).join(", ");if(!(g.length>d))return f===h.length||g.length<=d?g:g.slice(0,d)+"..."}return""}(t),l={type:a,value:o,mechanism:{handled:r,synthetic:s}};if(e!=null&&e.syntheticException){var u=Ca(e==null?void 0:e.syntheticException,1);u.length&&(l.stacktrace={frames:u,type:"raw"})}return{$exception_list:[l],$exception_level:m_(t.level)?t.level:"error"}}function y_(t,e){var{error:n,event:i}=t,r={$exception_list:[]},s=n||i;if(Ur(s)||function(h){return Ki(h,"DOMException")}(s)){var a=s;if(function(h){return"stack"in h}(s))r=Yr(s,e);else{var o=a.name||(Ur(a)?"DOMError":"DOMException"),l=a.message?o+": "+a.message:o;r=Xr(l,A({},e,{overrideExceptionType:Ur(a)?"DOMError":"DOMException",defaultExceptionMessage:l}))}return"code"in a&&(r.$exception_DOMException_code=""+a.code),r}if(function(h){return Ki(h,"ErrorEvent")}(s)&&s.error)return Yr(s.error,e);if(lh(s))return Yr(s,e);if(function(h){return Ki(h,"Object")}(s)||ah(s))return __(s,e);if(k(n)&&oe(i)){var u="Error",c=i,d=i.match(p_);return d&&(u=d[1],c=d[2]),Xr(c,A({},e,{overrideExceptionType:u,defaultExceptionMessage:c}))}return Xr(s,e)}function fl(t,e,n){try{if(!(e in t))return()=>{};var i=t[e],r=n(i);return ze(r)&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=r,()=>{t[e]=i}}catch{return()=>{}}}class b_{constructor(e){var n;this._instance=e,this.et=(v==null||(n=v.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(I.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.rt&&this.rt(),this.rt=void 0,I.info("History API monitoring stopped")}monitorHistoryChanges(){var e,n;if(v&&v.history){var i=this;(e=v.history.pushState)!=null&&e.__posthog_wrapped__||fl(v.history,"pushState",r=>function(s,a,o){r.call(this,s,a,o),i.st("pushState")}),(n=v.history.replaceState)!=null&&n.__posthog_wrapped__||fl(v.history,"replaceState",r=>function(s,a,o){r.call(this,s,a,o),i.st("replaceState")}),this.nt()}}st(e){try{var n,i=v==null||(n=v.location)==null?void 0:n.pathname;if(!i)return;i!==this.et&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.et=i}catch(r){I.error("Error capturing "+e+" pageview",r)}}nt(){if(!this.rt){var e=()=>{this.st("popstate")};Q(v,"popstate",e),this.rt=()=>{v&&v.removeEventListener("popstate",e)}}}}function fr(t){var e,n;return((e=JSON.stringify(t,(n=[],function(i,r){if(ie(r)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(r)?"[Circular]":(n.push(r),r)}return r})))==null?void 0:e.length)||0}function js(t,e){if(e===void 0&&(e=66060288e-1),t.size>=e&&t.data.length>1){var n=Math.floor(t.data.length/2),i=t.data.slice(0,n),r=t.data.slice(n);return[js({size:fr(i),data:i,sessionId:t.sessionId,windowId:t.windowId}),js({size:fr(r),data:r,sessionId:t.sessionId,windowId:t.windowId})].flatMap(s=>s)}return[t]}var pt=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(pt||{}),Ye=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Ye||{}),Ws="[SessionRecording]",Hs="redacted",$i={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com"]},w_=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],x_=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],S_=["/s/","/e/","/i/"];function pl(t,e,n,i){if(j(t))return t;var r=(e==null?void 0:e["content-length"])||function(s){return new Blob([s]).size}(t);return oe(r)&&(r=parseInt(r)),r>n?Ws+" "+i+" body too large to record ("+r+" bytes)":t}function gl(t,e){if(j(t))return t;var n=t;return xn(n,!1)||(n=Ws+" "+e+" body "+Hs),K(x_,i=>{var r,s;(r=n)!=null&&r.length&&((s=n)==null?void 0:s.indexOf(i))!==-1&&(n=Ws+" "+e+" body "+Hs+" as might contain: "+i)}),n}var E_=(t,e)=>{var n,i,r,s={payloadSizeLimitBytes:$i.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...$i.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...$i.payloadHostDenyList]},a=t.session_recording.recordHeaders!==!1&&e.recordHeaders,o=t.session_recording.recordBody!==!1&&e.recordBody,l=t.capture_performance!==!1&&e.recordPerformance,u=(n=s,r=Math.min(1e6,(i=n.payloadSizeLimitBytes)!==null&&i!==void 0?i:1e6),h=>(h!=null&&h.requestBody&&(h.requestBody=pl(h.requestBody,h.requestHeaders,r,"Request")),h!=null&&h.responseBody&&(h.responseBody=pl(h.responseBody,h.responseHeaders,r,"Response")),h)),c=h=>{return u(((p,b)=>{var m,_=Sn(p.name),S=b.indexOf("http")===0?(m=Sn(b))==null?void 0:m.pathname:b;S==="/"&&(S="");var T=_==null?void 0:_.pathname.replace(S||"","");if(!(_&&T&&S_.some(x=>T.indexOf(x)===0)))return p})((g=(f=h).requestHeaders,j(g)||K(Object.keys(g??{}),p=>{w_.includes(p.toLowerCase())&&(g[p]=Hs)}),f),t.api_host));var f,g},d=ze(t.session_recording.maskNetworkRequestFn);return d&&ze(t.session_recording.maskCapturedNetworkRequestFn)&&I.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(t.session_recording.maskCapturedNetworkRequestFn=h=>{var f=t.session_recording.maskNetworkRequestFn({url:h.name});return A({},h,{name:f==null?void 0:f.url})}),s.maskRequestFn=ze(t.session_recording.maskCapturedNetworkRequestFn)?h=>{var f,g=c(h);return g&&(f=t.session_recording.maskCapturedNetworkRequestFn==null?void 0:t.session_recording.maskCapturedNetworkRequestFn(g))!==null&&f!==void 0?f:void 0}:h=>function(f){if(!k(f))return f.requestBody=gl(f.requestBody,"Request"),f.responseBody=gl(f.responseBody,"Response"),f}(c(h)),A({},$i,s,{recordHeaders:a,recordBody:o,recordPerformance:l,recordInitialRequests:l})};function He(t,e,n,i,r){return e>n&&(I.warn("min cannot be greater than max."),e=n),ye(t)?t>n?(i&&I.warn(i+" cannot be  greater than max: "+n+". Using max value instead."),n):t<e?(i&&I.warn(i+" cannot be less than min: "+e+". Using min value instead."),e):t:(i&&I.warn(i+" must be a number. using max or fallback. max: "+n+", fallback: "+r),He(r||n,e,n,i))}class T_{constructor(e,n){var i,r;n===void 0&&(n={}),this.ot=100,this.lt=10,this.ut={},this.ht={},this.dt=()=>{Object.keys(this.ut).forEach(s=>{this.ut[s]=this.ut[s]+this.lt,this.ut[s]>=this.ot&&delete this.ut[s]})},this.vt=s=>{var a=this._rrweb.mirror.getNode(s);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var o=a.closest("svg");if(o)return[this._rrweb.mirror.getId(o),o]}return[s,a]},this.ct=s=>{var a,o,l,u,c,d,h,f;return((a=(o=s.removes)==null?void 0:o.length)!==null&&a!==void 0?a:0)+((l=(u=s.attributes)==null?void 0:u.length)!==null&&l!==void 0?l:0)+((c=(d=s.texts)==null?void 0:d.length)!==null&&c!==void 0?c:0)+((h=(f=s.adds)==null?void 0:f.length)!==null&&h!==void 0?h:0)},this.throttleMutations=s=>{if(s.type!==3||s.data.source!==0)return s;var a=s.data,o=this.ct(a);a.attributes&&(a.attributes=a.attributes.filter(u=>{var c,d,h,[f,g]=this.vt(u.id);return this.ut[f]===0?!1:(this.ut[f]=(c=this.ut[f])!==null&&c!==void 0?c:this.ot,this.ut[f]=Math.max(this.ut[f]-1,0),this.ut[f]===0&&(this.ht[f]||(this.ht[f]=!0,(d=(h=this.ft).onBlockedNode)==null||d.call(h,f,g))),u)}));var l=this.ct(a);return l!==0||o===l?s:void 0},this._rrweb=e,this.ft=n,this.lt=He((i=this.ft.refillRate)!==null&&i!==void 0?i:this.lt,0,100,"mutation throttling refill rate"),this.ot=He((r=this.ft.bucketSize)!==null&&r!==void 0?r:this.ot,0,100,"mutation throttling bucket size"),setInterval(()=>{this.dt()},1e3)}}var Ue=Uint8Array,Ce=Uint16Array,En=Uint32Array,Ra=new Ue([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oa=new Ue([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vl=new Ue([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ch=function(t,e){for(var n=new Ce(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];var r=new En(n[30]);for(i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return[n,r]},hh=ch(Ra,2),k_=hh[0],zs=hh[1];k_[28]=258,zs[258]=28;for(var ml=ch(Oa,0)[1],dh=new Ce(32768),X=0;X<32768;++X){var Nt=(43690&X)>>>1|(21845&X)<<1;Nt=(61680&(Nt=(52428&Nt)>>>2|(13107&Nt)<<2))>>>4|(3855&Nt)<<4,dh[X]=((65280&Nt)>>>8|(255&Nt)<<8)>>>1}var ei=function(t,e,n){for(var i=t.length,r=0,s=new Ce(e);r<i;++r)++s[t[r]-1];var a,o=new Ce(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;for(a=new Ce(i),r=0;r<i;++r)a[r]=dh[o[t[r]-1]++]>>>15-t[r];return a},Qt=new Ue(288);for(X=0;X<144;++X)Qt[X]=8;for(X=144;X<256;++X)Qt[X]=9;for(X=256;X<280;++X)Qt[X]=7;for(X=280;X<288;++X)Qt[X]=8;var pr=new Ue(32);for(X=0;X<32;++X)pr[X]=5;var A_=ei(Qt,9),M_=ei(pr,5),fh=function(t){return(t/8>>0)+(7&t&&1)},ph=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof Ce?Ce:t instanceof En?En:Ue)(n-e);return i.set(t.subarray(e,n)),i},dt=function(t,e,n){n<<=7&e;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8},Vn=function(t,e,n){n<<=7&e;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},Jr=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return[new Ue(0),0];if(r==1){var a=new Ue(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(x,C){return x.f-C.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=r-1;)o=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:o.f+l.f,l:o,r:l};var h=s[0].s;for(i=1;i<r;++i)s[i].s>h&&(h=s[i].s);var f=new Ce(h+1),g=Us(n[c-1],f,0);if(g>e){i=0;var p=0,b=g-e,m=1<<b;for(s.sort(function(x,C){return f[C.s]-f[x.s]||x.f-C.f});i<r;++i){var _=s[i].s;if(!(f[_]>e))break;p+=m-(1<<g-f[_]),f[_]=e}for(p>>>=b;p>0;){var S=s[i].s;f[S]<e?p-=1<<e-f[S]++-1:++i}for(;i>=0&&p;--i){var T=s[i].s;f[T]==e&&(--f[T],++p)}g=e}return[new Ue(f),g]},Us=function(t,e,n){return t.s==-1?Math.max(Us(t.l,e,n+1),Us(t.r,e,n+1)):e[t.s]=n},_l=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ce(++e),i=0,r=t[0],s=1,a=function(l){n[i++]=l},o=1;o<=e;++o)if(t[o]==r&&o!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=t[o]}return[n.subarray(0,i),e]},Bn=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},Gs=function(t,e,n){var i=n.length,r=fh(e+2);t[r]=255&i,t[r+1]=i>>>8,t[r+2]=255^t[r],t[r+3]=255^t[r+1];for(var s=0;s<i;++s)t[r+s+4]=n[s];return 8*(r+4+i)},yl=function(t,e,n,i,r,s,a,o,l,u,c){dt(e,c++,n),++r[256];for(var d=Jr(r,15),h=d[0],f=d[1],g=Jr(s,15),p=g[0],b=g[1],m=_l(h),_=m[0],S=m[1],T=_l(p),x=T[0],C=T[1],F=new Ce(19),w=0;w<_.length;++w)F[31&_[w]]++;for(w=0;w<x.length;++w)F[31&x[w]]++;for(var R=Jr(F,7),q=R[0],z=R[1],he=19;he>4&&!q[vl[he-1]];--he);var pe,$e,De,et,le=u+5<<3,Z=Bn(r,Qt)+Bn(s,pr)+a,xe=Bn(r,h)+Bn(s,p)+a+14+3*he+Bn(F,q)+(2*F[16]+3*F[17]+7*F[18]);if(le<=Z&&le<=xe)return Gs(e,c,t.subarray(l,l+u));if(dt(e,c,1+(xe<Z)),c+=2,xe<Z){pe=ei(h,f),$e=h,De=ei(p,b),et=p;var Le=ei(q,z);for(dt(e,c,S-257),dt(e,c+5,C-1),dt(e,c+10,he-4),c+=14,w=0;w<he;++w)dt(e,c+3*w,q[vl[w]]);c+=3*he;for(var Ke=[_,x],se=0;se<2;++se){var y=Ke[se];for(w=0;w<y.length;++w){var E=31&y[w];dt(e,c,Le[E]),c+=q[E],E>15&&(dt(e,c,y[w]>>>5&127),c+=y[w]>>>12)}}}else pe=A_,$e=Qt,De=M_,et=pr;for(w=0;w<o;++w)if(i[w]>255){E=i[w]>>>18&31,Vn(e,c,pe[E+257]),c+=$e[E+257],E>7&&(dt(e,c,i[w]>>>23&31),c+=Ra[E]);var P=31&i[w];Vn(e,c,De[P]),c+=et[P],P>3&&(Vn(e,c,i[w]>>>5&8191),c+=Oa[P])}else Vn(e,c,pe[i[w]]),c+=$e[i[w]];return Vn(e,c,pe[256]),c+$e[256]},F_=new En([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),I_=function(){for(var t=new En(256),e=0;e<256;++e){for(var n=e,i=9;--i;)n=(1&n&&3988292384)^n>>>1;t[e]=n}return t}(),P_=function(){var t=4294967295;return{p:function(e){for(var n=t,i=0;i<e.length;++i)n=I_[255&n^e[i]]^n>>>8;t=n},d:function(){return 4294967295^t}}},C_=function(t,e,n,i,r){return function(s,a,o,l,u,c){var d=s.length,h=new Ue(l+d+5*(1+Math.floor(d/7e3))+u),f=h.subarray(l,h.length-u),g=0;if(!a||d<8)for(var p=0;p<=d;p+=65535){var b=p+65535;b<d?g=Gs(f,g,s.subarray(p,b)):(f[p]=c,g=Gs(f,g,s.subarray(p,d)))}else{for(var m=F_[a-1],_=m>>>13,S=8191&m,T=(1<<o)-1,x=new Ce(32768),C=new Ce(T+1),F=Math.ceil(o/3),w=2*F,R=function(sn){return(s[sn]^s[sn+1]<<F^s[sn+2]<<w)&T},q=new En(25e3),z=new Ce(288),he=new Ce(32),pe=0,$e=0,De=(p=0,0),et=0,le=0;p<d;++p){var Z=R(p),xe=32767&p,Le=C[Z];if(x[xe]=Le,C[Z]=xe,et<=p){var Ke=d-p;if((pe>7e3||De>24576)&&Ke>423){g=yl(s,f,0,q,z,he,$e,De,le,p-le,g),De=pe=$e=0,le=p;for(var se=0;se<286;++se)z[se]=0;for(se=0;se<30;++se)he[se]=0}var y=2,E=0,P=S,O=xe-Le&32767;if(Ke>2&&Z==R(p-O))for(var D=Math.min(_,Ke)-1,B=Math.min(32767,p),H=Math.min(258,Ke);O<=B&&--P&&xe!=Le;){if(s[p+y]==s[p+y-O]){for(var U=0;U<H&&s[p+U]==s[p+U-O];++U);if(U>y){if(y=U,E=O,U>D)break;var de=Math.min(O,U-2),tt=0;for(se=0;se<de;++se){var nt=p-O+se+32768&32767,Ti=nt-x[nt]+32768&32767;Ti>tt&&(tt=Ti,Le=nt)}}}O+=(xe=Le)-(Le=x[xe])+32768&32767}if(E){q[De++]=268435456|zs[y]<<18|ml[E];var rn=31&zs[y],ki=31&ml[E];$e+=Ra[rn]+Oa[ki],++z[257+rn],++he[ki],et=p+y,++pe}else q[De++]=s[p],++z[s[p]]}}g=yl(s,f,c,q,z,he,$e,De,le,p-le,g)}return ph(h,0,l+fh(g)+u)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,i,!0)},Ks=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},R_=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&Ks(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var i=0;i<=n.length;++i)t[i+10]=n.charCodeAt(i)}},O_=function(t){return 10+(t.filename&&t.filename.length+1||0)};function gh(t,e){e===void 0&&(e={});var n=P_(),i=t.length;n.p(t);var r=C_(t,e,O_(e),8),s=r.length;return R_(r,e),Ks(r,s-8,n.d()),Ks(r,s-4,i),r}function vh(t,e){var n=t.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var i=new Ue(t.length+(t.length>>>1)),r=0,s=function(u){i[r++]=u},a=0;a<n;++a){if(r+5>i.length){var o=new Ue(r+8+(n-a<<1));o.set(i),i=o}var l=t.charCodeAt(a);l<128||e?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++a))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return ph(i,0,r)}function $_(t,e){return function(n){for(var i=0,r=0;r<n.length;r++)i=(i<<5)-i+n.charCodeAt(r),i|=0;return Math.abs(i)}(t)%100<He(100*e,0,100)}var $t="disabled",$a="sampled",gr="active",en="buffering",Da="paused",La="trigger",lt=La+"_activated",be=La+"_pending",ht=La+"_"+$t;function bl(t,e){return e.some(n=>n.matching==="regex"&&new RegExp(n.url).test(t))}class mh{constructor(e){this.gt=e}triggerStatus(e){var n=this.gt.map(i=>i.triggerStatus(e));return n.includes(lt)?lt:n.includes(be)?be:ht}stop(){this.gt.forEach(e=>e.stop())}}class _h{constructor(e){this.gt=e}triggerStatus(e){var n=new Set;for(var i of this.gt)n.add(i.triggerStatus(e));switch(n.delete(ht),n.size){case 0:return ht;case 1:return Array.from(n)[0];default:return be}}stop(){this.gt.forEach(e=>e.stop())}}class D_{triggerStatus(){return be}stop(){}}class L_{constructor(e){this._t=[],this.bt=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var n,i;this._t=((n=e.sessionRecording)==null?void 0:n.urlTriggers)||[],this.bt=((i=e.sessionRecording)==null?void 0:i.urlBlocklist)||[]}wt(e){var n;return this._t.length===0?ht:((n=this._instance)==null?void 0:n.get_property(Ps))===e?lt:be}triggerStatus(e){var n=this.wt(e),i=n===lt?lt:n===be?be:ht;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:i}),i}checkUrlTriggerConditions(e,n,i){if(v!==void 0&&v.location.href){var r=v.location.href,s=this.urlBlocked,a=bl(r,this.bt);s&&a||(a&&!s?e():!a&&s&&n(),bl(r,this._t)&&i("url"))}}stop(){}}class N_{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.yt=()=>{},this._instance=e}triggerStatus(){var e=be;return j(this.linkedFlag)&&(e=ht),this.linkedFlagSeen&&(e=lt),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,n){var i;if(this.linkedFlag=((i=e.sessionRecording)==null?void 0:i.linkedFlag)||null,!j(this.linkedFlag)&&!this.linkedFlagSeen){var r=oe(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,s=oe(this.linkedFlag)?null:this.linkedFlag.variant;this.yt=this._instance.onFeatureFlags((a,o)=>{var l=ie(o)&&r in o&&(s?o[r]===s:o[r]===!0);l&&n(r,s),this.linkedFlagSeen=l})}}stop(){this.yt()}}class V_{constructor(e){this.St=[],this._instance=e}onRemoteConfig(e){var n;this.St=((n=e.sessionRecording)==null?void 0:n.eventTriggers)||[]}$t(e){var n;return this.St.length===0?ht:((n=this._instance)==null?void 0:n.get_property(Cs))===e?lt:be}triggerStatus(e){var n=this.$t(e),i=n===lt?lt:n===be?be:ht;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:i}),i}stop(){}}function B_(t){return t.isRecordingEnabled?en:$t}function q_(t){if(!t.receivedDecide)return en;if(!t.isRecordingEnabled)return $t;if(t.urlTriggerMatching.urlBlocked)return Da;var e=t.isSampled===!0,n=new mh([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return e?$a:n===lt?gr:n===be?en:t.isSampled===!1?$t:gr}function j_(t){if(!t.receivedDecide)return en;if(!t.isRecordingEnabled)return $t;if(t.urlTriggerMatching.urlBlocked)return Da;var e=new _h([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),n=e!==ht,i=mt(t.isSampled);return n&&e===be?en:n&&e===ht||i&&!t.isSampled?$t:t.isSampled===!0?$a:gr}var Kn="[SessionRecording]",ge=we(Kn);function Di(){var t,e;return L==null||(t=L.__PosthogExtensions__)==null||(e=t.rrweb)==null?void 0:e.record}var W_=3e5,H_=[Ye.MouseMove,Ye.MouseInteraction,Ye.Scroll,Ye.ViewportResize,Ye.Input,Ye.TouchMove,Ye.MediaInteraction,Ye.Drag],wl=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function Vt(t){return function(e,n){for(var i="",r=0;r<e.length;){var s=e[r++];i+=String.fromCharCode(s)}return i}(gh(vh(JSON.stringify(t))))}function xl(t){return t.type===pt.Custom&&t.data.tag==="sessionIdle"}class z_{get sessionId(){return this.kt}get xt(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Et}get It(){if(!this._instance.sessionManager)throw new Error(Kn+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Pt(){var e,n;return this.Rt.triggerStatus(this.sessionId)===be?6e4:(e=(n=this._instance.config.session_recording)==null?void 0:n.full_snapshot_interval_millis)!==null&&e!==void 0?e:W_}get Tt(){var e=this._instance.get_property(Un);return mt(e)?e:null}get Mt(){var e,n,i=(e=this.M)==null?void 0:e.data[((n=this.M)==null?void 0:n.data.length)-1],{sessionStartTimestamp:r}=this.It.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-r:null}get Ct(){var e=!!this._instance.get_property(Is),n=!this._instance.config.disable_session_recording;return v&&e&&n}get Ot(){var e=!!this._instance.get_property(Yo),n=this._instance.config.enable_recording_console_log;return n??e}get Ft(){var e,n,i,r,s,a,o=this._instance.config.session_recording.captureCanvas,l=this._instance.get_property(Zo),u=(e=(n=o==null?void 0:o.recordCanvas)!==null&&n!==void 0?n:l==null?void 0:l.enabled)!==null&&e!==void 0&&e,c=(i=(r=o==null?void 0:o.canvasFps)!==null&&r!==void 0?r:l==null?void 0:l.fps)!==null&&i!==void 0?i:4,d=(s=(a=o==null?void 0:o.canvasQuality)!==null&&a!==void 0?a:l==null?void 0:l.quality)!==null&&s!==void 0?s:.4;if(typeof d=="string"){var h=parseFloat(d);d=isNaN(h)?.4:h}return{enabled:u,fps:He(c,0,12,"canvas recording fps",4),quality:He(d,0,1,"canvas recording quality",.4)}}get At(){var e,n,i=this._instance.get_property(Xo),r={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(n=this._instance.config.session_recording)==null?void 0:n.recordBody},s=(r==null?void 0:r.recordHeaders)||(i==null?void 0:i.recordHeaders),a=(r==null?void 0:r.recordBody)||(i==null?void 0:i.recordBody),o=ie(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,l=!!(mt(o)?o:i!=null&&i.capturePerformance);return s||a||l?{recordHeaders:s,recordBody:a,recordPerformance:l}:void 0}get Dt(){var e,n,i,r,s,a,o=this._instance.get_property(Jo),l={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(n=this._instance.config.session_recording)==null?void 0:n.maskTextSelector,blockSelector:(i=this._instance.config.session_recording)==null?void 0:i.blockSelector},u=(r=l==null?void 0:l.maskAllInputs)!==null&&r!==void 0?r:o==null?void 0:o.maskAllInputs,c=(s=l==null?void 0:l.maskTextSelector)!==null&&s!==void 0?s:o==null?void 0:o.maskTextSelector,d=(a=l==null?void 0:l.blockSelector)!==null&&a!==void 0?a:o==null?void 0:o.blockSelector;return k(u)&&k(c)&&k(d)?void 0:{maskAllInputs:u==null||u,maskTextSelector:c,blockSelector:d}}get jt(){var e=this._instance.get_property(Qo);return ye(e)?e:null}get Lt(){var e=this._instance.get_property(el);return ye(e)?e:null}get status(){return this.Nt?this.zt({receivedDecide:this.Nt,isRecordingEnabled:this.Ct,isSampled:this.Tt,urlTriggerMatching:this.Ut,eventTriggerMatching:this.qt,linkedFlagMatching:this.Bt,sessionId:this.sessionId}):en}constructor(e){if(this.zt=B_,this.Nt=!1,this.Ht=[],this.Wt="unknown",this.Gt=Date.now(),this.Rt=new D_,this.Jt=void 0,this.Vt=void 0,this.Kt=void 0,this.Yt=void 0,this.Xt=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.Qt=()=>{this.Zt()},this.ti=()=>{this.ii("browser offline",{})},this.ei=()=>{this.ii("browser online",{})},this.ri=()=>{if(M!=null&&M.visibilityState){var r="window "+M.visibilityState;this.ii(r,{})}},this._instance=e,this.Et=!1,this.si="/s/",this.ni=void 0,this.Nt=!1,!this._instance.sessionManager)throw ge.error("started without valid sessionManager"),new Error(Kn+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(Kn+" cannot be used with __preview_experimental_cookieless_mode.");this.Bt=new N_(this._instance),this.Ut=new L_(this._instance),this.qt=new V_(this._instance);var{sessionId:n,windowId:i}=this.It.checkAndGetSessionAndWindowId();this.kt=n,this.oi=i,this.M=this.ai(),this.xt>=this.It.sessionTimeoutMs&&ge.warn("session_idle_threshold_ms ("+this.xt+") is greater than the session timeout ("+this.It.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.Ct?(this.li(e),Q(v,"beforeunload",this.Qt),Q(v,"offline",this.ti),Q(v,"online",this.ei),Q(v,"visibilitychange",this.ri),this.ui(),this.hi(),j(this.Jt)&&(this.Jt=this._instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var i=n!=null&&n.properties.$current_url?this.di(n==null?void 0:n.properties.$current_url):"";if(!i)return;this.ii("$pageview",{href:i})}}catch(r){ge.error("Could not add $pageview to rrweb session",r)}})),this.Vt||(this.Vt=this.It.onSessionId((n,i,r)=>{var s,a,o,l;r&&(this.ii("$session_id_change",{sessionId:n,windowId:i,changeReason:r}),(s=this._instance)==null||(a=s.persistence)==null||a.unregister(Cs),(o=this._instance)==null||(l=o.persistence)==null||l.unregister(Ps))}))):this.stopRecording()}stopRecording(){var e,n,i,r;this.Et&&this.ni&&(this.ni(),this.ni=void 0,this.Et=!1,v==null||v.removeEventListener("beforeunload",this.Qt),v==null||v.removeEventListener("offline",this.ti),v==null||v.removeEventListener("online",this.ei),v==null||v.removeEventListener("visibilitychange",this.ri),this.ai(),clearInterval(this.vi),(e=this.Jt)==null||e.call(this),this.Jt=void 0,(n=this.Xt)==null||n.call(this),this.Xt=void 0,(i=this.Vt)==null||i.call(this),this.Vt=void 0,(r=this.Yt)==null||r.call(this),this.Yt=void 0,this.qt.stop(),this.Ut.stop(),this.Bt.stop(),ge.info("stopped"))}ci(){var e;(e=this._instance.persistence)==null||e.unregister(Un)}fi(e){var n,i=this.kt!==e,r=this.jt;if(ye(r)){var s=this.Tt,a=i||!mt(s),o=a?$_(e,r):s;a&&(o?this.pi($a):ge.warn("Sample rate ("+r+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ii("samplingDecisionMade",{sampleRate:r,isSampled:o})),(n=this._instance.persistence)==null||n.register({[Un]:o})}else this.ci()}onRemoteConfig(e){var n,i,r,s;this.ii("$remote_config_received",e),this.gi(e),(n=e.sessionRecording)!=null&&n.endpoint&&(this.si=(s=e.sessionRecording)==null?void 0:s.endpoint),this.ui(),((i=e.sessionRecording)==null?void 0:i.triggerMatchType)==="any"?(this.zt=q_,this.Rt=new mh([this.qt,this.Ut])):(this.zt=j_,this.Rt=new _h([this.qt,this.Ut])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(r=e.sessionRecording)==null?void 0:r.triggerMatchType}),this.Ut.onRemoteConfig(e),this.qt.onRemoteConfig(e),this.Bt.onRemoteConfig(e,(a,o)=>{this.pi("linked_flag_matched",{flag:a,variant:o})}),this.Nt=!0,this.startIfEnabledOrStop()}ui(){ye(this.jt)&&j(this.Yt)&&(this.Yt=this.It.onSessionId(e=>{this.fi(e)}))}gi(e){if(this._instance.persistence){var n,i=this._instance.persistence,r=()=>{var s,a,o,l,u,c,d,h,f,g=(s=e.sessionRecording)==null?void 0:s.sampleRate,p=j(g)?null:parseFloat(g);j(p)&&this.ci();var b=(a=e.sessionRecording)==null?void 0:a.minimumDurationMilliseconds;i.register({[Is]:!!e.sessionRecording,[Yo]:(o=e.sessionRecording)==null?void 0:o.consoleLogRecordingEnabled,[Xo]:A({capturePerformance:e.capturePerformance},(l=e.sessionRecording)==null?void 0:l.networkPayloadCapture),[Jo]:(u=e.sessionRecording)==null?void 0:u.masking,[Zo]:{enabled:(c=e.sessionRecording)==null?void 0:c.recordCanvas,fps:(d=e.sessionRecording)==null?void 0:d.canvasFps,quality:(h=e.sessionRecording)==null?void 0:h.canvasQuality},[Qo]:p,[el]:k(b)?null:b,[tl]:(f=e.sessionRecording)==null?void 0:f.scriptConfig})};r(),(n=this.Kt)==null||n.call(this),this.Kt=this.It.onSessionId(r)}}log(e,n){var i;n===void 0&&(n="log"),(i=this._instance.sessionRecording)==null||i.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}li(e){if(!k(Object.assign)&&!k(Array.from)&&!(this.Et||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var n;this.Et=!0,this.It.checkAndGetSessionAndWindowId(),Di()?this.mi():(n=L.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.bi,i=>{if(i)return ge.error("could not load recorder",i);this.mi()}),ge.info("starting"),this.status===gr&&this.pi(e||"recording_initialized")}}get bi(){var e,n,i;return((e=this._instance)==null||(n=e.persistence)==null||(i=n.get_property(tl))==null?void 0:i.script)||"recorder"}wi(e){var n;return e.type===3&&H_.indexOf((n=e.data)==null?void 0:n.source)!==-1}yi(e){var n=this.wi(e);n||this.Wt||e.timestamp-this.Gt>this.xt&&(this.Wt=!0,clearInterval(this.vi),this.ii("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.Gt,threshold:this.xt,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.Zt());var i=!1;if(n&&(this.Gt=e.timestamp,this.Wt)){var r=this.Wt==="unknown";this.Wt=!1,r||(this.ii("sessionNoLongerIdle",{reason:"user activity",type:e.type}),i=!0)}if(!this.Wt){var{windowId:s,sessionId:a}=this.It.checkAndGetSessionAndWindowId(!n,e.timestamp),o=this.kt!==a,l=this.oi!==s;this.oi=s,this.kt=a,o||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):i&&this.Si()}}$i(e){try{return e.rrwebMethod(),!0}catch(n){return this.Ht.length<10?this.Ht.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):ge.warn("could not emit queued rrweb event.",n,e),!1}}ii(e,n){return this.$i(wl(()=>Di().addCustomEvent(e,n)))}ki(){return this.$i(wl(()=>Di().takeFullSnapshot()))}mi(){var e,n,i,r,s={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},a=this._instance.config.session_recording;for(var[o,l]of Object.entries(a||{}))o in s&&(o==="maskInputOptions"?s.maskInputOptions=A({password:!0},l):s[o]=l);this.Ft&&this.Ft.enabled&&(s.recordCanvas=!0,s.sampling={canvas:this.Ft.fps},s.dataURLOptions={type:"image/webp",quality:this.Ft.quality}),this.Dt&&(s.maskAllInputs=(n=this.Dt.maskAllInputs)===null||n===void 0||n,s.maskTextSelector=(i=this.Dt.maskTextSelector)!==null&&i!==void 0?i:void 0,s.blockSelector=(r=this.Dt.blockSelector)!==null&&r!==void 0?r:void 0);var u=Di();if(u){this.xi=(e=this.xi)!==null&&e!==void 0?e:new T_(u,{refillRate:this._instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this._instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(d,h)=>{var f="Too many mutations on node '"+d+"'. Rate limiting. This could be due to SVG animations or something similar";ge.info(f,{node:h}),this.log(Kn+" "+f,"warn")}});var c=this.Ei();this.ni=u(A({emit:d=>{this.onRRwebEmit(d)},plugins:c},s)),this.Gt=Date.now(),this.Wt=mt(this.Wt)?this.Wt:"unknown",this.ii("$session_options",{sessionRecordingOptions:s,activePlugins:c.map(d=>d==null?void 0:d.name)}),this.ii("$posthog_config",{config:this._instance.config})}else ge.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Si(){if(this.vi&&clearInterval(this.vi),this.Wt!==!0){var e=this.Pt;e&&(this.vi=setInterval(()=>{this.ki()},e))}}Ei(){var e,n,i,r,s=[],a=(e=L.__PosthogExtensions__)==null||(n=e.rrwebPlugins)==null?void 0:n.getRecordConsolePlugin;a&&this.Ot&&s.push(a());var o=(i=L.__PosthogExtensions__)==null||(r=i.rrwebPlugins)==null?void 0:r.getRecordNetworkPlugin;return this.At&&ze(o)&&(!Wm.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(o(E_(this._instance.config,this.At))):ge.info("NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(e){var n;if(this.Ii(),e&&ie(e)){if(e.type===pt.Meta){var i=this.di(e.data.href);if(this.Pi=i,!i)return;e.data.href=i}else this.Ri();if(this.Ut.checkUrlTriggerConditions(()=>this.Ti(),()=>this.Mi(),h=>this.Ci(h)),!this.Ut.urlBlocked||(r=e).type===pt.Custom&&r.data.tag==="recording paused"){var r;e.type===pt.FullSnapshot&&this.Si(),e.type===pt.FullSnapshot&&this.Nt&&this.Rt.triggerStatus(this.sessionId)===be&&this.ai();var s=this.xi?this.xi.throttleMutations(e):e;if(s){var a=function(h){var f=h;if(f&&ie(f)&&f.type===6&&ie(f.data)&&f.data.plugin==="rrweb/console@1"){f.data.payload.payload.length>10&&(f.data.payload.payload=f.data.payload.payload.slice(0,10),f.data.payload.payload.push("...[truncated]"));for(var g=[],p=0;p<f.data.payload.payload.length;p++)f.data.payload.payload[p]&&f.data.payload.payload[p].length>2e3?g.push(f.data.payload.payload[p].slice(0,2e3)+"...[truncated]"):g.push(f.data.payload.payload[p]);return f.data.payload.payload=g,h}return h}(s);if(this.yi(a),this.Wt!==!0||xl(a)){if(xl(a)){var o=a.data.payload;if(o){var l=o.lastActivityTimestamp,u=o.threshold;a.timestamp=l+u}}var c=(n=this._instance.config.session_recording.compress_events)===null||n===void 0||n?function(h){if(fr(h)<1024)return h;try{if(h.type===pt.FullSnapshot)return A({},h,{data:Vt(h.data),cv:"2024-10"});if(h.type===pt.IncrementalSnapshot&&h.data.source===Ye.Mutation)return A({},h,{cv:"2024-10",data:A({},h.data,{texts:Vt(h.data.texts),attributes:Vt(h.data.attributes),removes:Vt(h.data.removes),adds:Vt(h.data.adds)})});if(h.type===pt.IncrementalSnapshot&&h.data.source===Ye.StyleSheetRule)return A({},h,{cv:"2024-10",data:A({},h.data,{adds:h.data.adds?Vt(h.data.adds):void 0,removes:h.data.removes?Vt(h.data.removes):void 0})})}catch(f){ge.error("could not compress event - will use uncompressed event",f)}return h}(a):a,d={$snapshot_bytes:fr(c),$snapshot_data:c,$session_id:this.kt,$window_id:this.oi};this.status!==$t?this.Oi(d):this.ai()}}}}}Ri(){if(!this._instance.config.capture_pageview&&v){var e=this.di(v.location.href);this.Pi!==e&&(this.ii("$url_changed",{href:e}),this.Pi=e)}}Ii(){if(this.Ht.length){var e=[...this.Ht];this.Ht=[],e.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this.$i(n)})}}di(e){var n=this._instance.config.session_recording;if(n.maskNetworkRequestFn){var i,r={url:e};return(i=r=n.maskNetworkRequestFn(r))==null?void 0:i.url}return e}ai(){return this.M={size:0,data:[],sessionId:this.kt,windowId:this.oi},this.M}Zt(){this.Fi&&(clearTimeout(this.Fi),this.Fi=void 0);var e=this.Lt,n=this.Mt,i=ye(n)&&n>=0,r=ye(e)&&i&&n<e;return this.status===en||this.status===Da||this.status===$t||r?(this.Fi=setTimeout(()=>{this.Zt()},2e3),this.M):(this.M.data.length>0&&js(this.M).forEach(s=>{this.Ai({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId,$lib:"web",$lib_version:vt.LIB_VERSION})}),this.ai())}Oi(e){var n,i=2+(((n=this.M)==null?void 0:n.data.length)||0);!this.Wt&&(this.M.size+e.$snapshot_bytes+i>943718.4||this.M.sessionId!==this.kt)&&(this.M=this.Zt()),this.M.size+=e.$snapshot_bytes,this.M.data.push(e.$snapshot_data),this.Fi||this.Wt||(this.Fi=setTimeout(()=>{this.Zt()},2e3))}Ai(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.si),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}Ci(e){var n,i;this.Rt.triggerStatus(this.sessionId)===be&&((n=this._instance)==null||(i=n.persistence)==null||i.register({[e==="url"?Ps:Cs]:this.kt}),this.Zt(),this.pi(e+"_trigger_matched"))}Ti(){this.Ut.urlBlocked||(this.Ut.urlBlocked=!0,clearInterval(this.vi),ge.info("recording paused due to URL blocker"),this.ii("recording paused",{reason:"url blocker"}))}Mi(){this.Ut.urlBlocked&&(this.Ut.urlBlocked=!1,this.ki(),this.Si(),this.ii("recording resumed",{reason:"left blocked url"}),ge.info("recording resumed"))}hi(){this.qt.St.length!==0&&j(this.Xt)&&(this.Xt=this._instance.on("eventCaptured",e=>{try{this.qt.St.includes(e.event)&&this.Ci("event")}catch(n){ge.error("Could not activate event trigger",n)}}))}overrideLinkedFlag(){this.Bt.linkedFlagSeen=!0,this.ki(),this.pi("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[Un]:!0}),this.ki(),this.pi("sampling_overridden")}overrideTrigger(e){this.Ci(e)}pi(e,n){this._instance.register_for_session({$session_recording_start_reason:e}),ge.info(e.replace("_"," "),n),N(["recording_initialized","session_id_changed"],e)||this.ii(e,n)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.It.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Mt,$sdk_debug_session_start:e}}}var Zr=we("[SegmentIntegration]");function U_(t,e){var n=t.config.segment;if(!n)return e();(function(i,r){var s=i.config.segment;if(!s)return r();var a=l=>{var u=()=>l.anonymousId()||It();i.config.get_device_id=u,l.id()&&(i.register({distinct_id:l.id(),$device_id:u()}),i.persistence.set_property(ft,"identified")),r()},o=s.user();"then"in o&&ze(o.then)?o.then(l=>a(l)):a(o)})(t,()=>{n.register((i=>{Promise&&Promise.resolve||Zr.warn("This browser does not have Promise support, and can not use the segment integration");var r=(s,a)=>{var o;if(!a)return s;s.event.userId||s.event.anonymousId===i.get_distinct_id()||(Zr.info("No userId set, resetting PostHog"),i.reset()),s.event.userId&&s.event.userId!==i.get_distinct_id()&&(Zr.info("UserId set, identifying with PostHog"),i.identify(s.event.userId));var l=i.Di(a,(o=s.event.properties)!==null&&o!==void 0?o:{},new Date);return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>r(s,s.event.event),page:s=>r(s,"$pageview"),identify:s=>r(s,"$identify"),screen:s=>r(s,"$screen")}})(t)).then(()=>{e()})})}var yh="posthog-js";function bh(t,e){var{organization:n,projectId:i,prefix:r,severityAllowList:s=["error"]}=e===void 0?{}:e;return a=>{var o,l,u,c,d;if(!(s==="*"||s.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var h=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());a.tags["PostHog Person URL"]=h,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var f=((o=a.exception)==null?void 0:o.values)||[],g=f.map(b=>A({},b,{stacktrace:b.stacktrace?A({},b.stacktrace,{type:"raw",frames:(b.stacktrace.frames||[]).map(m=>A({},m,{platform:"web:javascript"}))}):void 0})),p={$exception_message:((l=f[0])==null?void 0:l.value)||a.message,$exception_type:(u=f[0])==null?void 0:u.type,$exception_personURL:h,$exception_level:a.level,$exception_list:g,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((c=f[0])==null?void 0:c.value)||a.message,$sentry_exception_type:(d=f[0])==null?void 0:d.type,$sentry_tags:a.tags};return n&&i&&(p.$sentry_url=(r||"https://sentry.io/organizations/")+n+"/issues/?project="+i+"&query="+a.event_id),t.exceptions.sendExceptionEvent(p),a}}class G_{constructor(e,n,i,r,s){this.name=yh,this.setupOnce=function(a){a(bh(e,{organization:n,projectId:i,prefix:r,severityAllowList:s}))}}}var gt,K_=v!=null&&v.location?hr(v.location.hash,"__posthog")||hr(location.hash,"state"):null,Sl="_postHogToolbarParams",El=we("[Toolbar]");(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"})(gt||(gt={}));class Y_{constructor(e){this.instance=e}ji(e){L.ph_toolbar_state=e}Li(){var e;return(e=L.ph_toolbar_state)!==null&&e!==void 0?e:gt.UNINITIALIZED}maybeLoadToolbar(e,n,i){var r,s;if(e===void 0&&(e=void 0),n===void 0&&(n=void 0),i===void 0&&(i=void 0),!v||!M)return!1;e=(r=e)!==null&&r!==void 0?r:v.location,i=(s=i)!==null&&s!==void 0?s:v.history;try{if(!n){try{v.localStorage.setItem("test","test"),v.localStorage.removeItem("test")}catch{return!1}n=v==null?void 0:v.localStorage}var a,o=K_||hr(e.hash,"__posthog")||hr(e.hash,"state"),l=o?Ho(()=>JSON.parse(atob(decodeURIComponent(o))))||Ho(()=>JSON.parse(decodeURIComponent(o))):null;return l&&l.action==="ph_authorize"?((a=l).source="url",a&&Object.keys(a).length>0&&(l.desiredHash?e.hash=l.desiredHash:i?i.replaceState(i.state,"",e.pathname+e.search):e.hash="")):((a=JSON.parse(n.getItem(Sl)||"{}")).source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}Ni(e){var n=L.ph_load_toolbar||L.ph_load_editor;!j(n)&&ze(n)?n(e,this.instance):El.warn("No toolbar load function found")}loadToolbar(e){var n=!(M==null||!M.getElementById(Uc));if(!v||n)return!1;var i=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,r=A({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},i?{instrument:!1}:{});if(v.localStorage.setItem(Sl,JSON.stringify(A({},r,{source:void 0}))),this.Li()===gt.LOADED)this.Ni(r);else if(this.Li()===gt.UNINITIALIZED){var s;this.ji(gt.LOADING),(s=L.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",a=>{if(a)return El.error("[Toolbar] Failed to load",a),void this.ji(gt.UNINITIALIZED);this.ji(gt.LOADED),this.Ni(r)}),Q(v,"turbolinks:load",()=>{this.ji(gt.UNINITIALIZED),this.loadToolbar(r)})}return!0}zi(e){return this.loadToolbar(e)}maybeLoadEditor(e,n,i){return e===void 0&&(e=void 0),n===void 0&&(n=void 0),i===void 0&&(i=void 0),this.maybeLoadToolbar(e,n,i)}}var X_=we("[TracingHeaders]");class J_{constructor(e){this.Ui=void 0,this.qi=void 0,this.V=()=>{var n,i,r,s;k(this.Ui)&&((n=L.__PosthogExtensions__)==null||(i=n.tracingHeadersPatchFns)==null||i._patchXHR(this._instance.sessionManager)),k(this.qi)&&((r=L.__PosthogExtensions__)==null||(s=r.tracingHeadersPatchFns)==null||s._patchFetch(this._instance.sessionManager))},this._instance=e}G(e){var n,i;(n=L.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&e(),(i=L.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"tracing-headers",r=>{if(r)return X_.error("failed to load script",r);e()})}startIfEnabledOrStop(){var e,n;this._instance.config.__add_tracing_headers?this.G(this.V):((e=this.Ui)==null||e.call(this),(n=this.qi)==null||n.call(this),this.Ui=void 0,this.qi=void 0)}}var St=we("[Web Vitals]"),Tl=9e5;class Z_{constructor(e){var n;this.Bi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Hi=()=>{clearTimeout(this.Wi),this.M.metrics.length!==0&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((i,r)=>A({},i,{["$web_vitals_"+r.name+"_event"]:A({},r),["$web_vitals_"+r.name+"_value"]:r.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Gi=i=>{var r,s=(r=this._instance.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0);if(k(s))St.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var a=this.Ji();k(a)||(j(i==null?void 0:i.name)||j(i==null?void 0:i.value)?St.error("Invalid metric received",i):this.Vi&&i.value>=this.Vi?St.error("Ignoring metric with value >= "+this.Vi,i):(this.M.url!==a&&(this.Hi(),this.Wi=setTimeout(this.Hi,this.flushToCaptureTimeoutMs)),k(this.M.url)&&(this.M.url=a),this.M.firstMetricTimestamp=k(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,i.attribution&&i.attribution.interactionTargetElement&&(i.attribution.interactionTargetElement=void 0),this.M.metrics.push(A({},i,{$current_url:a,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Hi()))}},this.V=()=>{var i,r,s,a,o=L.__PosthogExtensions__;k(o)||k(o.postHogWebVitalsCallbacks)||({onLCP:i,onCLS:r,onFCP:s,onINP:a}=o.postHogWebVitalsCallbacks),i&&r&&s&&a?(this.allowedMetrics.indexOf("LCP")>-1&&i(this.Gi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&r(this.Gi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Gi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&a(this.Gi.bind(this)),this.i=!0):St.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Bi=!((n=this._instance.persistence)==null||!n.props[Go]),this.startIfEnabled()}get allowedMetrics(){var e,n,i=ie(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return k(i)?((n=this._instance.persistence)==null?void 0:n.props[Ko])||["CLS","FCP","INP","LCP"]:i}get flushToCaptureTimeoutMs(){return(ie(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Vi(){var e=ie(this._instance.config.capture_performance)&&ye(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Tl;return 0<e&&e<=6e4?Tl:e}get isEnabled(){var e=Fe==null?void 0:Fe.protocol;if(e!=="http:"&&e!=="https:")return St.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=ie(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:mt(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return mt(n)?n:this.Bi}startIfEnabled(){this.isEnabled&&!this.i&&(St.info("enabled, starting..."),this.G(this.V))}onRemoteConfig(e){var n=ie(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=ie(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Go]:n}),this._instance.persistence.register({[Ko]:i})),this.Bi=n,this.startIfEnabled()}G(e){var n,i;(n=L.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&e(),(i=L.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"web-vitals",r=>{r?St.error("failed to load script",r):e()})}Ji(){var e=v?v.location.href:void 0;return e||St.error("Could not determine current URL"),e}}var Q_=we("[Heatmaps]");function kl(t){return ie(t)&&"clientX"in t&&"clientY"in t&&ye(t.clientX)&&ye(t.clientY)}class e0{constructor(e){var n;this.rageclicks=new ih,this.Bi=!1,this.i=!1,this.Ki=null,this.instance=e,this.Bi=!((n=this.instance.persistence)==null||!n.props[Fs])}get flushIntervalMilliseconds(){var e=5e3;return ie(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return k(this.instance.config.capture_heatmaps)?k(this.instance.config.enable_heatmaps)?this.Bi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;Q_.info("starting..."),this.Yi(),this.Ki=setInterval(this.Xi.bind(this),this.flushIntervalMilliseconds)}else{var e,n;clearInterval((e=this.Ki)!==null&&e!==void 0?e:void 0),(n=this.Qi)==null||n.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var n=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Fs]:n}),this.Bi=n,this.startIfEnabled()}getAndClearBuffer(){var e=this.M;return this.M=void 0,e}Zi(e){this.te(e.originalEvent,"deadclick")}Yi(){v&&M&&(Q(v,"beforeunload",this.Xi.bind(this)),Q(M,"click",e=>this.te(e||(v==null?void 0:v.event)),{capture:!0}),Q(M,"mousemove",e=>this.ie(e||(v==null?void 0:v.event)),{capture:!0}),this.Qi=new sh(this.instance,r_,this.Zi.bind(this)),this.Qi.startIfEnabled(),this.i=!0)}ee(e,n){var i=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),a=function(o,l,u){for(var c=o;c&&Ir(c)&&!Ct(c,"body");){if(c===u)return!1;if(N(l,v==null?void 0:v.getComputedStyle(c).position))return!0;c=Jc(c)}return!1}(Xc(e),["fixed","sticky"],s);return{x:e.clientX+(a?0:r),y:e.clientY+(a?0:i),target_fixed:a,type:n}}te(e,n){var i;if(n===void 0&&(n="click"),!il(e.target)&&kl(e)){var r=this.ee(e,n);(i=this.rageclicks)!=null&&i.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.re(A({},r,{type:"rageclick"})),this.re(r)}}ie(e){!il(e.target)&&kl(e)&&(clearTimeout(this.se),this.se=setTimeout(()=>{this.re(this.ee(e,"mousemove"))},500))}re(e){if(v){var n=v.location.href;this.M=this.M||{},this.M[n]||(this.M[n]=[]),this.M[n].push(e)}}Xi(){this.M&&!hn(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class t0{constructor(e){this._instance=e}doPageView(e,n){var i,r=this.ne(e,n);return this.oe={pathname:(i=v==null?void 0:v.location.pathname)!==null&&i!==void 0?i:"",pageViewId:n,timestamp:e},this._instance.scrollManager.resetContext(),r}doPageLeave(e){var n;return this.ne(e,(n=this.oe)==null?void 0:n.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.oe)==null?void 0:e.pageViewId}}ne(e,n){var i=this.oe;if(!i)return{$pageview_id:n};var r={$pageview_id:n,$prev_pageview_id:i.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:o,maxScrollY:l,maxContentHeight:u,lastContentY:c,maxContentY:d}=s;if(!(k(a)||k(o)||k(l)||k(u)||k(c)||k(d))){a=Math.ceil(a),o=Math.ceil(o),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c),d=Math.ceil(d);var h=a<=1?1:He(o/a,0,1),f=a<=1?1:He(l/a,0,1),g=u<=1?1:He(c/u,0,1),p=u<=1?1:He(d/u,0,1);r=ae(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:f,$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:p})}}return i.pathname&&(r.$prev_pageview_pathname=i.pathname),i.timestamp&&(r.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),r}}class n0{constructor(e){this._instance=e}sendExceptionEvent(e){this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var Ge="Mobile",vr="iOS",at="Android",fi="Tablet",wh=at+" "+fi,xh="iPad",Sh="Apple",Eh=Sh+" Watch",pi="Safari",Tn="BlackBerry",Th="Samsung",kh=Th+"Browser",Ah=Th+" Internet",tn="Chrome",i0=tn+" OS",Mh=tn+" "+vr,Na="Internet Explorer",Fh=Na+" "+Ge,Va="Opera",r0=Va+" Mini",Ba="Edge",Ih="Microsoft "+Ba,_n="Firefox",Ph=_n+" "+vr,gi="Nintendo",vi="PlayStation",yn="Xbox",Ch=at+" "+Ge,Rh=Ge+" "+pi,Yn="Windows",Ys=Yn+" Phone",Al="Nokia",Xs="Ouya",Oh="Generic",s0=Oh+" "+Ge.toLowerCase(),$h=Oh+" "+fi.toLowerCase(),Js="Konqueror",Se="(\\d+(\\.\\d+)?)",Qr=new RegExp("Version/"+Se),a0=new RegExp(yn,"i"),o0=new RegExp(vi+" \\w+","i"),l0=new RegExp(gi+" \\w+","i"),qa=new RegExp(Tn+"|PlayBook|BB10","i"),u0={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},c0=(t,e)=>e&&N(e,Sh)||function(n){return N(n,pi)&&!N(n,tn)&&!N(n,at)}(t),Dh=function(t,e){return e=e||"",N(t," OPR/")&&N(t,"Mini")?r0:N(t," OPR/")?Va:qa.test(t)?Tn:N(t,"IE"+Ge)||N(t,"WPDesktop")?Fh:N(t,kh)?Ah:N(t,Ba)||N(t,"Edg/")?Ih:N(t,"FBIOS")?"Facebook "+Ge:N(t,"UCWEB")||N(t,"UCBrowser")?"UC Browser":N(t,"CriOS")?Mh:N(t,"CrMo")||N(t,tn)?tn:N(t,at)&&N(t,pi)?Ch:N(t,"FxiOS")?Ph:N(t.toLowerCase(),Js.toLowerCase())?Js:c0(t,e)?N(t,Ge)?Rh:pi:N(t,_n)?_n:N(t,"MSIE")||N(t,"Trident/")?Na:N(t,"Gecko")?_n:""},h0={[Fh]:[new RegExp("rv:"+Se)],[Ih]:[new RegExp(Ba+"?\\/"+Se)],[tn]:[new RegExp("("+tn+"|CrMo)\\/"+Se)],[Mh]:[new RegExp("CriOS\\/"+Se)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Se)],[pi]:[Qr],[Rh]:[Qr],[Va]:[new RegExp("(Opera|OPR)\\/"+Se)],[_n]:[new RegExp(_n+"\\/"+Se)],[Ph]:[new RegExp("FxiOS\\/"+Se)],[Js]:[new RegExp("Konqueror[:/]?"+Se,"i")],[Tn]:[new RegExp(Tn+" "+Se),Qr],[Ch]:[new RegExp("android\\s"+Se,"i")],[Ah]:[new RegExp(kh+"\\/"+Se)],[Na]:[new RegExp("(rv:|MSIE )"+Se)],Mozilla:[new RegExp("rv:"+Se)]},d0=function(t,e){var n=Dh(t,e),i=h0[n];if(k(i))return null;for(var r=0;r<i.length;r++){var s=i[r],a=t.match(s);if(a)return parseFloat(a[a.length-2])}return null},Ml=[[new RegExp(yn+"; "+yn+" (.*?)[);]","i"),t=>[yn,t&&t[1]||""]],[new RegExp(gi,"i"),[gi,""]],[new RegExp(vi,"i"),[vi,""]],[qa,[Tn,""]],[new RegExp(Yn,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[Ys,""];if(new RegExp(Ge).test(e)&&!/IEMobile\b/.test(e))return[Yn+" "+Ge,""];var n=/Windows NT ([0-9.]+)/i.exec(e);if(n&&n[1]){var i=n[1],r=u0[i]||"";return/arm/i.test(e)&&(r="RT"),[Yn,r]}return[Yn,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[vr,e.join(".")]}return[vr,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=k(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+at+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+at+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[at,e.join(".")]}return[at,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var n=[t[1],t[2],t[3]||"0"];e[1]=n.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[i0,""]],[/Linux|debian/i,["Linux",""]]],Fl=function(t){return l0.test(t)?gi:o0.test(t)?vi:a0.test(t)?yn:new RegExp(Xs,"i").test(t)?Xs:new RegExp("("+Ys+"|WPDesktop)","i").test(t)?Ys:/iPad/.test(t)?xh:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?Eh:qa.test(t)?Tn:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(Al,"i").test(t)?Al:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?!new RegExp(Ge).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?at:wh:at:new RegExp("(pda|"+Ge+")","i").test(t)?s0:new RegExp(fi,"i").test(t)&&!new RegExp(fi+" pc","i").test(t)?$h:""},Li="https?://(.*)",Cr=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],f0=Fr(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Cr),ja="<masked>";function Lh(t,e,n){if(!M)return{};var i=e?Fr([],Cr,n||[]):[];return Nh(Pa(M.URL,i,ja),t)}function Nh(t,e){var n=f0.concat(e||[]),i={};return K(n,function(r){var s=cr(t,r);i[r]=s||null}),i}function Vh(t){var e=function(s){return s?s.search(Li+"google.([^/?]*)")===0?"google":s.search(Li+"bing.com")===0?"bing":s.search(Li+"yahoo.com")===0?"yahoo":s.search(Li+"duckduckgo.com")===0?"duckduckgo":null:null}(t),n=e!="yahoo"?"q":"p",i={};if(!Dt(e)){i.$search_engine=e;var r=M?cr(M.referrer,n):"";r.length&&(i.ph_keyword=r)}return i}function Il(){return navigator.language||navigator.userLanguage}function Bh(){return(M==null?void 0:M.referrer)||"$direct"}function qh(t,e){var n=t?Fr([],Cr,e||[]):[],i=Fe==null?void 0:Fe.href.substring(0,1e3);return{r:Bh().substring(0,1e3),u:i?Pa(i,n,ja):void 0}}function jh(t){var e,{r:n,u:i}=t,r={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(e=Sn(n))==null?void 0:e.host};if(i){r.$current_url=i;var s=Sn(i);r.$host=s==null?void 0:s.host,r.$pathname=s==null?void 0:s.pathname;var a=Nh(i);ae(r,a)}if(n){var o=Vh(n);ae(r,o)}return r}function Wh(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function p0(){try{return new Date().getTimezoneOffset()}catch{return}}function g0(t,e){if(!Me)return{};var n,i,r,s=t?Fr([],Cr,e||[]):[],[a,o]=function(l){for(var u=0;u<Ml.length;u++){var[c,d]=Ml[u],h=c.exec(l),f=h&&(ze(d)?d(h,l):d);if(f)return f}return["",""]}(Me);return ae(Fa({$os:a,$os_version:o,$browser:Dh(Me,navigator.vendor),$device:Fl(Me),$device_type:(i=Me,r=Fl(i),r===xh||r===wh||r==="Kobo"||r==="Kindle Fire"||r===$h?fi:r===gi||r===yn||r===vi||r===Xs?"Console":r===Eh?"Wearable":r?Ge:"Desktop"),$timezone:Wh(),$timezone_offset:p0()}),{$current_url:Pa(Fe==null?void 0:Fe.href,s,ja),$host:Fe==null?void 0:Fe.host,$pathname:Fe==null?void 0:Fe.pathname,$raw_user_agent:Me.length>1e3?Me.substring(0,997)+"...":Me,$browser_version:d0(Me,navigator.vendor),$browser_language:Il(),$browser_language_prefix:(n=Il(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:v==null?void 0:v.screen.height,$screen_width:v==null?void 0:v.screen.width,$viewport_height:v==null?void 0:v.innerHeight,$viewport_width:v==null?void 0:v.innerWidth,$lib:"web",$lib_version:vt.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Zs,it=we("[FeatureFlags]"),es="$active_feature_flags",on="$override_feature_flags",Pl="$feature_flag_payloads",qn="$override_feature_flag_payloads",Cl="$feature_flag_request_id",Rl=t=>{var e={};for(var[n,i]of Ui(t||{}))i&&(e[n]=i);return e},v0=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map(n=>{var i;return[n,(i=e[n].variant)!==null&&i!==void 0?i:e[n].enabled]})),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(n=>e[n].enabled).filter(n=>{var i;return(i=e[n].metadata)==null?void 0:i.payload}).map(n=>{var i;return[n,(i=e[n].metadata)==null?void 0:i.payload]}))):it.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t};(function(t){t.FeatureFlags="feature_flags",t.Recordings="recordings"})(Zs||(Zs={}));class m0{constructor(e){this.ae=!1,this.le=!1,this.ue=!1,this.he=!1,this.de=!1,this.ve=!1,this.ce=!1,this._instance=e,this.featureFlagEventHandlers=[]}decide(){if(this._instance.config.__preview_remote_config)this.ve=!0;else{var e=!this.fe&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.pe({disableFlags:e})}}get hasLoadedFlags(){return this.le}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(Rs),n=this._instance.get_property(on),i=this._instance.get_property(qn);if(!i&&!n)return e||{};var r=ae({},e||{}),s=[...new Set([...Object.keys(i||{}),...Object.keys(n||{})])];for(var a of s){var o,l,u=r[a],c=n==null?void 0:n[a],d=k(c)?(o=u==null?void 0:u.enabled)!==null&&o!==void 0&&o:!!c,h=k(c)?u.variant:typeof c=="string"?c:void 0,f=i==null?void 0:i[a],g=A({},u,{enabled:d,variant:d?h??(u==null?void 0:u.variant):void 0});d!==(u==null?void 0:u.enabled)&&(g.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(g.original_variant=u==null?void 0:u.variant),f&&(g.metadata=A({},u==null?void 0:u.metadata,{payload:f,original_payload:u==null||(l=u.metadata)==null?void 0:l.payload})),r[a]=g}return this.ae||(it.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:i,finalDetails:r}),this.ae=!0),r}getFlagVariants(){var e=this._instance.get_property(dn),n=this._instance.get_property(on);if(!n)return e||{};for(var i=ae({},e),r=Object.keys(n),s=0;s<r.length;s++)i[r[s]]=n[r[s]];return this.ae||(it.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:n,finalFlags:i}),this.ae=!0),i}getFlagPayloads(){var e=this._instance.get_property(Pl),n=this._instance.get_property(qn);if(!n)return e||{};for(var i=ae({},e||{}),r=Object.keys(n),s=0;s<r.length;s++)i[r[s]]=n[r[s]];return this.ae||(it.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:n,finalPayloads:i}),this.ae=!0),i}reloadFeatureFlags(){this.he||this._instance.config.advanced_disable_feature_flags||this.fe||(this.fe=setTimeout(()=>{this.pe()},5))}ge(){clearTimeout(this.fe),this.fe=void 0}ensureFlagsLoaded(){this.le||this.ue||this.fe||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.he=e}pe(e){var n;if(this.ge(),!this._instance.config.advanced_disable_decide)if(this.ue)this.de=!0;else{var i={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:A({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(Gn)||{}),group_properties:this._instance.get_property(qt)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(i.disable_flags=!0);var r=this._instance.config.__preview_flags_v2&&this._instance.config.__preview_remote_config;r&&(i.timezone=Wh()),this.ue=!0,this._instance._e({method:"POST",url:this._instance.requestRouter.endpointFor("api",r?"/flags/?v=2":"/decide/?v=4"),data:i,compression:this._instance.config.disable_compression?void 0:Je.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var a,o,l,u=!0;s.statusCode===200&&(this.de||(this.$anon_distinct_id=void 0),u=!1),this.ue=!1,this.ve||(this.ve=!0,this._instance.me((l=s.json)!==null&&l!==void 0?l:{})),i.disable_flags&&!this.de||(this.ce=!u,s.json&&(a=s.json.quotaLimited)!=null&&a.includes(Zs.FeatureFlags)?it.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(this.receivedFeatureFlags((o=s.json)!==null&&o!==void 0?o:{},u),this.de&&(this.de=!1,this.pe())))}})}}getFeatureFlag(e,n){if(n===void 0&&(n={}),this.le||this.getFlags()&&this.getFlags().length>0){var i=this.getFlagVariants()[e],r=""+i,s=this._instance.get_property(Cl)||void 0,a=this._instance.get_property(or)||{};if((n.send_event||!("send_event"in n))&&(!(e in a)||!a[e].includes(r))){var o,l,u,c,d,h,f,g,p,b,m;ne(a[e])?a[e].push(r):a[e]=[r],(o=this._instance.persistence)==null||o.register({[or]:a});var _=this.getFeatureFlagDetails(e),S={$feature_flag:e,$feature_flag_response:i,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(u=l.featureFlags)==null?void 0:u[e])||null,$feature_flag_bootstrapped_payload:((c=this._instance.config.bootstrap)==null||(d=c.featureFlagPayloads)==null?void 0:d[e])||null,$used_bootstrap_value:!this.ce};k(_==null||(h=_.metadata)==null?void 0:h.version)||(S.$feature_flag_version=_.metadata.version);var T,x=(f=_==null||(g=_.reason)==null?void 0:g.description)!==null&&f!==void 0?f:_==null||(p=_.reason)==null?void 0:p.code;x&&(S.$feature_flag_reason=x),_!=null&&(b=_.metadata)!=null&&b.id&&(S.$feature_flag_id=_.metadata.id),k(_==null?void 0:_.original_variant)&&k(_==null?void 0:_.original_enabled)||(S.$feature_flag_original_response=k(_.original_variant)?_.original_enabled:_.original_variant),_!=null&&(m=_.metadata)!=null&&m.original_payload&&(S.$feature_flag_original_payload=_==null||(T=_.metadata)==null?void 0:T.original_payload),this._instance.capture("$feature_flag_called",S)}return i}it.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,n){var i=this._instance.config.token;this._instance._e({method:"POST",url:this._instance.requestRouter.endpointFor("api","/decide/?v=4"),data:{distinct_id:this._instance.get_distinct_id(),token:i},compression:this._instance.config.disable_compression?void 0:Je.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:r=>{var s,a=(s=r.json)==null?void 0:s.featureFlagPayloads;n((a==null?void 0:a[e])||void 0)}})}isFeatureEnabled(e,n){if(n===void 0&&(n={}),this.le||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,n);it.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==e)}receivedFeatureFlags(e,n){if(this._instance.persistence){this.le=!0;var i=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(a,o,l,u,c){l===void 0&&(l={}),u===void 0&&(u={}),c===void 0&&(c={});var d=v0(a),h=d.flags,f=d.featureFlags,g=d.featureFlagPayloads;if(f){var p=a.requestId;if(ne(f)){it.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var b={};if(f)for(var m=0;m<f.length;m++)b[f[m]]=!0;o&&o.register({[es]:f,[dn]:b})}else{var _=f,S=g,T=h;a.errorsWhileComputingFlags&&(_=A({},l,_),S=A({},u,S),T=A({},c,T)),o&&o.register(A({[es]:Object.keys(Rl(_)),[dn]:_||{},[Pl]:S||{},[Rs]:T||{}},p?{[Cl]:p}:{}))}}})(e,this._instance.persistence,i,r,s),this.be(n)}}override(e,n){n===void 0&&(n=!1),it.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:n})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return it.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(on),this._instance.persistence.unregister(qn),void this.be();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var n,i=e;if(this.ae=!!((n=i.suppressWarning)!==null&&n!==void 0&&n),"flags"in i){if(i.flags===!1)this._instance.persistence.unregister(on);else if(i.flags)if(ne(i.flags)){for(var r={},s=0;s<i.flags.length;s++)r[i.flags[s]]=!0;this._instance.persistence.register({[on]:r})}else this._instance.persistence.register({[on]:i.flags})}return"payloads"in i&&(i.payloads===!1?this._instance.persistence.unregister(qn):i.payloads&&this._instance.persistence.register({[qn]:i.payloads})),void this.be()}this.be()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.le){var{flags:n,flagVariants:i}=this.we();e(n,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,n){var i,r=(this._instance.get_property(Gi)||[]).find(l=>l.flagKey===e),s={["$feature_enrollment/"+e]:n},a={$feature_flag:e,$feature_enrollment:n,$set:s};r&&(a.$early_access_feature_name=r.name),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(s,!1);var o=A({},this.getFlagVariants(),{[e]:n});(i=this._instance.persistence)==null||i.register({[es]:Object.keys(Rl(o)),[dn]:o}),this.be()}getEarlyAccessFeatures(e,n,i){n===void 0&&(n=!1);var r=this._instance.get_property(Gi),s=i?"&"+i.map(a=>"stage="+a).join("&"):"";if(r&&!n)return e(r);this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:a=>{var o;if(a.json){var l=a.json.earlyAccessFeatures;return(o=this._instance.persistence)==null||o.register({[Gi]:l}),e(l)}}})}we(){var e=this.getFlags(),n=this.getFlagVariants();return{flags:e.filter(i=>n[i]),flagVariants:Object.keys(n).filter(i=>n[i]).reduce((i,r)=>(i[r]=n[r],i),{})}}be(e){var{flags:n,flagVariants:i}=this.we();this.featureFlagEventHandlers.forEach(r=>r(n,i,{errorsLoading:e}))}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0);var i=this._instance.get_property(Gn)||{};this._instance.register({[Gn]:A({},i,e)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Gn)}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0);var i=this._instance.get_property(qt)||{};Object.keys(i).length!==0&&Object.keys(i).forEach(r=>{i[r]=A({},i[r],e[r]),delete e[r]}),this._instance.register({[qt]:A({},i,e)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var n=this._instance.get_property(qt)||{};this._instance.register({[qt]:A({},n,{[e]:{}})})}else this._instance.unregister(qt)}}var _0=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class ts{constructor(e){this.S=e,this.props={},this.ye=!1,this.Se=(n=>{var i="";return n.token&&(i=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+i+"_posthog"})(e),this.q=this.$e(e),this.load(),e.debug&&I.info("Persistence loaded",e.persistence,A({},this.props)),this.update_config(e,e),this.save()}$e(e){_0.indexOf(e.persistence.toLowerCase())===-1&&(I.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var n=e.persistence.toLowerCase();return n==="localstorage"&&ce.O()?ce:n==="localstorage+cookie"&&Pi.O()?Pi:n==="sessionstorage"&&fe.O()?fe:n==="memory"?n_:n==="cookie"?yt:Pi.O()?Pi:yt}properties(){var e={};return K(this.props,function(n,i){if(i===dn&&ie(n))for(var r=Object.keys(n),s=0;s<r.length;s++)e["$feature/"+r[s]]=n[r[s]];else o=i,l=!1,(Dt(a=$m)?l:qo&&a.indexOf===qo?a.indexOf(o)!=-1:(K(a,function(u){if(l||(l=u===o))return sr}),l))||(e[i]=n);var a,o,l}),e}load(){if(!this.ke){var e=this.q.D(this.Se);e&&(this.props=ae({},e))}}save(){this.ke||this.q.j(this.Se,this.props,this.xe,this.Ee,this.Ie,this.S.debug)}remove(){this.q.L(this.Se,!1),this.q.L(this.Se,!0)}clear(){this.remove(),this.props={}}register_once(e,n,i){if(ie(e)){k(n)&&(n="None"),this.xe=k(i)?this.Pe:i;var r=!1;if(K(e,(s,a)=>{this.props.hasOwnProperty(a)&&this.props[a]!==n||(this.props[a]=s,r=!0)}),r)return this.save(),!0}return!1}register(e,n){if(ie(e)){this.xe=k(n)?this.Pe:n;var i=!1;if(K(e,(r,s)=>{e.hasOwnProperty(s)&&this.props[s]!==r&&(this.props[s]=r,i=!0)}),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.ye){var e=Lh(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);hn(Fa(e))||this.register(e),this.ye=!0}}update_search_keyword(){var e;this.register((e=M==null?void 0:M.referrer)?Vh(e):{})}update_referrer_info(){var e;this.register_once({$referrer:Bh(),$referring_domain:M!=null&&M.referrer&&((e=Sn(M.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Ls]||this.props[Ns]||this.register_once({[Vs]:qh(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};K([Ns,Ls],a=>{var o=this.props[a];o&&K(o,function(l,u){e["$initial_"+As(u)]=l})});var n,i,r=this.props[Vs];if(r){var s=(n=jh(r),i={},K(n,function(a,o){i["$initial_"+As(o)]=a}),i);ae(e,s)}return e}safe_merge(e){return K(this.props,function(n,i){i in e||(e[i]=n)}),e}update_config(e,n){if(this.Pe=this.xe=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==n.persistence){var i=this.$e(e),r=this.props;this.clear(),this.q=i,this.props=r,this.save()}}set_disabled(e){this.ke=e,this.ke?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ee&&(this.Ee=e,this.remove(),this.save())}set_secure(e){e!==this.Ie&&(this.Ie=e,this.remove(),this.save())}set_event_timer(e,n){var i=this.props[zn]||{};i[e]=n,this.props[zn]=i,this.save()}remove_event_timer(e){var n=(this.props[zn]||{})[e];return k(n)||(delete this.props[zn][e],this.save()),n}get_property(e){return this.props[e]}set_property(e,n){this.props[e]=n,this.save()}}class Hh{constructor(){this.Re={},this.Re={}}on(e,n){return this.Re[e]||(this.Re[e]=[]),this.Re[e].push(n),()=>{this.Re[e]=this.Re[e].filter(i=>i!==n)}}emit(e,n){for(var i of this.Re[e]||[])i(n);for(var r of this.Re["*"]||[])r(e,n)}}var mr=function(t,e){if(!function(n){try{new RegExp(n)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};class Wt{constructor(e){this.Te=new Hh,this.Me=(n,i)=>this.Ce(n,i)&&this.Oe(n,i)&&this.Fe(n,i),this.Ce=(n,i)=>i==null||!i.event||(n==null?void 0:n.event)===(i==null?void 0:i.event),this._instance=e,this.Ae=new Set,this.De=new Set}init(){var e;if(!k((e=this._instance)==null?void 0:e.je)){var n;(n=this._instance)==null||n.je((i,r)=>{this.on(i,r)})}}register(e){var n,i;if(!k((n=this._instance)==null?void 0:n.je)&&(e.forEach(a=>{var o,l;(o=this.De)==null||o.add(a),(l=a.steps)==null||l.forEach(u=>{var c;(c=this.Ae)==null||c.add((u==null?void 0:u.event)||"")})}),(i=this._instance)!=null&&i.autocapture)){var r,s=new Set;e.forEach(a=>{var o;(o=a.steps)==null||o.forEach(l=>{l!=null&&l.selector&&s.add(l==null?void 0:l.selector)})}),(r=this._instance)==null||r.autocapture.setElementSelectors(s)}}on(e,n){var i;n!=null&&e.length!=0&&(this.Ae.has(e)||this.Ae.has(n==null?void 0:n.event))&&this.De&&((i=this.De)==null?void 0:i.size)>0&&this.De.forEach(r=>{this.Le(n,r)&&this.Te.emit("actionCaptured",r.name)})}Ne(e){this.onAction("actionCaptured",n=>e(n))}Le(e,n){if((n==null?void 0:n.steps)==null)return!1;for(var i of n.steps)if(this.Me(e,i))return!0;return!1}onAction(e,n){return this.Te.on(e,n)}Oe(e,n){if(n!=null&&n.url){var i,r=e==null||(i=e.properties)==null?void 0:i.$current_url;if(!r||typeof r!="string"||!Wt.ze(r,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static ze(e,n,i){switch(i){case"regex":return!!v&&mr(e,n);case"exact":return n===e;case"contains":var r=Wt.Ue(n).replace(/_/g,".").replace(/%/g,".*");return mr(e,r);default:return!1}}static Ue(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Fe(e,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.qe(e).some(s=>!(n!=null&&n.href&&!Wt.ze(s.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||s.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!Wt.ze(s.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!Wt.ze(s.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var i,r=e==null||(i=e.properties)==null?void 0:i.$element_selectors;if(!r||!r.includes(n==null?void 0:n.selector))return!1}return!0}qe(e){return(e==null?void 0:e.properties.$elements)==null?[]:e==null?void 0:e.properties.$elements}}var ue=we("[Surveys]");class y0{constructor(e){this._instance=e,this.Be=new Map,this.He=new Map}register(e){var n;k((n=this._instance)==null?void 0:n.je)||(this.We(e),this.Ge(e))}Ge(e){var n=e.filter(i=>{var r,s,a,o;return((r=i.conditions)==null?void 0:r.actions)&&((s=i.conditions)==null||(a=s.actions)==null||(o=a.values)==null?void 0:o.length)>0});n.length!==0&&(this.Je==null&&(this.Je=new Wt(this._instance),this.Je.init(),this.Je.Ne(i=>{this.onAction(i)})),n.forEach(i=>{var r,s,a,o,l,u,c,d,h,f;i.conditions&&(r=i.conditions)!=null&&r.actions&&(s=i.conditions)!=null&&(a=s.actions)!=null&&a.values&&((o=i.conditions)==null||(l=o.actions)==null||(u=l.values)==null?void 0:u.length)>0&&((c=this.Je)==null||c.register(i.conditions.actions.values),(d=i.conditions)==null||(h=d.actions)==null||(f=h.values)==null||f.forEach(g=>{if(g&&g.name){var p=this.He.get(g.name);p&&p.push(i.id),this.He.set(g.name,p||[i.id])}}))}))}We(e){var n;e.filter(i=>{var r,s,a,o;return((r=i.conditions)==null?void 0:r.events)&&((s=i.conditions)==null||(a=s.events)==null||(o=a.values)==null?void 0:o.length)>0}).length!==0&&((n=this._instance)==null||n.je((i,r)=>{this.onEvent(i,r)}),e.forEach(i=>{var r,s,a;(r=i.conditions)==null||(s=r.events)==null||(a=s.values)==null||a.forEach(o=>{if(o&&o.name){var l=this.Be.get(o.name);l&&l.push(i.id),this.Be.set(o.name,l||[i.id])}})}))}onEvent(e,n){var i,r,s=((i=this._instance)==null||(r=i.persistence)==null?void 0:r.props[Ii])||[];if(e==="survey shown"&&n&&s.length>0){var a;ue.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:n,existingActivatedSurveys:s});var o=n==null||(a=n.properties)==null?void 0:a.$survey_id;if(o){var l=s.indexOf(o);l>=0&&(s.splice(l,1),this.Ve(s))}}else this.Be.has(e)&&(ue.info("survey event matched, updating activated surveys",{event:e,surveys:this.Be.get(e)}),this.Ve(s.concat(this.Be.get(e)||[])))}onAction(e){var n,i,r=((n=this._instance)==null||(i=n.persistence)==null?void 0:i.props[Ii])||[];this.He.has(e)&&this.Ve(r.concat(this.He.get(e)||[]))}Ve(e){var n,i;(n=this._instance)==null||(i=n.persistence)==null||i.register({[Ii]:[...new Set(e)]})}getSurveys(){var e,n,i=(e=this._instance)==null||(n=e.persistence)==null?void 0:n.props[Ii];return i||[]}getEventToSurveys(){return this.Be}Ke(){return this.Je}}class b0{constructor(e){this.Ye=null,this.Xe=!1,this.Qe=!1,this.Ze=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var n=e.surveys;if(j(n))return ue.warn("Decide not loaded yet. Not loading surveys.");var i=ne(n);this.tr=i?n.length>0:n,ue.info("decide response received, hasSurveys: "+this.tr),this.tr&&this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],n=0;n<localStorage.length;n++){var i=localStorage.key(n);(i!=null&&i.startsWith("seenSurvey_")||i!=null&&i.startsWith("inProgressSurvey_"))&&e.push(i)}e.forEach(r=>localStorage.removeItem(r))}loadIfEnabled(){if(!this.Ye)if(this.Qe)ue.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)ue.info("Disabled. Not loading surveys.");else if(this.tr){var e=L==null?void 0:L.__PosthogExtensions__;if(e){this.Qe=!0;try{var n=e.generateSurveys;if(n)return void this.ir(n);var i=e.loadExternalDependency;if(!i)return void this.er("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",r=>{r||!e.generateSurveys?this.er("Could not load surveys script",r):this.ir(e.generateSurveys)})}catch(r){throw this.er("Error initializing surveys",r),r}finally{this.Qe=!1}}else ue.error("PostHog Extensions not found.")}else ue.info("No surveys to load.")}ir(e){this.Ye=e(this._instance),this._surveyEventReceiver=new y0(this._instance),ue.info("Surveys loaded successfully"),this.rr({isLoaded:!0})}er(e,n){ue.error(e,n),this.rr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.Ze.push(e),this.Ye&&this.rr({isLoaded:!0}),()=>{this.Ze=this.Ze.filter(n=>n!==e)}}getSurveys(e,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return ue.info("Disabled. Not loading surveys."),e([]);var i=this._instance.get_property(Os);if(i&&!n)return e(i,{isLoaded:!0});if(this.Xe)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Xe=!0,this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:r=>{var s;this.Xe=!1;var a=r.statusCode;if(a!==200||!r.json){var o="Surveys API could not be loaded, status: "+a;return ue.error(o),e([],{isLoaded:!1,error:o})}var l,u=r.json.surveys||[],c=u.filter(d=>function(h){return!(!h.start_date||h.end_date)}(d)&&(function(h){var f,g,p;return!((f=h.conditions)==null||(g=f.events)==null||(p=g.values)==null||!p.length)}(d)||function(h){var f,g,p;return!((f=h.conditions)==null||(g=f.actions)==null||(p=g.values)==null||!p.length)}(d)));return c.length>0&&((l=this._surveyEventReceiver)==null||l.register(c)),(s=this._instance.persistence)==null||s.register({[Os]:u}),e(u,{isLoaded:!0})}})}catch(r){throw this.Xe=!1,r}}rr(e){for(var n of this.Ze)try{e.isLoaded?this.getSurveys(n):n([],e)}catch(i){ue.error("Error in survey callback",i)}}getActiveMatchingSurveys(e,n){if(n===void 0&&(n=!1),!j(this.Ye))return this.Ye.getActiveMatchingSurveys(e,n);ue.warn("init was not called")}sr(e){var n=null;return this.getSurveys(i=>{var r;n=(r=i.find(s=>s.id===e))!==null&&r!==void 0?r:null}),n}nr(e){if(j(this.Ye))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof e=="string"?this.sr(e):e;return n?this.Ye.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(j(this.Ye))return ue.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.nr(e);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(e,n){return j(this.Ye)?(ue.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(i=>{this.getSurveys(r=>{var s,a=(s=r.find(l=>l.id===e))!==null&&s!==void 0?s:null;if(a){var o=this.nr(a);i({visible:o.eligible,disabledReason:o.reason})}else i({visible:!1,disabledReason:"Survey not found"})},n)})}renderSurvey(e,n){if(j(this.Ye))ue.warn("init was not called");else{var i=this.sr(e),r=M==null?void 0:M.querySelector(n);i?r?this.Ye.renderSurvey(i,r):ue.warn("Survey element not found"):ue.warn("Survey not found")}}}var Ol=we("[RateLimiter]");class w0{constructor(e){var n,i;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=r=>{var s=r.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(a=>{Ol.info((a||"events")+" is quota limited."),this.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void Ol.warn('could not rate limit - continuing. Error: "'+(a==null?void 0:a.message)+'"',{text:s})}},this.instance=e,this.captureEventsPerSecond=((n=e.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((i=e.config.rate_limiting)==null?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var n,i,r;e===void 0&&(e=!1);var s=new Date().getTime(),a=(n=(i=this.instance.persistence)==null?void 0:i.get_property(Ds))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:s};a.tokens+=(s-a.last)/1e3*this.captureEventsPerSecond,a.last=s,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var o=a.tokens<1;return o||e||(a.tokens=Math.max(0,a.tokens-1)),!o||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,(r=this.instance.persistence)==null||r.set_property(Ds,a),{isRateLimited:o,remainingTokens:a.tokens}}isServerRateLimited(e){var n=this.serverLimits[e||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var Bt=we("[RemoteConfig]");class x0{constructor(e){this._instance=e}get remoteConfig(){var e,n;return(e=L._POSTHOG_REMOTE_CONFIG)==null||(n=e[this._instance.config.token])==null?void 0:n.config}ar(e){var n,i;(n=L.__PosthogExtensions__)!=null&&n.loadExternalDependency?(i=L.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Bt.error("PostHog Extensions not found. Cannot load remote config."),e())}lr(e){this._instance._e({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{e(n.json)}})}load(){try{if(this.remoteConfig)return Bt.info("Using preloaded remote config",this.remoteConfig),void this.me(this.remoteConfig);if(this._instance.config.advanced_disable_decide)return void Bt.warn("Remote config is disabled. Falling back to local config.");this.ar(e=>{if(!e)return Bt.info("No config found after loading remote JS config. Falling back to JSON."),void this.lr(n=>{this.me(n)});this.me(e)})}catch(e){Bt.error("Error loading remote config",e)}}me(e){e?this._instance.config.__preview_remote_config?(this._instance.me(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Bt.info("__preview_remote_config is disabled. Logging config instead",e):Bt.error("Failed to fetch remote config from PostHog.")}}var S0=function(t){var e,n,i,r,s="";for(e=n=0,i=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,r=0;r<i;r++){var a=t.charCodeAt(r),o=null;a<128?n++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),Dt(o)||(n>e&&(s+=t.substring(e,n)),s+=o,e=n=r+1)}return n>e&&(s+=t.substring(e,t.length)),s},E0=!!ks||!!Ts,$l="text/plain",_r=(t,e)=>{var[n,i]=t.split("?"),r=A({},e);i==null||i.split("&").forEach(a=>{var[o]=a.split("=");delete r[o]});var s=Hm(r);return n+"?"+(s=s?(i?i+"&":"")+s:i)},Xn=(t,e)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,e),ns=t=>{var{data:e,compression:n}=t;if(e){if(n===Je.GZipJS){var i=gh(vh(Xn(e)),{mtime:0}),r=new Blob([i],{type:$l});return{contentType:$l,body:r,estimatedSize:r.size}}if(n===Je.Base64){var s=function(l){var u,c,d,h,f,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,b=0,m="",_=[];if(!l)return l;l=S0(l);do u=(f=l.charCodeAt(p++)<<16|l.charCodeAt(p++)<<8|l.charCodeAt(p++))>>18&63,c=f>>12&63,d=f>>6&63,h=63&f,_[b++]=g.charAt(u)+g.charAt(c)+g.charAt(d)+g.charAt(h);while(p<l.length);switch(m=_.join(""),l.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}(Xn(e)),a=(l=>"data="+encodeURIComponent(typeof l=="string"?l:Xn(l)))(s);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var o=Xn(e);return{contentType:"application/json",body:o,estimatedSize:new Blob([o]).size}}},ti=[];Ts&&ti.push({transport:"fetch",method:t=>{var e,n,{contentType:i,body:r,estimatedSize:s}=(e=ns(t))!==null&&e!==void 0?e:{},a=new Headers;K(t.headers,function(c,d){a.append(d,c)}),i&&a.append("Content-Type",i);var o=t.url,l=null;if(jo){var u=new jo;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),t.timeout)}}Ts(o,A({method:(t==null?void 0:t.method)||"GET",headers:a,keepalive:t.method==="POST"&&(s||0)<52428.8,body:r,signal:(n=l)==null?void 0:n.signal},t.fetchOptions)).then(c=>c.text().then(d=>{var h={statusCode:c.status,text:d};if(c.status===200)try{h.json=JSON.parse(d)}catch(f){I.error(f)}t.callback==null||t.callback(h)})).catch(c=>{I.error(c),t.callback==null||t.callback({statusCode:0,text:c})}).finally(()=>l?clearTimeout(l.timeout):null)}}),ks&&ti.push({transport:"XHR",method:t=>{var e,n=new ks;n.open(t.method||"GET",t.url,!0);var{contentType:i,body:r}=(e=ns(t))!==null&&e!==void 0?e:{};K(t.headers,function(s,a){n.setRequestHeader(a,s)}),i&&n.setRequestHeader("Content-Type",i),t.timeout&&(n.timeout=t.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s={statusCode:n.status,text:n.responseText};if(n.status===200)try{s.json=JSON.parse(n.responseText)}catch{}t.callback==null||t.callback(s)}},n.send(r)}}),Ve!=null&&Ve.sendBeacon&&ti.push({transport:"sendBeacon",method:t=>{var e=_r(t.url,{beacon:"1"});try{var n,{contentType:i,body:r}=(n=ns(t))!==null&&n!==void 0?n:{},s=typeof r=="string"?new Blob([r],{type:i}):r;Ve.sendBeacon(e,s)}catch{}}});var Qs=3e3;class T0{constructor(e,n){this.ur=!0,this.hr=[],this.dr=He((n==null?void 0:n.flush_interval_ms)||Qs,250,5e3,"flush interval",Qs),this.vr=e}enqueue(e){this.hr.push(e),this.cr||this.pr()}unload(){this.gr();var e=this.hr.length>0?this._r():{},n=Object.values(e);[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)].map(i=>{this.vr(A({},i,{transport:"sendBeacon"}))})}enable(){this.ur=!1,this.pr()}pr(){var e=this;this.ur||(this.cr=setTimeout(()=>{if(this.gr(),this.hr.length>0){var n=this._r(),i=function(s){var a=n[s],o=new Date().getTime();a.data&&ne(a.data)&&K(a.data,l=>{l.offset=Math.abs(l.timestamp-o),delete l.timestamp}),e.vr(a)};for(var r in n)i(r)}},this.dr))}gr(){clearTimeout(this.cr),this.cr=void 0}_r(){var e={};return K(this.hr,n=>{var i,r=n,s=(r?r.batchKey:null)||r.url;k(e[s])&&(e[s]=A({},r,{data:[]})),(i=e[s].data)==null||i.push(r.data)}),this.hr=[],e}}var k0=["retriesPerformedSoFar"];class A0{constructor(e){this.mr=!1,this.br=3e3,this.hr=[],this._instance=e,this.hr=[],this.wr=!0,!k(v)&&"onLine"in v.navigator&&(this.wr=v.navigator.onLine,Q(v,"online",()=>{this.wr=!0,this.Xi()}),Q(v,"offline",()=>{this.wr=!1}))}get length(){return this.hr.length}retriableRequest(e){var{retriesPerformedSoFar:n}=e,i=jc(e,k0);ye(n)&&n>0&&(i.url=_r(i.url,{retry_count:n})),this._instance._e(A({},i,{callback:r=>{r.statusCode!==200&&(r.statusCode<400||r.statusCode>=500)&&(n??0)<10?this.yr(A({retriesPerformedSoFar:n},i)):i.callback==null||i.callback(r)}}))}yr(e){var n=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=n+1;var i=function(a){var o=3e3*Math.pow(2,a),l=o/2,u=Math.min(18e5,o),c=(Math.random()-.5)*(u-l);return Math.ceil(u+c)}(n),r=Date.now()+i;this.hr.push({retryAt:r,requestOptions:e});var s="Enqueued failed request for retry in "+i;navigator.onLine||(s+=" (Browser is offline)"),I.warn(s),this.mr||(this.mr=!0,this.Sr())}Sr(){this.$r&&clearTimeout(this.$r),this.$r=setTimeout(()=>{this.wr&&this.hr.length>0&&this.Xi(),this.Sr()},this.br)}Xi(){var e=Date.now(),n=[],i=this.hr.filter(s=>s.retryAt<e||(n.push(s),!1));if(this.hr=n,i.length>0)for(var{requestOptions:r}of i)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.$r&&(clearTimeout(this.$r),this.$r=void 0),this.hr))try{this._instance._e(A({},e,{transport:"sendBeacon"}))}catch(n){I.error(n)}this.hr=[]}}class M0{constructor(e){this.kr=()=>{var n,i,r,s;this.Er||(this.Er={});var a=this.scrollElement(),o=this.scrollY(),l=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=o+((a==null?void 0:a.clientHeight)||0),c=(a==null?void 0:a.scrollHeight)||0;this.Er.lastScrollY=Math.ceil(o),this.Er.maxScrollY=Math.max(o,(n=this.Er.maxScrollY)!==null&&n!==void 0?n:0),this.Er.maxScrollHeight=Math.max(l,(i=this.Er.maxScrollHeight)!==null&&i!==void 0?i:0),this.Er.lastContentY=u,this.Er.maxContentY=Math.max(u,(r=this.Er.maxContentY)!==null&&r!==void 0?r:0),this.Er.maxContentHeight=Math.max(c,(s=this.Er.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=e}getContext(){return this.Er}resetContext(){var e=this.Er;return setTimeout(this.kr,0),e}startMeasuringScrollPosition(){Q(v,"scroll",this.kr,{capture:!0}),Q(v,"scrollend",this.kr,{capture:!0}),Q(v,"resize",this.kr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return v==null?void 0:v.document.documentElement;var e=ne(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of e){var i=v==null?void 0:v.document.querySelector(n);if(i)return i}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return v&&(v.scrollY||v.pageYOffset||v.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return v&&(v.scrollX||v.pageXOffset||v.document.documentElement.scrollLeft)||0}}var F0=t=>qh(t==null?void 0:t.config.mask_personal_data_properties,t==null?void 0:t.config.custom_personal_data_properties);class I0{constructor(e,n,i,r){this.Ir=s=>{var a=this.Pr();if(!a||a.sessionId!==s){var o={sessionId:s,props:this.Rr(this._instance)};this.Tr.register({[$s]:o})}},this._instance=e,this.Mr=n,this.Tr=i,this.Rr=r||F0,this.Mr.onSessionId(this.Ir)}Pr(){return this.Tr.props[$s]}getSetOnceProps(){var e,n=(e=this.Pr())==null?void 0:e.props;return n?"r"in n?jh(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var e={};return K(Fa(this.getSetOnceProps()),(n,i)=>{i==="$current_url"&&(i="url"),e["$session_entry_"+As(i)]=n}),e}}var Dl=we("[SessionId]");class P0{constructor(e,n,i){var r;if(this.Cr=[],!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.Tr=e.persistence,this.oi=void 0,this.kt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Or=n||It,this.Fr=i||It;var s=this.S.persistence_name||this.S.token,a=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*He(a,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ar(),this.Dr="ph_"+s+"_window_id",this.jr="ph_"+s+"_primary_window_exists",this.Lr()){var o=fe.D(this.Dr),l=fe.D(this.jr);o&&!l?this.oi=o:fe.L(this.Dr),fe.j(this.jr,!0)}if((r=this.S.bootstrap)!=null&&r.sessionID)try{var u=(c=>{var d=c.replace(/-/g,"");if(d.length!==32)throw new Error("Not a valid UUID");if(d[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(d.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Nr(this.S.bootstrap.sessionID,new Date().getTime(),u)}catch(c){Dl.error("Invalid sessionID in bootstrap",c)}this.zr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return k(this.Cr)&&(this.Cr=[]),this.Cr.push(e),this.kt&&e(this.kt,this.oi),()=>{this.Cr=this.Cr.filter(n=>n!==e)}}Lr(){return this.S.persistence!=="memory"&&!this.Tr.ke&&fe.O()}Ur(e){e!==this.oi&&(this.oi=e,this.Lr()&&fe.j(this.Dr,e))}qr(){return this.oi?this.oi:this.Lr()?fe.D(this.Dr):null}Nr(e,n,i){e===this.kt&&n===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=n,this.kt=e,this.Tr.register({[ar]:[n,e,i]}))}Br(){if(this.kt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.kt,this._sessionStartTimestamp];var e=this.Tr.props[ar];return ne(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Nr(null,null,null)}zr(){Q(v,"beforeunload",()=>{this.Lr()&&fe.L(this.jr)},{capture:!1})}checkAndGetSessionAndWindowId(e,n){if(e===void 0&&(e=!1),n===void 0&&(n=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var i=n||new Date().getTime(),[r,s,a]=this.Br(),o=this.qr(),l=ye(a)&&a>0&&Math.abs(i-a)>864e5,u=!1,c=!s,d=!e&&Math.abs(i-r)>this.sessionTimeoutMs;c||d||l?(s=this.Or(),o=this.Fr(),Dl.info("new session ID generated",{sessionId:s,windowId:o,changeReason:{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}}),a=i,u=!0):o||(o=this.Fr(),u=!0);var h=r===0||!e||l?i:r,f=a===0?new Date().getTime():a;return this.Ur(o),this.Nr(s,h,f),e||this.Ar(),u&&this.Cr.forEach(g=>g(s,o,u?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}:void 0)),{sessionId:s,windowId:o,sessionStartTimestamp:f,changeReason:u?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:r}}Ar(){clearTimeout(this.Hr),this.Hr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var C0=["$set_once","$set"],Et=we("[SiteApps]");class R0{constructor(e){this._instance=e,this.Wr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Gr(e,n){if(n){var i=this.globalsForEvent(n);this.Wr.push(i),this.Wr.length>1e3&&(this.Wr=this.Wr.slice(10))}}get siteAppLoaders(){var e,n;return(e=L._POSTHOG_REMOTE_CONFIG)==null||(n=e[this._instance.config.token])==null?void 0:n.siteApps}init(){if(this.isEnabled){var e=this._instance.je(this.Gr.bind(this));this.Jr=()=>{e(),this.Wr=[],this.Jr=void 0}}}globalsForEvent(e){var n,i,r,s,a,o,l;if(!e)throw new Error("Event payload is required");var u={},c=this._instance.get_property("$groups")||[],d=this._instance.get_property("$stored_group_properties")||{};for(var[h,f]of Object.entries(d))u[h]={id:c[h],type:h,properties:f};var{$set_once:g,$set:p}=e;return{event:A({},jc(e,C0),{properties:A({},e.properties,p?{$set:A({},(n=(i=e.properties)==null?void 0:i.$set)!==null&&n!==void 0?n:{},p)}:{},g?{$set_once:A({},(r=(s=e.properties)==null?void 0:s.$set_once)!==null&&r!==void 0?r:{},g)}:{}),elements_chain:(a=(o=e.properties)==null?void 0:o.$elements_chain)!==null&&a!==void 0?a:"",distinct_id:(l=e.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(e){var n=this.apps[e.id],i=()=>{var o;!n.errored&&this.Wr.length&&(Et.info("Processing "+this.Wr.length+" events for site app with id "+e.id),this.Wr.forEach(l=>n.processEvent==null?void 0:n.processEvent(l)),n.processedBuffer=!0),Object.values(this.apps).every(l=>l.processedBuffer||l.errored)&&((o=this.Jr)==null||o.call(this))},r=!1,s=o=>{n.errored=!o,n.loaded=!0,Et.info("Site app with id "+e.id+" "+(o?"loaded":"errored")),r&&i()};try{var{processEvent:a}=e.init({posthog:this._instance,callback:o=>{s(o)}});a&&(n.processEvent=a),r=!0}catch(o){Et.error("Error while initializing PostHog app with config id "+e.id,o),s(!1)}if(r&&n.loaded)try{i()}catch(o){Et.error("Error while processing buffered events PostHog app with config id "+e.id,o),n.errored=!0}}Vr(){var e=this.siteAppLoaders||[];for(var n of e)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var i of e)this.setupSiteApp(i)}Kr(e){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{i.processEvent==null||i.processEvent(n)}catch(r){Et.error("Error while processing event "+e.event+" for site app "+i.id,r)}}}onRemoteConfig(e){var n,i,r,s=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.Vr(),void this._instance.on("eventCaptured",u=>this.Kr(u))):void Et.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((i=this.Jr)==null||i.call(this),(r=e.siteApps)!=null&&r.length)if(this.isEnabled){var a=function(u,c){var d;L["__$$ph_site_app_"+u]=s._instance,(d=L.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(s._instance,c,h=>{if(h)return Et.error("Error while initializing PostHog app with config id "+u,h)})};for(var{id:o,url:l}of e.siteApps)a(o,l)}else Et.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var Ut,O0=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","bytespider"],Ll=function(t,e){if(!t)return!1;var n=t.toLowerCase();return O0.concat(e||[]).some(i=>{var r=i.toLowerCase();return n.indexOf(r)!==-1})},zh=function(t,e){if(!t)return!1;var n=t.userAgent;if(n&&Ll(n,e))return!0;try{var i=t==null?void 0:t.userAgentData;if(i!=null&&i.brands&&i.brands.some(r=>Ll(r==null?void 0:r.brand,e)))return!0}catch{}return!!t.webdriver};function Nl(t,e,n){return Xn({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:n})}(function(t){t.US="us",t.EU="eu",t.CUSTOM="custom"})(Ut||(Ut={}));var Vl="i.posthog.com";class $0{constructor(e){this.Yr={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,n=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+Vl,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.Yr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Yr[this.apiHost]=Ut.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Yr[this.apiHost]=Ut.EU:this.Yr[this.apiHost]=Ut.CUSTOM),this.Yr[this.apiHost]}endpointFor(e,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),e==="ui")return this.uiHost+n;if(this.region===Ut.CUSTOM)return this.apiHost+n;var i=Vl+n;switch(e){case"assets":return"https://"+this.region+"-assets."+i;case"api":return"https://"+this.region+"."+i}}}var D0={icontains:(t,e)=>!!v&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!v&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!v&&mr(e.href,t),not_regex:(t,e)=>!!v&&!mr(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};class ve{constructor(e){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(i){i===void 0&&(i=!1),n.getWebExperiments(r=>{ve.Xr("retrieved web experiments from the server"),n.Qr=new Map,r.forEach(s=>{if(s.feature_flag_key){var a;n.Qr&&(ve.Xr("setting flag key ",s.feature_flag_key," to web experiment ",s),(a=n.Qr)==null||a.set(s.feature_flag_key,s));var o=n._instance.getFeatureFlag(s.feature_flag_key);oe(o)&&s.variants[o]&&n.Zr(s.name,o,s.variants[o].transforms)}else if(s.variants)for(var l in s.variants){var u=s.variants[l];ve.ts(u)&&n.Zr(s.name,l,u.transforms)}})},i)},this._instance=e,this._instance.onFeatureFlags(i=>{this.onFeatureFlags(i)})}onFeatureFlags(e){if(this._is_bot())ve.Xr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(j(this.Qr))return this.Qr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ve.Xr("applying feature flags",e),e.forEach(n=>{var i;if(this.Qr&&(i=this.Qr)!=null&&i.has(n)){var r,s=this._instance.getFeatureFlag(n),a=(r=this.Qr)==null?void 0:r.get(n);s&&a!=null&&a.variants[s]&&this.Zr(a.name,s,a.variants[s].transforms)}})}}previewWebExperiment(){var e=ve.getWindowLocation();if(e!=null&&e.search){var n=cr(e==null?void 0:e.search,"__experiment_id"),i=cr(e==null?void 0:e.search,"__experiment_variant");n&&i&&(ve.Xr("previewing web experiments "+n+" && "+i),this.getWebExperiments(r=>{this.es(parseInt(n),i,r)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,n,i){if(this._instance.config.disable_web_experiments&&!i)return e([]);var r=this._instance.get_property("$web_experiments");if(r&&!n)return e(r);this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return e([]);var a=s.json.experiments||[];return e(a)}})}es(e,n,i){var r=i.filter(s=>s.id===e);r&&r.length>0&&(ve.Xr("Previewing web experiment ["+r[0].name+"] with variant ["+n+"]"),this.Zr(r[0].name,n,r[0].variants[n].transforms))}static ts(e){return!j(e.conditions)&&ve.rs(e)&&ve.ss(e)}static rs(e){var n;if(j(e.conditions)||j((n=e.conditions)==null?void 0:n.url))return!0;var i,r,s,a=ve.getWindowLocation();return!!a&&((i=e.conditions)==null||!i.url||D0[(r=(s=e.conditions)==null?void 0:s.urlMatchType)!==null&&r!==void 0?r:"icontains"](e.conditions.url,a))}static getWindowLocation(){return v==null?void 0:v.location}static ss(e){var n;if(j(e.conditions)||j((n=e.conditions)==null?void 0:n.utm))return!0;var i=Lh();if(i.utm_source){var r,s,a,o,l,u,c,d,h,f,g,p,b,m,_,S,T=(r=e.conditions)==null||(s=r.utm)==null||!s.utm_campaign||((a=e.conditions)==null||(o=a.utm)==null?void 0:o.utm_campaign)==i.utm_campaign,x=(l=e.conditions)==null||(u=l.utm)==null||!u.utm_source||((c=e.conditions)==null||(d=c.utm)==null?void 0:d.utm_source)==i.utm_source,C=(h=e.conditions)==null||(f=h.utm)==null||!f.utm_medium||((g=e.conditions)==null||(p=g.utm)==null?void 0:p.utm_medium)==i.utm_medium,F=(b=e.conditions)==null||(m=b.utm)==null||!m.utm_term||((_=e.conditions)==null||(S=_.utm)==null?void 0:S.utm_term)==i.utm_term;return T&&C&&F&&x}return!1}static Xr(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];I.info("[WebExperiments] "+e,i)}Zr(e,n,i){this._is_bot()?ve.Xr("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?i.forEach(r=>{if(r.selector){var s;ve.Xr("applying transform of variant "+n+" for experiment "+e+" ",r);var a=(s=document)==null?void 0:s.querySelectorAll(r.selector);a==null||a.forEach(o=>{var l=o;r.html&&(l.innerHTML=r.html),r.css&&l.setAttribute("style",r.css)})}}):ve.Xr("Control variants leave the page unmodified.")}_is_bot(){return Ve&&this._instance?zh(Ve,this._instance.config.custom_blocked_useragents):void 0}}var ni={},ea=()=>{},un="posthog",Uh=!E0&&(Me==null?void 0:Me.indexOf("MSIE"))===-1&&(Me==null?void 0:Me.indexOf("Mozilla"))===-1,Bl=()=>{var t;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Om(M==null?void 0:M.location),persistence:"localStorage+cookie",persistence_name:"",loaded:ea,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Fe&&oe(Fe==null?void 0:Fe.search)&&Fe.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(v==null||(t=v.location)==null?void 0:t.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var n="Bad HTTP status: "+e.statusCode+" "+e.text;I.error(n)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Qs},_onCapture:ea}},ql=t=>{var e={};k(t.process_person)||(e.person_profiles=t.process_person),k(t.xhr_headers)||(e.request_headers=t.xhr_headers),k(t.cookie_name)||(e.persistence_name=t.cookie_name),k(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),k(t.store_google)||(e.save_campaign_params=t.store_google),k(t.verbose)||(e.debug=t.verbose);var n=ae({},e,t);return ne(t.property_blacklist)&&(k(t.property_denylist)?n.property_denylist=t.property_blacklist:ne(t.property_denylist)?n.property_denylist=[...t.property_blacklist,...t.property_denylist]:I.error("Invalid value for property_denylist config: "+t.property_denylist)),n};class L0{constructor(){this.__forceAllowLocalhost=!1}get ns(){return this.__forceAllowLocalhost}set ns(e){I.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class Rr{get decideEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new L0,this.os=!1,this.version=vt.LIB_VERSION,this.ls=new Hh,this.config=Bl(),this.SentryIntegration=G_,this.sentryIntegration=e=>function(n,i){var r=bh(n,i);return{name:yh,processEvent:s=>r(s)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.us=!1,this.hs=null,this.ds=null,this.vs=null,this.featureFlags=new m0(this),this.toolbar=new Y_(this),this.scrollManager=new M0(this),this.pageViewManager=new t0(this),this.surveys=new b0(this),this.experiments=new ve(this),this.exceptions=new n0(this),this.rateLimiter=new w0(this),this.requestRouter=new $0(this),this.consent=new i_(this),this.people={set:(e,n,i)=>{var r=oe(e)?{[e]:n}:e;this.setPersonProperties(r),i==null||i({})},set_once:(e,n,i)=>{var r=oe(e)?{[e]:n}:e;this.setPersonProperties(void 0,r),i==null||i({})}},this.on("eventCaptured",e=>I.info('send "'+(e==null?void 0:e.event)+'"',e))}init(e,n,i){if(i&&i!==un){var r,s=(r=ni[i])!==null&&r!==void 0?r:new Rr;return s._init(e,n,i),ni[i]=s,ni[un][i]=s,s}return this._init(e,n,i)}_init(e,n,i){var r,s;if(n===void 0&&(n={}),k(e)||Ms(e))return I.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return I.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.cs=[],n.person_profiles&&(this.ds=n.person_profiles),this.set_config(ae({},Bl(),ql(n),{name:i,token:e})),this.config.on_xhr_error&&I.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:Je.GZipJS,this.persistence=new ts(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new ts(A({},this.config,{persistence:"sessionStorage"}));var a=A({},this.persistence.props),o=A({},this.sessionPersistence.props);if(this.fs=new T0(m=>this.ps(m),this.config.request_queue_config),this.gs=new A0(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new P0(this),this.sessionPropsManager=new I0(this,this.sessionManager,this.persistence)),new J_(this).startIfEnabledOrStop(),this.siteApps=new R0(this),(r=this.siteApps)==null||r.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new z_(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Km(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new e0(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Z_(this),this.exceptionObserver=new a_(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new sh(this,s_),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new b_(this),this.historyAutocapture.startIfEnabled(),vt.DEBUG=vt.DEBUG||this.config.debug,vt.DEBUG&&I.info("Starting in debug mode",{this:this,config:n,thisC:A({},this.config),p:a,s:o}),this._s(),((s=n.bootstrap)==null?void 0:s.distinctID)!==void 0){var l,u,c=this.config.get_device_id(It()),d=(l=n.bootstrap)!=null&&l.isIdentifiedID?c:n.bootstrap.distinctID;this.persistence.set_property(ft,(u=n.bootstrap)!=null&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:d})}if(this.bs()){var h,f,g=Object.keys(((h=n.bootstrap)==null?void 0:h.featureFlags)||{}).filter(m=>{var _,S;return!((_=n.bootstrap)==null||(S=_.featureFlags)==null||!S[m])}).reduce((m,_)=>{var S,T;return m[_]=((S=n.bootstrap)==null||(T=S.featureFlags)==null?void 0:T[_])||!1,m},{}),p=Object.keys(((f=n.bootstrap)==null?void 0:f.featureFlagPayloads)||{}).filter(m=>g[m]).reduce((m,_)=>{var S,T,x,C;return(S=n.bootstrap)!=null&&(T=S.featureFlagPayloads)!=null&&T[_]&&(m[_]=(x=n.bootstrap)==null||(C=x.featureFlagPayloads)==null?void 0:C[_]),m},{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:p})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:nl,$device_id:null},"");else if(!this.get_distinct_id()){var b=this.config.get_device_id(It());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_property(ft,"anonymous")}return Q(v,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?U_(this,()=>this.ws()):this.ws(),ze(this.config._onCapture)&&this.config._onCapture!==ea&&(I.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",m=>this.config._onCapture(m.event,m))),this}me(e){var n,i,r,s,a,o,l,u;if(!M||!M.body)return I.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.me(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=N(e.supportedCompression,Je.GZipJS)?Je.GZipJS:N(e.supportedCompression,Je.Base64)?Je.Base64:void 0),(n=e.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.ds?this.ds:"identified_only"}),(i=this.siteApps)==null||i.onRemoteConfig(e),(r=this.sessionRecording)==null||r.onRemoteConfig(e),(s=this.autocapture)==null||s.onRemoteConfig(e),(a=this.heatmaps)==null||a.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(o=this.webVitalsAutocapture)==null||o.onRemoteConfig(e),(l=this.exceptionObserver)==null||l.onRemoteConfig(e),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(e)}ws(){try{this.config.loaded(this)}catch(e){I.critical("`loaded` function failed",e)}this.ys(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Ss()},1),new x0(this).load(),this.featureFlags.decide()}ys(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this.fs)==null||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||Pt(this.__request_queue,e=>this.ps(e)),this.__request_queue=[],this.ys()}_handle_unload(){var e,n;this.config.request_batching?(this.$s()&&this.capture("$pageleave"),(e=this.fs)==null||e.unload(),(n=this.gs)==null||n.unload()):this.$s()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_e(e){this.__loaded&&(Uh?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=_r(e.url,{ip:this.config.ip?1:0}),e.headers=A({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(n=>{var i,r,s,a=A({},n);a.timeout=a.timeout||6e4,a.url=_r(a.url,{_:new Date().getTime().toString(),ver:vt.LIB_VERSION,compression:a.compression});var o=(i=a.transport)!==null&&i!==void 0?i:"fetch",l=(r=(s=Wc(ti,u=>u.transport===o))==null?void 0:s.method)!==null&&r!==void 0?r:ti[0].method;if(!l)throw new Error("No available transport method");l(a)})(A({},e,{callback:n=>{var i,r;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(r=this.config).on_request_error)==null||i.call(r,n)),e.callback==null||e.callback(n)}}))))}ps(e){this.gs?this.gs.retriableRequest(e):this._e(e)}_execute_array(e){var n,i=[],r=[],s=[];Pt(e,o=>{o&&(n=o[0],ne(n)?s.push(o):ze(o)?o.call(this):ne(o)&&n==="alias"?i.push(o):ne(o)&&n.indexOf("capture")!==-1&&ze(this[n])?s.push(o):r.push(o))});var a=function(o,l){Pt(o,function(u){if(ne(u[0])){var c=l;K(u,function(d){c=c[d[0]].apply(c,d.slice(1))})}else this[u[0]].apply(this,u.slice(1))},l)};a(i,this),a(r,this),a(s,this)}bs(){var e,n;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,n,i){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.fs){if(!this.consent.isOptedOut())if(!k(e)&&oe(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=i!=null&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){n!=null&&n.$current_url&&!oe(n==null?void 0:n.$current_url)&&(I.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var a=new Date,o=(i==null?void 0:i.timestamp)||a,l=It(),u={uuid:l,event:e,properties:this.Di(e,n||{},o,l)};s&&(u.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),i!=null&&i.$set&&(u.$set=i==null?void 0:i.$set);var c=this.ks(i==null?void 0:i.$set_once);c&&(u.$set_once=c),(u=Cm(u,i!=null&&i._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,k(i==null?void 0:i.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=a);var d=A({},u.properties.$set,u.$set);if(hn(d)||this.setPersonPropertiesForFlags(d),!j(this.config.before_send)){var h=this.xs(u);if(!h)return;u=h}this.ls.emit("eventCaptured",u);var f={method:"POST",url:(r=i==null?void 0:i._url)!==null&&r!==void 0?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:i==null?void 0:i._batchKey};return!this.config.request_batching||i&&(i==null||!i._batchKey)||i!=null&&i.send_instantly?this.ps(f):this.fs.enqueue(f),u}I.critical("This capture call is ignored due to client rate limiting.")}}else I.error("No event name provided to posthog.capture")}else I.uninitializedWarning("posthog.capture")}je(e){return this.on("eventCaptured",n=>e(n.event,n))}Di(e,n,i,r){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return n;var s=this.persistence.remove_event_timer(e),a=A({},n);if(a.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(a.$cookieless_mode=!0),e==="$snapshot"){var o=A({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=o.distinct_id,(!oe(a.distinct_id)&&!ye(a.distinct_id)||Ms(a.distinct_id))&&I.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var l,u=g0(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:c,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId();a.$session_id=c,a.$window_id=d}this.sessionPropsManager&&ae(a,this.sessionPropsManager.getSessionProps());try{var h;this.sessionRecording&&ae(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(h=this.gs)==null?void 0:h.length}catch(b){a.$sdk_debug_error_capturing_properties=String(b)}if(this.requestRouter.region===Ut.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),l=e==="$pageview"?this.pageViewManager.doPageView(i,r):e==="$pageleave"?this.pageViewManager.doPageLeave(i):this.pageViewManager.doEvent(),a=ae(a,l),e==="$pageview"&&M&&(a.title=M.title),!k(s)){var f=i.getTime()-s;a.$duration=parseFloat((f/1e3).toFixed(3))}Me&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=ae({},u,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),ne(this.config.property_denylist)?K(this.config.property_denylist,function(b){delete a[b]}):I.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;g&&(I.error("sanitize_properties is deprecated. Use before_send instead"),a=g(a,e));var p=this.Es();return a.$process_person_profile=p,p&&this.Is("_calculate_event_properties"),a}ks(e){var n;if(!this.persistence||!this.Es()||this.os)return e;var i=this.persistence.get_initial_props(),r=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),s=ae({},i,r||{},e||{}),a=this.config.sanitize_properties;return a&&(I.error("sanitize_properties is deprecated. Use before_send instead"),s=a(s,"$set_once")),this.os=!0,hn(s)?void 0:s}register(e,n){var i;(i=this.persistence)==null||i.register(e,n)}register_once(e,n,i){var r;(r=this.persistence)==null||r.register_once(e,n,i)}register_for_session(e){var n;(n=this.sessionPersistence)==null||n.register(e)}unregister(e){var n;(n=this.persistence)==null||n.unregister(e)}unregister_for_session(e){var n;(n=this.sessionPersistence)==null||n.unregister(e)}Ps(e,n){this.register({[e]:n})}getFeatureFlag(e,n){return this.featureFlags.getFeatureFlag(e,n)}getFeatureFlagPayload(e){var n=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(e,n){return this.featureFlags.isFeatureEnabled(e,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,n)}getEarlyAccessFeatures(e,n,i){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(e,n,i)}on(e,n){return this.ls.on(e,n)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var n,i;return(n=(i=this.sessionManager)==null?void 0:i.onSessionId(e))!==null&&n!==void 0?n:()=>{}}getSurveys(e,n){n===void 0&&(n=!1),this.surveys.getSurveys(e,n)}getActiveMatchingSurveys(e,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(e,n)}renderSurvey(e,n){this.surveys.renderSurvey(e,n)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(e,n)}identify(e,n,i){if(!this.__loaded||!this.persistence)return I.uninitializedWarning("posthog.identify");if(ye(e)&&(e=e.toString(),I.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))I.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(this.Is("posthog.identify")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}e!==r&&e!==this.get_property(Hn)&&(this.unregister(Hn),this.register({distinct_id:e}));var a=(this.persistence.get_property(ft)||"anonymous")==="anonymous";e!==r&&a?(this.persistence.set_property(ft,"identified"),this.setPersonPropertiesForFlags(A({},i||{},n||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:n||{},$set_once:i||{}}),this.vs=Nl(e,n,i),this.featureFlags.setAnonymousDistinctId(r)):(n||i)&&this.setPersonProperties(n,i),e!==r&&(this.reloadFeatureFlags(),this.unregister(or))}}else I.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,n){if((e||n)&&this.Is("posthog.setPersonProperties")){var i=Nl(this.get_distinct_id(),e,n);this.vs!==i?(this.setPersonPropertiesForFlags(A({},n||{},e||{})),this.capture("$set",{$set:e||{},$set_once:n||{}}),this.vs=i):I.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,n,i){if(e&&n){if(this.Is("posthog.group")){var r=this.getGroups();r[e]!==n&&this.resetGroupPropertiesForFlags(e),this.register({$groups:A({},r,{[e]:n})}),i&&(this.capture("$groupidentify",{$group_type:e,$group_key:n,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),r[e]===n||i||this.reloadFeatureFlags()}}else I.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(e,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0),this.Is("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,n)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var n,i,r,s;if(I.info("reset"),!this.__loaded)return I.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(i=this.sessionPersistence)==null||i.clear(),this.surveys.reset(),(r=this.persistence)==null||r.set_property(ft,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.vs=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:nl,$device_id:null},"");else{var o=this.config.get_device_id(It());this.register_once({distinct_id:o,$device_id:e?o:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,n;return(e=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(e!=null&&e.withTimestamp&&i){var s,a=(s=e.timestampLookBack)!==null&&s!==void 0?s:10;if(!i)return r;r+="?t="+Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0)}return r}alias(e,n){return e===this.get_property(Hc)?(I.critical("Attempting to create alias for existing People user - aborting."),-2):this.Is("posthog.alias")?(k(n)&&(n=this.get_distinct_id()),e!==n?(this.Ps(Hn,e),this.capture("$create_alias",{alias:e,distinct_id:n})):(I.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var n,i,r,s,a=A({},this.config);ie(e)&&(ae(this.config,ql(e)),(n=this.persistence)==null||n.update_config(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new ts(A({},this.config,{persistence:"sessionStorage"})),ce.O()&&ce.A("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(vt.DEBUG=!0,I.info("set_config",JSON.stringify({config:e,oldConfig:a,newConfig:A({},this.config)},null,2))),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(r=this.autocapture)==null||r.startIfEnabled(),(s=this.heatmaps)==null||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._s())}startSessionRecording(e){var n=e===!0,i={sampling:n||!(e==null||!e.sampling),linked_flag:n||!(e==null||!e.linked_flag),url_trigger:n||!(e==null||!e.url_trigger),event_trigger:n||!(e==null||!e.event_trigger)};if(Object.values(i).some(Boolean)){var r,s,a,o,l;(r=this.sessionManager)==null||r.checkAndGetSessionAndWindowId(),i.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),i.linked_flag&&((a=this.sessionRecording)==null||a.overrideLinkedFlag()),i.url_trigger&&((o=this.sessionRecording)==null||o.overrideTrigger("url")),i.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,n){var i=new Error("PostHog syntheticException");this.exceptions.sendExceptionEvent(A({},y_((r=>r instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:i}),n))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var n;return(n=this.persistence)==null?void 0:n.props[e]}getSessionProperty(e){var n;return(n=this.sessionPersistence)==null?void 0:n.props[e]}toString(){var e,n=(e=this.config.name)!==null&&e!==void 0?e:un;return n!==un&&(n=un+"."+n),n}_isIdentified(){var e,n;return((e=this.persistence)==null?void 0:e.get_property(ft))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(ft))==="identified"}Es(){var e,n,i,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&hn(this.getGroups())&&((e=this.persistence)==null||(n=e.props)==null||!n[Hn])&&((i=this.persistence)==null||(r=i.props)==null||!r[lr]))}$s(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Es()||this.Is("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Is(e){return this.config.person_profiles==="never"?(I.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Ps(lr,!0),!0)}_s(){var e,n,i,r,s=this.consent.isOptedOut(),a=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||s&&!!a;((e=this.persistence)==null?void 0:e.ke)!==o&&((i=this.persistence)==null||i.set_disabled(o)),((n=this.sessionPersistence)==null?void 0:n.ke)!==o&&((r=this.sessionPersistence)==null||r.set_disabled(o))}opt_in_capturing(e){var n;this.consent.optInOut(!0),this._s(),(k(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((n=e==null?void 0:e.captureEventName)!==null&&n!==void 0?n:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ss()}opt_out_capturing(){this.consent.optInOut(!1),this._s()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._s()}_is_bot(){return Ve?zh(Ve,this.config.custom_blocked_useragents):void 0}Ss(){M&&(M.visibilityState==="visible"?this.us||(this.us=!0,this.capture("$pageview",{title:M.title},{send_instantly:!0}),this.hs&&(M.removeEventListener("visibilitychange",this.hs),this.hs=null)):this.hs||(this.hs=this.Ss.bind(this),Q(M,"visibilitychange",this.hs)))}debug(e){e===!1?(v==null||v.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(v==null||v.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}xs(e){if(j(this.config.before_send))return e;var n=ne(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var r of n){if(i=r(i),j(i)){var s="Event '"+e.event+"' was rejected in beforeSend function";return Fm(e.event)?I.warn(s+". This can cause unexpected behavior."):I.info(s),null}i.properties&&!hn(i.properties)||I.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return i}getPageViewId(){var e;return(e=this.pageViewManager.oe)==null?void 0:e.pageViewId}captureTraceFeedback(e,n){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:n})}captureTraceMetric(e,n,i){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:n,$ai_metric_value:String(i)})}}(function(t,e){for(var n=0;n<e.length;n++)t.prototype[e[n]]=Pm(t.prototype[e[n]])})(Rr,["identify"]);var jl,Wl,Hl,zl,Ul,Gl;(function(t){t.Button="button",t.Tab="tab",t.Selector="selector"})(jl||(jl={})),function(t){t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger"}(Wl||(Wl={})),function(t){t.Popover="popover",t.API="api",t.Widget="widget"}(Hl||(Hl={})),function(t){t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link"}(zl||(zl={})),function(t){t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question"}(Ul||(Ul={})),function(t){t.Once="once",t.Recurring="recurring",t.Always="always"}(Gl||(Gl={}));var Kl,N0=(Kl=ni[un]=new Rr,function(){function t(){t.done||(t.done=!0,Uh=!1,K(ni,function(e){e._dom_loaded()}))}M!=null&&M.addEventListener?M.readyState==="complete"?t():Q(M,"DOMContentLoaded",t,{capture:!1}):v&&I.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),Kl),V0=Oe('<!> <main><div class="flex flex-col items-center min-h-screen p-4 dark:bg-black bg-gray-100"><!> <!> <!> <!></div> <div class="fixed inset-x-0 bottom-0 h-12 md:h-48 mask-t-to-50% bg-linear-to-t from-green-600/20 backdrop-blur-lg z-10 pointer-events-none"></div> <div class="fixed inset-x-0 top-0 h-12 md:h-36 mask-b-to-50% bg-linear-to-b from-green-600/20 backdrop-blur-lg z-10 pointer-events-none"></div></main>',1);function B0(t,e){Mn(e,!1),wi(()=>{N0.init("phc_VK3BG0gaxwgg0aCF9g7LDSvrH2cM7iVq0fNgacPWfuG",{api_host:"https://us.i.posthog.com",person_profiles:"identified_only"})}),bi();var n=V0(),i=Ad(n);Zv(i);var r=V(i,2),s=W(r),a=W(s);hm(a,{});var o=V(a,2);om(o,{});var l=V(o,2);Em(l);var u=V(l,2);mm(u,{}),_e(t,n),Fn()}ef(B0,{target:document.getElementById("app")});
