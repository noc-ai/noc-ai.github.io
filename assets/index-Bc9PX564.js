(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();const ja=!1;var zl=Array.isArray,qh=Array.prototype.indexOf,jh=Array.from,Wh=Object.defineProperty,di=Object.getOwnPropertyDescriptor,Ul=Object.getOwnPropertyDescriptors,Hh=Object.prototype,zh=Array.prototype,Zs=Object.getPrototypeOf,Wa=Object.isExtensible;function Uh(t){return t()}function es(t){for(var e=0;e<t.length;e++)t[e]()}const Je=2,Gl=4,vr=8,Qs=16,wt=32,Ei=64,Un=128,Be=256,Gn=512,Re=1024,ut=2048,ti=4096,_i=8192,mr=16384,Gh=32768,ea=65536,Kh=1<<17,Yh=1<<19,Kl=1<<20,ts=1<<21,fi=Symbol("$state"),Xh=Symbol("legacy props"),Jh=Symbol("");function Yl(t){return t===this.v}function Zh(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Xl(t){return!Zh(t,this.v)}function Qh(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ed(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function td(t){throw new Error("https://svelte.dev/e/effect_orphan")}function id(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function nd(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function rd(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function sd(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ad(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ki=!1,od=!1;function ld(){ki=!0}const ud=2,cd=1,hd=2,Ae=Symbol(),dd="http://www.w3.org/1999/xhtml";function fd(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Q=null;function Ha(t){Q=t}function Ti(t,e=!1,i){var n=Q={p:Q,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};ki&&!e&&(Q.l={s:null,u:null,r1:[],r2:ia(!1)}),au(()=>{n.d=!0})}function Ai(t){const e=Q;if(e!==null){const a=e.e;if(a!==null){var i=X,n=K;e.e=null;try{for(var r=0;r<a.length;r++){var s=a[r];Rt(s.effect),ct(s.reaction),ou(s.fn)}}finally{Rt(i),ct(n)}}Q=e.p,e.m=!0}return{}}function pn(){return!ki||Q!==null&&Q.l===null}function ai(t){if(typeof t!="object"||t===null||fi in t)return t;const e=Zs(t);if(e!==Hh&&e!==zh)return t;var i=new Map,n=zl(t),r=xt(0),s=K,a=o=>{var l=K;ct(s);var u=o();return ct(l),u};return n&&i.set("length",xt(t.length)),new Proxy(t,{defineProperty(o,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&rd();var c=i.get(l);return c===void 0?(c=a(()=>xt(u.value)),i.set(l,c)):ue(c,a(()=>ai(u.value))),!0},deleteProperty(o,l){var u=i.get(l);if(u===void 0)l in o&&(i.set(l,a(()=>xt(Ae))),Ir(r));else{if(n&&typeof l=="string"){var c=i.get("length"),d=Number(l);Number.isInteger(d)&&d<c.v&&ue(c,d)}ue(u,Ae),Ir(r)}return!0},get(o,l,u){var f;if(l===fi)return t;var c=i.get(l),d=l in o;if(c===void 0&&(!d||(f=di(o,l))!=null&&f.writable)&&(c=a(()=>xt(ai(d?o[l]:Ae))),i.set(l,c)),c!==void 0){var h=re(c);return h===Ae?void 0:h}return Reflect.get(o,l,u)},getOwnPropertyDescriptor(o,l){var u=Reflect.getOwnPropertyDescriptor(o,l);if(u&&"value"in u){var c=i.get(l);c&&(u.value=re(c))}else if(u===void 0){var d=i.get(l),h=d==null?void 0:d.v;if(d!==void 0&&h!==Ae)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(o,l){var h;if(l===fi)return!0;var u=i.get(l),c=u!==void 0&&u.v!==Ae||Reflect.has(o,l);if(u!==void 0||X!==null&&(!c||(h=di(o,l))!=null&&h.writable)){u===void 0&&(u=a(()=>xt(c?ai(o[l]):Ae)),i.set(l,u));var d=re(u);if(d===Ae)return!1}return c},set(o,l,u,c){var y;var d=i.get(l),h=l in o;if(n&&l==="length")for(var f=u;f<d.v;f+=1){var g=i.get(f+"");g!==void 0?ue(g,Ae):f in o&&(g=a(()=>xt(Ae)),i.set(f+"",g))}d===void 0?(!h||(y=di(o,l))!=null&&y.writable)&&(d=a(()=>xt(void 0)),ue(d,a(()=>ai(u))),i.set(l,d)):(h=d.v!==Ae,ue(d,a(()=>ai(u))));var p=Reflect.getOwnPropertyDescriptor(o,l);if(p!=null&&p.set&&p.set.call(c,u),!h){if(n&&typeof l=="string"){var b=i.get("length"),m=Number(l);Number.isInteger(m)&&m>=b.v&&ue(b,m+1)}Ir(r)}return!0},ownKeys(o){re(r);var l=Reflect.ownKeys(o).filter(d=>{var h=i.get(d);return h===void 0||h.v!==Ae});for(var[u,c]of i)c.v!==Ae&&!(u in o)&&l.push(u);return l},setPrototypeOf(){sd()}})}function Ir(t,e=1){ue(t,t.v+e)}function ta(t){var e=Je|ut,i=K!==null&&(K.f&Je)!==0?K:null;return X===null||i!==null&&(i.f&Be)!==0?e|=Be:X.f|=Kl,{ctx:Q,deps:null,effects:null,equals:Yl,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:i??X}}function pd(t){const e=ta(t);return e.equals=Xl,e}function Jl(t){var e=t.effects;if(e!==null){t.effects=null;for(var i=0;i<e.length;i+=1)Xt(e[i])}}function gd(t){for(var e=t.parent;e!==null;){if((e.f&Je)===0)return e;e=e.parent}return null}function Zl(t){var e,i=X;Rt(gd(t));try{Jl(t),e=_u(t)}finally{Rt(i)}return e}function Ql(t){var e=Zl(t),i=(Mt||(t.f&Be)!==0)&&t.deps!==null?ti:Re;Ze(t,i),t.equals(e)||(t.v=e,t.wv=vu())}const tn=new Map;function ia(t,e){var i={f:0,v:t,reactions:null,equals:Yl,rv:0,wv:0};return i}function xt(t,e){const i=ia(t);return Ad(i),i}function Oi(t,e=!1){var n;const i=ia(t);return e||(i.equals=Xl),ki&&Q!==null&&Q.l!==null&&((n=Q.l).s??(n.s=[])).push(i),i}function ue(t,e,i=!1){K!==null&&!nt&&pn()&&(K.f&(Je|Qs))!==0&&!(Te!=null&&Te.includes(t))&&ad();let n=i?ai(e):e;return vd(t,n)}function vd(t,e){if(!t.equals(e)){var i=t.v;gn?tn.set(t,e):tn.set(t,i),t.v=e,(t.f&Je)!==0&&((t.f&ut)!==0&&Zl(t),Ze(t,(t.f&Be)===0?Re:ti)),t.wv=vu(),eu(t,ut),pn()&&X!==null&&(X.f&Re)!==0&&(X.f&(wt|Ei))===0&&(qe===null?Fd([t]):qe.push(t))}return e}function eu(t,e){var i=t.reactions;if(i!==null)for(var n=pn(),r=i.length,s=0;s<r;s++){var a=i[s],o=a.f;(o&ut)===0&&(!n&&a===X||(Ze(a,e),(o&(Re|Be))!==0&&((o&Je)!==0?eu(a,ti):yr(a))))}}var za,tu,iu,nu;function md(){if(za===void 0){za=window,tu=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,i=Text.prototype;iu=di(e,"firstChild").get,nu=di(e,"nextSibling").get,Wa(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Wa(i)&&(i.__t=void 0)}}function ru(t=""){return document.createTextNode(t)}function Ft(t){return iu.call(t)}function na(t){return nu.call(t)}function H(t,e){return Ft(t)}function _d(t,e){{var i=Ft(t);return i instanceof Comment&&i.data===""?na(i):i}}function q(t,e=1,i=!1){let n=t;for(;e--;)n=na(n);return n}function su(t){X===null&&K===null&&td(),K!==null&&(K.f&Be)!==0&&X===null&&ed(),gn&&Qh()}function yd(t,e){var i=e.last;i===null?e.last=e.first=t:(i.next=t,t.prev=i,e.last=t)}function Fi(t,e,i,n=!0){var r=X,s={ctx:Q,deps:null,nodes_start:null,nodes_end:null,f:t|ut,first:null,fn:e,last:null,next:null,parent:r,prev:null,teardown:null,transitions:null,wv:0};if(i)try{ra(s),s.f|=Gh}catch(l){throw Xt(s),l}else e!==null&&yr(s);var a=i&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Kl|Un))===0;if(!a&&n&&(r!==null&&yd(s,r),K!==null&&(K.f&Je)!==0)){var o=K;(o.effects??(o.effects=[])).push(s)}return s}function au(t){const e=Fi(vr,null,!1);return Ze(e,Re),e.teardown=t,e}function is(t){su();var e=X!==null&&(X.f&wt)!==0&&Q!==null&&!Q.m;if(e){var i=Q;(i.e??(i.e=[])).push({fn:t,effect:X,reaction:K})}else{var n=ou(t);return n}}function bd(t){return su(),lu(t)}function wd(t){const e=Fi(Ei,t,!0);return(i={})=>new Promise(n=>{i.outro?rs(e,()=>{Xt(e),n(void 0)}):(Xt(e),n(void 0))})}function ou(t){return Fi(Gl,t,!1)}function lu(t){return Fi(vr,t,!0)}function Ut(t,e=[],i=ta){const n=e.map(i);return uu(()=>t(...n.map(re)))}function uu(t,e=0){return Fi(vr|Qs|e,t,!0)}function ns(t,e=!0){return Fi(vr|wt,t,!0,e)}function cu(t){var e=t.teardown;if(e!==null){const i=gn,n=K;Ga(!0),ct(null);try{e.call(null)}finally{Ga(i),ct(n)}}}function hu(t,e=!1){var i=t.first;for(t.first=t.last=null;i!==null;){var n=i.next;(i.f&Ei)!==0?i.parent=null:Xt(i,e),i=n}}function xd(t){for(var e=t.first;e!==null;){var i=e.next;(e.f&wt)===0&&Xt(e),e=i}}function Xt(t,e=!0){var i=!1;(e||(t.f&Yh)!==0)&&t.nodes_start!==null&&(Sd(t.nodes_start,t.nodes_end),i=!0),hu(t,e&&!i),Jn(t,0),Ze(t,mr);var n=t.transitions;if(n!==null)for(const s of n)s.stop();cu(t);var r=t.parent;r!==null&&r.first!==null&&du(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Sd(t,e){for(;t!==null;){var i=t===e?null:na(t);t.remove(),t=i}}function du(t){var e=t.parent,i=t.prev,n=t.next;i!==null&&(i.next=n),n!==null&&(n.prev=i),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=i))}function rs(t,e){var i=[];fu(t,i,!0),Ed(i,()=>{Xt(t),e&&e()})}function Ed(t,e){var i=t.length;if(i>0){var n=()=>--i||e();for(var r of t)r.out(n)}else e()}function fu(t,e,i){if((t.f&_i)===0){if(t.f^=_i,t.transitions!==null)for(const a of t.transitions)(a.is_global||i)&&e.push(a);for(var n=t.first;n!==null;){var r=n.next,s=(n.f&ea)!==0||(n.f&wt)!==0;fu(n,e,s?i:!1),n=r}}}function Ua(t){pu(t,!0)}function pu(t,e){if((t.f&_i)!==0){t.f^=_i,(t.f&Re)===0&&(t.f^=Re),vn(t)&&(Ze(t,ut),yr(t));for(var i=t.first;i!==null;){var n=i.next,r=(i.f&ea)!==0||(i.f&wt)!==0;pu(i,r?e:!1),i=n}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Kn=[];function kd(){var t=Kn;Kn=[],es(t)}function Td(t){Kn.length===0&&queueMicrotask(kd),Kn.push(t)}let $n=!1,ss=!1,Yn=null,Gt=!1,gn=!1;function Ga(t){gn=t}let Dn=[];let K=null,nt=!1;function ct(t){K=t}let X=null;function Rt(t){X=t}let Te=null;function Ad(t){K!==null&&K.f&ts&&(Te===null?Te=[t]:Te.push(t))}let Ee=null,Ne=0,qe=null;function Fd(t){qe=t}let gu=1,Xn=0,Mt=!1;function vu(){return++gu}function vn(t){var d;var e=t.f;if((e&ut)!==0)return!0;if((e&ti)!==0){var i=t.deps,n=(e&Be)!==0;if(i!==null){var r,s,a=(e&Gn)!==0,o=n&&X!==null&&!Mt,l=i.length;if(a||o){var u=t,c=u.parent;for(r=0;r<l;r++)s=i[r],(a||!((d=s==null?void 0:s.reactions)!=null&&d.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);a&&(u.f^=Gn),o&&c!==null&&(c.f&Be)===0&&(u.f^=Be)}for(r=0;r<l;r++)if(s=i[r],vn(s)&&Ql(s),s.wv>t.wv)return!0}(!n||X!==null&&!Mt)&&Ze(t,Re)}return!1}function Md(t,e){for(var i=e;i!==null;){if((i.f&Un)!==0)try{i.fn(t);return}catch{i.f^=Un}i=i.parent}throw $n=!1,t}function Ka(t){return(t.f&mr)===0&&(t.parent===null||(t.parent.f&Un)===0)}function _r(t,e,i,n){if($n){if(i===null&&($n=!1),Ka(e))throw t;return}if(i!==null&&($n=!0),Md(t,e),Ka(e))throw t}function mu(t,e,i=!0){var n=t.reactions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];Te!=null&&Te.includes(t)||((s.f&Je)!==0?mu(s,e,!1):e===s&&(i?Ze(s,ut):(s.f&Re)!==0&&Ze(s,ti),yr(s)))}}function _u(t){var f;var e=Ee,i=Ne,n=qe,r=K,s=Mt,a=Te,o=Q,l=nt,u=t.f;Ee=null,Ne=0,qe=null,Mt=(u&Be)!==0&&(nt||!Gt||K===null),K=(u&(wt|Ei))===0?t:null,Te=null,Ha(t.ctx),nt=!1,Xn++,t.f|=ts;try{var c=(0,t.fn)(),d=t.deps;if(Ee!==null){var h;if(Jn(t,Ne),d!==null&&Ne>0)for(d.length=Ne+Ee.length,h=0;h<Ee.length;h++)d[Ne+h]=Ee[h];else t.deps=d=Ee;if(!Mt)for(h=Ne;h<d.length;h++)((f=d[h]).reactions??(f.reactions=[])).push(t)}else d!==null&&Ne<d.length&&(Jn(t,Ne),d.length=Ne);if(pn()&&qe!==null&&!nt&&d!==null&&(t.f&(Je|ti|ut))===0)for(h=0;h<qe.length;h++)mu(qe[h],t);return r!==null&&r!==t&&(Xn++,qe!==null&&(n===null?n=qe:n.push(...qe))),c}finally{Ee=e,Ne=i,qe=n,K=r,Mt=s,Te=a,Ha(o),nt=l,t.f^=ts}}function Id(t,e){let i=e.reactions;if(i!==null){var n=qh.call(i,t);if(n!==-1){var r=i.length-1;r===0?i=e.reactions=null:(i[n]=i[r],i.pop())}}i===null&&(e.f&Je)!==0&&(Ee===null||!Ee.includes(e))&&(Ze(e,ti),(e.f&(Be|Gn))===0&&(e.f^=Gn),Jl(e),Jn(e,0))}function Jn(t,e){var i=t.deps;if(i!==null)for(var n=e;n<i.length;n++)Id(t,i[n])}function ra(t){var e=t.f;if((e&mr)===0){Ze(t,Re);var i=X,n=Q,r=Gt;X=t,Gt=!0;try{(e&Qs)!==0?xd(t):hu(t),cu(t);var s=_u(t);t.teardown=typeof s=="function"?s:null,t.wv=gu;var a=t.deps,o;ja&&od&&t.f&ut}catch(l){_r(l,t,i,n||t.ctx)}finally{Gt=r,X=i}}}function Cd(){try{id()}catch(t){if(Yn!==null)_r(t,Yn,null);else throw t}}function Pd(){var t=Gt;try{var e=0;for(Gt=!0;Dn.length>0;){e++>1e3&&Cd();var i=Dn,n=i.length;Dn=[];for(var r=0;r<n;r++){var s=Od(i[r]);Rd(s)}tn.clear()}}finally{ss=!1,Gt=t,Yn=null}}function Rd(t){var e=t.length;if(e!==0)for(var i=0;i<e;i++){var n=t[i];if((n.f&(mr|_i))===0)try{vn(n)&&(ra(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?du(n):n.fn=null))}catch(r){_r(r,n,null,n.ctx)}}}function yr(t){ss||(ss=!0,queueMicrotask(Pd));for(var e=Yn=t;e.parent!==null;){e=e.parent;var i=e.f;if((i&(Ei|wt))!==0){if((i&Re)===0)return;e.f^=Re}}Dn.push(e)}function Od(t){for(var e=[],i=t;i!==null;){var n=i.f,r=(n&(wt|Ei))!==0,s=r&&(n&Re)!==0;if(!s&&(n&_i)===0){if((n&Gl)!==0)e.push(i);else if(r)i.f^=Re;else try{vn(i)&&ra(i)}catch(l){_r(l,i,null,i.ctx)}var a=i.first;if(a!==null){i=a;continue}}var o=i.parent;for(i=i.next;i===null&&o!==null;)i=o.next,o=o.parent}return e}function re(t){var e=t.f,i=(e&Je)!==0;if(K!==null&&!nt){if(!(Te!=null&&Te.includes(t))){var n=K.deps;t.rv<Xn&&(t.rv=Xn,Ee===null&&n!==null&&n[Ne]===t?Ne++:Ee===null?Ee=[t]:(!Mt||!Ee.includes(t))&&Ee.push(t))}}else if(i&&t.deps===null&&t.effects===null){var r=t,s=r.parent;s!==null&&(s.f&Be)===0&&(r.f^=Be)}return i&&(r=t,vn(r)&&Ql(r)),gn&&tn.has(t)?tn.get(t):t.v}function sa(t){var e=nt;try{return nt=!0,t()}finally{nt=e}}const $d=-7169;function Ze(t,e){t.f=t.f&$d|e}function Dd(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(fi in t)as(t);else if(!Array.isArray(t))for(let e in t){const i=t[e];typeof i=="object"&&i&&fi in i&&as(i)}}}function as(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{as(t[n],e)}catch{}const i=Zs(t);if(i!==Object.prototype&&i!==Array.prototype&&i!==Map.prototype&&i!==Set.prototype&&i!==Date.prototype){const n=Ul(i);for(let r in n){const s=n[r].get;if(s)try{s.call(t)}catch{}}}}}const Ld=["touchstart","touchmove"];function Nd(t){return Ld.includes(t)}let Ya=!1;function Vd(){Ya||(Ya=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const i of t.target.elements)(e=i.__on_r)==null||e.call(i)})},{capture:!0}))}function yu(t){var e=K,i=X;ct(null),Rt(null);try{return t()}finally{ct(e),Rt(i)}}function Bd(t,e,i,n=i){t.addEventListener(e,()=>yu(i));const r=t.__on_r;r?t.__on_r=()=>{r(),n(!0)}:t.__on_r=()=>n(!0),Vd()}const qd=new Set,Xa=new Set;function jd(t,e,i,n={}){function r(s){if(n.capture||Bi.call(e,s),!s.cancelBubble)return yu(()=>i==null?void 0:i.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Td(()=>{e.addEventListener(t,r,n)}):e.addEventListener(t,r,n),r}function pi(t,e,i,n,r){var s={capture:n,passive:r},a=jd(t,e,i,s);(e===document.body||e===window||e===document)&&au(()=>{e.removeEventListener(t,a,s)})}function Bi(t){var y;var e=this,i=e.ownerDocument,n=t.type,r=((y=t.composedPath)==null?void 0:y.call(t))||[],s=r[0]||t.target,a=0,o=t.__root;if(o){var l=r.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=r.indexOf(e);if(u===-1)return;l<=u&&(a=l)}if(s=r[a]||t.target,s!==e){Wh(t,"currentTarget",{configurable:!0,get(){return s||i}});var c=K,d=X;ct(null),Rt(null);try{for(var h,f=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+n];if(p!=null&&(!s.disabled||t.target===s))if(zl(p)){var[b,...m]=p;b.apply(s,[t,...m])}else p.call(s,t)}catch(w){h?f.push(w):h=w}if(t.cancelBubble||g===e||g===null)break;s=g}if(h){for(let w of f)queueMicrotask(()=>{throw w});throw h}}finally{t.__root=e,delete t.currentTarget,ct(c),Rt(d)}}}function bu(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Zn(t,e){var i=X;i.nodes_start===null&&(i.nodes_start=t,i.nodes_end=e)}function Oe(t,e){var i=(e&cd)!==0,n=(e&hd)!==0,r,s=!t.startsWith("<!>");return()=>{r===void 0&&(r=bu(s?t:"<!>"+t),i||(r=Ft(r)));var a=n||tu?document.importNode(r,!0):r.cloneNode(!0);if(i){var o=Ft(a),l=a.lastChild;Zn(o,l)}else Zn(a,a);return a}}function Wd(t,e,i="svg"){var n=!t.startsWith("<!>"),r=`<${i}>${n?t:"<!>"+t}</${i}>`,s;return()=>{if(!s){var a=bu(r),o=Ft(a);for(s=document.createDocumentFragment();Ft(o);)s.appendChild(Ft(o))}var l=s.cloneNode(!0);{var u=Ft(l),c=l.lastChild;Zn(u,c)}return l}}function Hd(t=""){{var e=ru(t+"");return Zn(e,e),e}}function _e(t,e){t!==null&&t.before(e)}function yi(t,e){var i=e==null?"":typeof e=="object"?e+"":e;i!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=i,t.nodeValue=i+"")}function zd(t,e){return Ud(t,e)}const ri=new Map;function Ud(t,{target:e,anchor:i,props:n={},events:r,context:s,intro:a=!0}){md();var o=new Set,l=d=>{for(var h=0;h<d.length;h++){var f=d[h];if(!o.has(f)){o.add(f);var g=Nd(f);e.addEventListener(f,Bi,{passive:g});var p=ri.get(f);p===void 0?(document.addEventListener(f,Bi,{passive:g}),ri.set(f,1)):ri.set(f,p+1)}}};l(jh(qd)),Xa.add(l);var u=void 0,c=wd(()=>{var d=i??e.appendChild(ru());return ns(()=>{if(s){Ti({});var h=Q;h.c=s}r&&(n.$$events=r),u=t(d,n)||{},s&&Ai()}),()=>{var g;for(var h of o){e.removeEventListener(h,Bi);var f=ri.get(h);--f===0?(document.removeEventListener(h,Bi),ri.delete(h)):ri.set(h,f)}Xa.delete(l),d!==i&&((g=d.parentNode)==null||g.removeChild(d))}});return Gd.set(u,c),u}let Gd=new WeakMap;function Ln(t,e,[i,n]=[0,0]){var r=t,s=null,a=null,o=Ae,l=i>0?ea:0,u=!1;const c=(h,f=!0)=>{u=!0,d(f,h)},d=(h,f)=>{o!==(o=h)&&(o?(s?Ua(s):f&&(s=ns(()=>f(r))),a&&rs(a,()=>{a=null})):(a?Ua(a):f&&(a=ns(()=>f(r,[i+1,n]))),s&&rs(s,()=>{s=null})))};uu(()=>{u=!1,e(c),u||d(null,null)},l)}function Kd(t,e,i){var n=t==null?"":""+t;return n===""?null:n}function Yd(t,e,i,n,r,s){var a=t.__className;if(a!==i||a===void 0){var o=Kd(i);o==null?t.removeAttribute("class"):t.className=o,t.__className=i}return s}const Xd=Symbol("is custom element"),Jd=Symbol("is html");function Jt(t,e,i,n){var r=Zd(t);r[e]!==(r[e]=i)&&(e==="loading"&&(t[Jh]=i),i==null?t.removeAttribute(e):typeof i!="string"&&Qd(t).includes(e)?t[e]=i:t.setAttribute(e,i))}function Zd(t){return t.__attributes??(t.__attributes={[Xd]:t.nodeName.includes("-"),[Jd]:t.namespaceURI===dd})}var Ja=new Map;function Qd(t){var e=Ja.get(t.nodeName);if(e)return e;Ja.set(t.nodeName,e=[]);for(var i,n=t,r=Element.prototype;r!==n;){i=Ul(n);for(var s in i)i[s].set&&e.push(s);n=Zs(n)}return e}function Za(t,e,i=e){var n=pn();Bd(t,"input",r=>{var s=r?t.defaultValue:t.value;if(s=Cr(t)?Pr(s):s,i(s),n&&s!==(s=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=s??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),sa(e)==null&&t.value&&i(Cr(t)?Pr(t.value):t.value),lu(()=>{var r=e();Cr(t)&&r===Pr(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function Cr(t){var e=t.type;return e==="number"||e==="range"}function Pr(t){return t===""?null:+t}function ef(t){return function(...e){var i=e[0];return i.preventDefault(),t==null?void 0:t.apply(this,e)}}function mn(t=!1){const e=Q,i=e.l.u;if(!i)return;let n=()=>Dd(e.s);if(t){let r=0,s={};const a=ta(()=>{let o=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],o=!0);return o&&r++,r});n=()=>re(a)}i.b.length&&bd(()=>{Qa(e,n),es(i.b)}),is(()=>{const r=sa(()=>i.m.map(Uh));return()=>{for(const s of r)typeof s=="function"&&s()}}),i.a.length&&is(()=>{Qa(e,n),es(i.a)})}function Qa(t,e){if(t.l.s)for(const i of t.l.s)re(i);e()}let En=!1;function tf(t){var e=En;try{return En=!1,[t(),En]}finally{En=e}}function rt(t,e,i,n){var g;var r=!ki||(i&ud)!==0,s=!1,a;[a,s]=tf(()=>t[e]);var o=fi in t||Xh in t,l=(((g=di(t,e))==null?void 0:g.set)??(o&&e in t&&(p=>t[e]=p)))||void 0,u=n,c=!0,d=()=>(c&&(c=!1,u=n),u);a===void 0&&n!==void 0&&(l&&r&&nd(),a=d(),l&&l(a));var h;if(r)h=()=>{var p=t[e];return p===void 0?d():(c=!0,p)};else{var f=pd(()=>t[e]);f.f|=Kh,h=()=>{var p=re(f);return p!==void 0&&(u=void 0),p===void 0?u:p}}return h}function _n(t){Q===null&&fd(),ki&&Q.l!==null?nf(Q).m.push(t):is(()=>{const e=sa(t);if(typeof e=="function")return e})}function nf(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const rf="5";var Hl;typeof window<"u"&&((Hl=window.__svelte??(window.__svelte={})).v??(Hl.v=new Set)).add(rf);ld();const wu="/assets/noc_logo-BK7XqotM.png",ke=t=>!!(t&&t.getVelocity);function aa(t){return typeof t=="object"&&!Array.isArray(t)}function br(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const r=(i==null?void 0:i[t])??n.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function xu(t,e,i,n){return typeof t=="string"&&aa(e)?br(t,i,n):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function sf(t,e,i){return t*(e+1)}function eo(t,e,i,n){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?i:n.get(e)??t}const yn=(t,e,i)=>t+(e-t)*i,af=(t,e,i)=>{const n=e-t;return((i-t)%n+n)%n+t},Su=t=>Array.isArray(t)&&typeof t[0]!="number";function Eu(t,e){return Su(t)?t[af(0,t.length,e)]:t}function of(t,e){t.indexOf(e)===-1&&t.push(e)}function ku(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}function lf(t,e,i){for(let n=0;n<t.length;n++){const r=t[n];r.at>e&&r.at<i&&(ku(t,r),n--)}}function uf(t,e,i,n,r,s){lf(t,r,s);for(let a=0;a<e.length;a++)t.push({value:e[a],at:yn(r,s,n[a]),easing:Eu(i,a)})}function cf(t,e){for(let i=0;i<t.length;i++)t[i]=t[i]/(e+1)}function hf(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const wr=(t,e,i)=>{const n=e-t;return n===0?1:(i-t)/n};function Tu(t,e){const i=t[t.length-1];for(let n=1;n<=e;n++){const r=wr(0,e,n);t.push(yn(i,1,r))}}function oa(t){const e=[0];return Tu(e,t.length-1),e}function la(t){return typeof t=="function"&&"applyToOptions"in t}const Qn=2e4;function ua(t){let e=0;const i=50;let n=t.next(e);for(;!n.done&&e<Qn;)e+=i,n=t.next(e);return e>=Qn?1/0:e}const ot=t=>t*1e3,_t=t=>t/1e3;function Au(t,e=100,i){const n=i({...t,keyframes:[0,e]}),r=Math.min(ua(n),Qn);return{type:"keyframes",ease:s=>n.next(r*s).value/e,duration:_t(r)}}let ca=()=>{};const df="easeInOut";function ff(t,{defaultTransition:e={},...i}={},n,r){const s=e.duration||.3,a=new Map,o=new Map,l={},u=new Map;let c=0,d=0,h=0;for(let f=0;f<t.length;f++){const g=t[f];if(typeof g=="string"){u.set(g,d);continue}else if(!Array.isArray(g)){u.set(g.name,eo(d,g.at,c,u));continue}let[p,b,m={}]=g;m.at!==void 0&&(d=eo(d,m.at,c,u));let y=0;const w=(T,S,C,R=0,x=0)=>{const P=pf(T),{delay:B=0,times:z=oa(P),type:he="keyframes",repeat:pe,repeatType:$e,repeatDelay:De=0,...Qe}=S;let{ease:oe=e.ease||"easeOut",duration:J}=S;const xe=typeof B=="function"?B(R,x):B,Le=P.length,Ke=la(he)?he:r==null?void 0:r[he];if(Le<=2&&Ke){let I=100;if(Le===2&&mf(P)){const V=P[1]-P[0];I=Math.abs(V)}const O={...Qe};J!==void 0&&(O.duration=ot(J));const D=Au(O,I,Ke);oe=D.ease,J=D.duration}J??(J=s);const ne=d+xe;z.length===1&&z[0]===0&&(z[1]=1);const _=z.length-P.length;if(_>0&&Tu(z,_),P.length===1&&P.unshift(null),pe){J=sf(J,pe);const I=[...P],O=[...z];oe=Array.isArray(oe)?[...oe]:[oe];const D=[...oe];for(let V=0;V<pe;V++){P.push(...I);for(let W=0;W<I.length;W++)z.push(O[W]+(V+1)),oe.push(W===0?"linear":Eu(D,W-1))}cf(z,pe)}const E=ne+J;uf(C,P,oe,z,ne,E),y=Math.max(xe+J,y),h=Math.max(E,h)};if(ke(p)){const T=to(p,o);w(b,m,io("default",T))}else{const T=xu(p,b,n,l),S=T.length;for(let C=0;C<S;C++){b=b,m=m;const R=T[C],x=to(R,o);for(const P in b)w(b[P],gf(m,P),io(P,x),C,S)}}c=d,d+=y}return o.forEach((f,g)=>{for(const p in f){const b=f[p];b.sort(hf);const m=[],y=[],w=[];for(let S=0;S<b.length;S++){const{at:C,value:R,easing:x}=b[S];m.push(R),y.push(wr(0,h,C)),w.push(x||"easeOut")}y[0]!==0&&(y.unshift(0),m.unshift(m[0]),w.unshift(df)),y[y.length-1]!==1&&(y.push(1),m.push(null)),a.has(g)||a.set(g,{keyframes:{},transition:{}});const T=a.get(g);T.keyframes[p]=m,T.transition[p]={...e,duration:h,ease:w,times:y,...i}}}),a}function to(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function io(t,e){return e[t]||(e[t]=[]),e[t]}function pf(t){return Array.isArray(t)?t:[t]}function gf(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const vf=t=>typeof t=="number",mf=t=>t.every(vf),nn=new WeakMap,_f=t=>Array.isArray(t);function no(t){const e=[{},{}];return t==null||t.values.forEach((i,n)=>{e[0][n]=i.get(),e[1][n]=i.getVelocity()}),e}function Fu(t,e,i,n){if(typeof e=="function"){const[r,s]=no(n);e=e(i!==void 0?i:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=no(n);e=e(i!==void 0?i:t.custom,r,s)}return e}function yf(t,e,i){const n=t.getProps();return Fu(n,e,n.custom,t)}const kn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bf(t,e){let i=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){a.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,d=!1,h=!1)=>{const g=h&&r?i:n;return d&&a.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[i,n]=[n,i],i.forEach(l),i.clear(),r=!1,s&&(s=!1,u.process(c))}};return u}const bt={},wf=40;function xf(t,e){let i=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>i=!0,a=kn.reduce((w,T)=>(w[T]=bf(s),w),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:f,postRender:g}=a,p=()=>{const w=bt.useManualTiming?r.timestamp:performance.now();i=!1,bt.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(w-r.timestamp,wf),1)),r.timestamp=w,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),c.process(r),d.process(r),h.process(r),f.process(r),g.process(r),r.isProcessing=!1,i&&e&&(n=!1,t(p))},b=()=>{i=!0,n=!0,r.isProcessing||t(p)};return{schedule:kn.reduce((w,T)=>{const S=a[T];return w[T]=(C,R=!1,x=!1)=>(i||b(),S.schedule(C,R,x)),w},{}),cancel:w=>{for(let T=0;T<kn.length;T++)a[kn[T]].cancel(w)},state:r,steps:a}}const Mi=t=>t,{schedule:Ie,cancel:rn,state:sn}=xf(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let Nn;function Sf(){Nn=void 0}const We={now:()=>(Nn===void 0&&We.set(sn.isProcessing||bt.useManualTiming?sn.timestamp:performance.now()),Nn),set:t=>{Nn=t,queueMicrotask(Sf)}};class Mu{constructor(){this.subscriptions=[]}add(e){return of(this.subscriptions,e),()=>ku(this.subscriptions,e)}notify(e,i,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,i,n);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,i,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ha(t,e){return e?t*(1e3/e):0}const ro=30,Ef=t=>!isNaN(parseFloat(t));class kf{constructor(e,i={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{var a,o;const s=We.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=We.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ef(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Mu);const n=this.events[e].add(i);return e==="change"?()=>{n(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e,i=!0){!i||!this.passiveEffect?this.updateAndNotify(e,i):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,i,n){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=We.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ro)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,ro);return ha(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function an(t,e){return new kf(t,e)}function Tf(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,an(i))}function Af(t){return _f(t)?t[t.length-1]||0:t}function Ff(t,e){const i=yf(t,e);let{transitionEnd:n={},transition:r={},...s}=i||{};s={...s,...n};for(const a in s){const o=Af(s[a]);Tf(t,a,o)}}function Mf(t){return!!(ke(t)&&t.add)}function If(t,e){const i=t.getValue("willChange");if(Mf(i))return i.add(e);if(!i&&bt.WillChange){const n=new bt.WillChange("auto");t.addValue("willChange",n),n.add(e)}}const da=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Cf="framerAppearId",Pf="data-"+da(Cf);function Rf(t){return t.props[Pf]}const Of=t=>t!==null;function $f(t,{repeat:e,repeatType:i="loop"},n){const r=t.filter(Of),s=e&&i!=="loop"&&e%2===1?0:r.length-1;return r[s]}const Ii=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ci=new Set(Ii),Df={type:"spring",stiffness:500,damping:25,restSpeed:10},Lf=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Nf={type:"keyframes",duration:.8},Vf={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bf=(t,{keyframes:e})=>e.length>2?Nf:Ci.has(t)?t.startsWith("scale")?Lf(e[1]):Df:Vf;function qf({when:t,delay:e,delayChildren:i,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Iu(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Cu=t=>e=>typeof e=="string"&&e.startsWith(t),Pu=Cu("--"),jf=Cu("var(--"),fa=t=>jf(t)?Wf.test(t.split("/*")[0].trim()):!1,Wf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ot=(t,e,i)=>i>e?e:i<t?t:i,Pi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},on={...Pi,transform:t=>Ot(0,1,t)},Tn={...Pi,default:1},Yi=t=>Math.round(t*1e5)/1e5,pa=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hf(t){return t==null}const zf=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ga=(t,e)=>i=>!!(typeof i=="string"&&zf.test(i)&&i.startsWith(t)||e&&!Hf(i)&&Object.prototype.hasOwnProperty.call(i,e)),Ru=(t,e,i)=>n=>{if(typeof n!="string")return n;const[r,s,a,o]=n.match(pa);return{[t]:parseFloat(r),[e]:parseFloat(s),[i]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Uf=t=>Ot(0,255,t),Rr={...Pi,transform:t=>Math.round(Uf(t))},Wt={test:ga("rgb","red"),parse:Ru("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:n=1})=>"rgba("+Rr.transform(t)+", "+Rr.transform(e)+", "+Rr.transform(i)+", "+Yi(on.transform(n))+")"};function Gf(t){let e="",i="",n="",r="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),n=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),n=t.substring(3,4),r=t.substring(4,5),e+=e,i+=i,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const os={test:ga("#"),parse:Gf,transform:Wt.transform},bn=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kt=bn("deg"),gi=bn("%"),$=bn("px"),Kf=bn("vh"),Yf=bn("vw"),so={...gi,parse:t=>gi.parse(t)/100,transform:t=>gi.transform(t*100)},li={test:ga("hsl","hue"),parse:Ru("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:n=1})=>"hsla("+Math.round(t)+", "+gi.transform(Yi(e))+", "+gi.transform(Yi(i))+", "+Yi(on.transform(n))+")"},me={test:t=>Wt.test(t)||os.test(t)||li.test(t),parse:t=>Wt.test(t)?Wt.parse(t):li.test(t)?li.parse(t):os.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wt.transform(t):li.transform(t)},Xf=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jf(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(pa))==null?void 0:e.length)||0)+(((i=t.match(Xf))==null?void 0:i.length)||0)>0}const Ou="number",$u="color",Zf="var",Qf="var(",ao="${}",ep=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ln(t){const e=t.toString(),i=[],n={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(ep,l=>(me.test(l)?(n.color.push(s),r.push($u),i.push(me.parse(l))):l.startsWith(Qf)?(n.var.push(s),r.push(Zf),i.push(l)):(n.number.push(s),r.push(Ou),i.push(parseFloat(l))),++s,ao)).split(ao);return{values:i,split:o,indexes:n,types:r}}function Du(t){return ln(t).values}function Lu(t){const{split:e,types:i}=ln(t),n=e.length;return r=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],r[a]!==void 0){const o=i[a];o===Ou?s+=Yi(r[a]):o===$u?s+=me.transform(r[a]):s+=r[a]}return s}}const tp=t=>typeof t=="number"?0:t;function ip(t){const e=Du(t);return Lu(t)(e.map(tp))}const Ri={test:Jf,parse:Du,createTransformer:Lu,getAnimatableNone:ip};function Or(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function np({hue:t,saturation:e,lightness:i,alpha:n}){t/=360,e/=100,i/=100;let r=0,s=0,a=0;if(!e)r=s=a=i;else{const o=i<.5?i*(1+e):i+e-i*e,l=2*i-o;r=Or(l,o,t+1/3),s=Or(l,o,t),a=Or(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function er(t,e){return i=>i>0?e:t}const $r=(t,e,i)=>{const n=t*t,r=i*(e*e-n)+n;return r<0?0:Math.sqrt(r)},rp=[os,Wt,li],sp=t=>rp.find(e=>e.test(t));function oo(t){const e=sp(t);if(!e)return!1;let i=e.parse(t);return e===li&&(i=np(i)),i}const lo=(t,e)=>{const i=oo(t),n=oo(e);if(!i||!n)return er(t,e);const r={...i};return s=>(r.red=$r(i.red,n.red,s),r.green=$r(i.green,n.green,s),r.blue=$r(i.blue,n.blue,s),r.alpha=yn(i.alpha,n.alpha,s),Wt.transform(r))},ls=new Set(["none","hidden"]);function ap(t,e){return ls.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}const op=(t,e)=>i=>e(t(i)),va=(...t)=>t.reduce(op);function lp(t,e){return i=>yn(t,e,i)}function ma(t){return typeof t=="number"?lp:typeof t=="string"?fa(t)?er:me.test(t)?lo:hp:Array.isArray(t)?Nu:typeof t=="object"?me.test(t)?lo:up:er}function Nu(t,e){const i=[...t],n=i.length,r=t.map((s,a)=>ma(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)i[a]=r[a](s);return i}}function up(t,e){const i={...t,...e},n={};for(const r in i)t[r]!==void 0&&e[r]!==void 0&&(n[r]=ma(t[r])(t[r],e[r]));return r=>{for(const s in n)i[s]=n[s](r);return i}}function cp(t,e){const i=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],a=t.indexes[s][n[s]],o=t.values[a]??0;i[r]=o,n[s]++}return i}const hp=(t,e)=>{const i=Ri.createTransformer(e),n=ln(t),r=ln(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?ls.has(t)&&!r.values.length||ls.has(e)&&!n.values.length?ap(t,e):va(Nu(cp(n,r),r.values),i):er(t,e)};function Vu(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?yn(t,e,i):ma(t)(t,e)}const dp=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>Ie.update(e,i),stop:()=>rn(e),now:()=>sn.isProcessing?sn.timestamp:We.now()}},Bu=(t,e,i=10)=>{let n="";const r=Math.max(Math.round(e/i),2);for(let s=0;s<r;s++)n+=t(s/(r-1))+", ";return`linear(${n.substring(0,n.length-2)})`},fp=5;function qu(t,e,i){const n=Math.max(e-fp,0);return ha(i-t(n),e-n)}const ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uo=.001;function pp({duration:t=ee.duration,bounce:e=ee.bounce,velocity:i=ee.velocity,mass:n=ee.mass}){let r,s,a=1-e;a=Ot(ee.minDamping,ee.maxDamping,a),t=Ot(ee.minDuration,ee.maxDuration,_t(t)),a<1?(r=u=>{const c=u*a,d=c*t,h=c-i,f=us(u,a),g=Math.exp(-d);return uo-h/f*g},s=u=>{const d=u*a*t,h=d*i+i,f=Math.pow(a,2)*Math.pow(u,2)*t,g=Math.exp(-d),p=us(Math.pow(u,2),a);return(-r(u)+uo>0?-1:1)*((h-f)*g)/p}):(r=u=>{const c=Math.exp(-u*t),d=(u-i)*t+1;return-.001+c*d},s=u=>{const c=Math.exp(-u*t),d=(i-u)*(t*t);return c*d});const o=5/t,l=vp(r,s,o);if(t=ot(t),isNaN(l))return{stiffness:ee.stiffness,damping:ee.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const gp=12;function vp(t,e,i){let n=i;for(let r=1;r<gp;r++)n=n-t(n)/e(n);return n}function us(t,e){return t*Math.sqrt(1-e*e)}const mp=["duration","bounce"],_p=["stiffness","damping","mass"];function co(t,e){return e.some(i=>t[i]!==void 0)}function yp(t){let e={velocity:ee.velocity,stiffness:ee.stiffness,damping:ee.damping,mass:ee.mass,isResolvedFromDuration:!1,...t};if(!co(t,_p)&&co(t,mp))if(t.visualDuration){const i=t.visualDuration,n=2*Math.PI/(i*1.2),r=n*n,s=2*Ot(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:ee.mass,stiffness:r,damping:s}}else{const i=pp(t);e={...e,...i,mass:ee.mass},e.isResolvedFromDuration=!0}return e}function un(t=ee.visualDuration,e=ee.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:r}=i;const s=i.keyframes[0],a=i.keyframes[i.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=yp({...i,velocity:-_t(i.velocity||0)}),g=h||0,p=u/(2*Math.sqrt(l*c)),b=a-s,m=_t(Math.sqrt(l/c)),y=Math.abs(b)<5;n||(n=y?ee.restSpeed.granular:ee.restSpeed.default),r||(r=y?ee.restDelta.granular:ee.restDelta.default);let w;if(p<1){const S=us(m,p);w=C=>{const R=Math.exp(-p*m*C);return a-R*((g+p*m*b)/S*Math.sin(S*C)+b*Math.cos(S*C))}}else if(p===1)w=S=>a-Math.exp(-m*S)*(b+(g+m*b)*S);else{const S=m*Math.sqrt(p*p-1);w=C=>{const R=Math.exp(-p*m*C),x=Math.min(S*C,300);return a-R*((g+p*m*b)*Math.sinh(x)+S*b*Math.cosh(x))/S}}const T={calculatedDuration:f&&d||null,next:S=>{const C=w(S);if(f)o.done=S>=d;else{let R=S===0?g:0;p<1&&(R=S===0?ot(g):qu(w,S,C));const x=Math.abs(R)<=n,P=Math.abs(a-C)<=r;o.done=x&&P}return o.value=o.done?a:C,o},toString:()=>{const S=Math.min(ua(T),Qn),C=Bu(R=>T.next(S*R).value,S,30);return S+"ms "+C},toTransition:()=>{}};return T}un.applyToOptions=t=>{const e=Au(t,100,un);return t.ease=e.ease,t.duration=ot(e.duration),t.type="keyframes",t};function cs({keyframes:t,velocity:e=0,power:i=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=x=>o!==void 0&&x<o||l!==void 0&&x>l,g=x=>o===void 0?l:l===void 0||Math.abs(o-x)<Math.abs(l-x)?o:l;let p=i*e;const b=d+p,m=a===void 0?b:a(b);m!==b&&(p=m-d);const y=x=>-p*Math.exp(-x/n),w=x=>m+y(x),T=x=>{const P=y(x),B=w(x);h.done=Math.abs(P)<=u,h.value=h.done?m:B};let S,C;const R=x=>{f(h.value)&&(S=x,C=un({keyframes:[h.value,g(h.value)],velocity:qu(w,x,h.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:x=>{let P=!1;return!C&&S===void 0&&(P=!0,T(x),R(x)),S!==void 0&&x>=S?C.next(x-S):(!P&&T(x),h)}}}function bp(t,e,i){const n=[],r=i||bt.mix||Vu,s=t.length-1;for(let a=0;a<s;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Mi:e;o=va(l,o)}n.push(o)}return n}function ju(t,e,{clamp:i=!0,ease:n,mixer:r}={}){const s=t.length;if(ca(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=bp(e,n,r),l=o.length,u=c=>{if(a&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=wr(t[d],t[d+1],c);return o[d](h)};return i?c=>u(Ot(t[0],t[s-1],c)):u}function wp(t,e){return t.map(i=>i*e)}const Wu=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,xp=1e-7,Sp=12;function Ep(t,e,i,n,r){let s,a,o=0;do a=e+(i-e)/2,s=Wu(a,n,r)-t,s>0?i=a:e=a;while(Math.abs(s)>xp&&++o<Sp);return a}function wn(t,e,i,n){if(t===e&&i===n)return Mi;const r=s=>Ep(s,0,1,t,i);return s=>s===0||s===1?s:Wu(r(s),e,n)}const kp=wn(.42,0,1,1),Tp=wn(0,0,.58,1),Hu=wn(.42,0,.58,1),zu=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Uu=t=>e=>1-t(1-e),Gu=wn(.33,1.53,.69,.99),_a=Uu(Gu),Ku=zu(_a),Yu=t=>(t*=2)<1?.5*_a(t):.5*(2-Math.pow(2,-10*(t-1))),ya=t=>1-Math.sin(Math.acos(t)),Ap=Uu(ya),Xu=zu(ya),Ju=t=>Array.isArray(t)&&typeof t[0]=="number",Fp={linear:Mi,easeIn:kp,easeInOut:Hu,easeOut:Tp,circIn:ya,circInOut:Xu,circOut:Ap,backIn:_a,backInOut:Ku,backOut:Gu,anticipate:Yu},Mp=t=>typeof t=="string",hs=t=>{if(Ju(t)){ca(t.length===4);const[e,i,n,r]=t;return wn(e,i,n,r)}else if(Mp(t))return Fp[t];return t};function Ip(t,e){return t.map(()=>e||Hu).splice(0,t.length-1)}function Xi({duration:t=300,keyframes:e,times:i,ease:n="easeInOut"}){const r=Su(n)?n.map(hs):hs(n),s={done:!1,value:e[0]},a=wp(i&&i.length===e.length?i:oa(e),t),o=ju(a,e,{ease:Array.isArray(r)?r:Ip(e,r)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Cp=t=>t!==null;function ba(t,{repeat:e,repeatType:i="loop"},n,r=1){const s=t.filter(Cp),o=r<0||e&&i!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const Pp={decay:cs,inertia:cs,tween:Xi,keyframes:Xi,spring:un};function Zu(t){typeof t.type=="string"&&(t.type=Pp[t.type])}class wa{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const Rp=t=>t/100;class xa extends wa{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(i=!0)=>{if(i){const{motionValue:r}=this.options;r&&r.updatedAt!==We.now()&&this.tick(We.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Zu(e);const{type:i=Xi,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=i||Xi;l!==Xi&&typeof o[0]!="number"&&(this.mixKeyframes=va(Rp,Vu(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=ua(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=u}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:h,repeatDelay:f,type:g,onUpdate:p,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?m<0:m>r;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,T=n;if(d){const x=Math.min(this.currentTime,r)/o;let P=Math.floor(x),B=x%1;!B&&x>=1&&(B=1),B===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(h==="reverse"?(B=1-B,f&&(B-=f/o)):h==="mirror"&&(T=a)),w=Ot(0,1,B)*o}const S=y?{done:!1,value:c[0]}:T.next(w);s&&(S.value=s(S.value));let{done:C}=S;!y&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return R&&g!==cs&&(S.value=ba(c,this.options,b,this.speed)),p&&p(S.value),R&&this.finish(),S}then(e,i){return this.finished.then(e,i)}get duration(){return _t(this.calculatedDuration)}get time(){return _t(this.currentTime)}set time(e){var i;e=ot(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(We.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=_t(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=dp,onPlay:i,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),i&&i();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(We.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function Op(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ht=t=>t*180/Math.PI,ds=t=>{const e=Ht(Math.atan2(t[1],t[0]));return fs(e)},$p={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ds,rotateZ:ds,skewX:t=>Ht(Math.atan(t[1])),skewY:t=>Ht(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},fs=t=>(t=t%360,t<0&&(t+=360),t),ho=ds,fo=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),po=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Dp={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fo,scaleY:po,scale:t=>(fo(t)+po(t))/2,rotateX:t=>fs(Ht(Math.atan2(t[6],t[5]))),rotateY:t=>fs(Ht(Math.atan2(-t[2],t[0]))),rotateZ:ho,rotate:ho,skewX:t=>Ht(Math.atan(t[4])),skewY:t=>Ht(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function go(t){return t.includes("scale")?1:0}function ps(t,e){if(!t||t==="none")return go(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(i)n=Dp,r=i;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=$p,r=o}if(!r)return go(e);const s=n[e],a=r[1].split(",").map(Np);return typeof s=="function"?s(a):a[s]}const Lp=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return ps(i,e)};function Np(t){return parseFloat(t.trim())}const vo=t=>t===Pi||t===$,Vp=new Set(["x","y","z"]),Bp=Ii.filter(t=>!Vp.has(t));function qp(t){const e=[];return Bp.forEach(i=>{const n=t.getValue(i);n!==void 0&&(e.push([i,n.get()]),n.set(i.startsWith("scale")?1:0))}),e}const Kt={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ps(e,"x"),y:(t,{transform:e})=>ps(e,"y")};Kt.translateX=Kt.x;Kt.translateY=Kt.y;const Yt=new Set;let gs=!1,vs=!1,ms=!1;function Qu(){if(vs){const t=Array.from(Yt).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),i=new Map;e.forEach(n=>{const r=qp(n);r.length&&(i.set(n,r),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=i.get(n);r&&r.forEach(([s,a])=>{var o;(o=n.getValue(s))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}vs=!1,gs=!1,Yt.forEach(t=>t.complete(ms)),Yt.clear()}function ec(){Yt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vs=!0)})}function jp(){ms=!0,ec(),Qu(),ms=!1}class Sa{constructor(e,i,n,r,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=n,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Yt.add(this),gs||(gs=!0,Ie.read(ec),Ie.resolveKeyframes(Qu))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:n,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&i){const o=n.readValue(i,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),r&&s===void 0&&r.set(e[0])}Op(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yt.delete(this)}cancel(){this.state==="scheduled"&&(Yt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Wp=t=>t.startsWith("--");function Hp(t,e,i){Wp(e)?t.style.setProperty(e,i):t.style[e]=i}function Ea(t){let e;return()=>(e===void 0&&(e=t()),e)}const tc=Ea(()=>window.ScrollTimeline!==void 0),zp={};function Up(t,e){const i=Ea(t);return()=>zp[e]??i()}const ic=Up(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qi=([t,e,i,n])=>`cubic-bezier(${t}, ${e}, ${i}, ${n})`,mo={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qi([0,.65,.55,1]),circOut:qi([.55,0,1,.45]),backIn:qi([.31,.01,.66,-.59]),backOut:qi([.33,1.53,.69,.99])};function nc(t,e){if(t)return typeof t=="function"?ic()?Bu(t,e):"ease-out":Ju(t)?qi(t):Array.isArray(t)?t.map(i=>nc(i,e)||mo.easeOut):mo[t]}function Gp(t,e,i,{delay:n=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:i};l&&(c.offset=l);const d=nc(o,r);Array.isArray(d)&&(c.easing=d);const h={delay:n,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(c,h)}function Kp({type:t,...e}){return la(t)&&ic()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Yp extends wa{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:n,keyframes:r,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,ca(typeof e.type!="string");const u=Kp(e);this.animation=Gp(i,n,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=ba(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):Hp(i,n,c),this.animation.cancel()}l==null||l(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,n;const e=((n=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:n.call(i).duration)||0;return _t(Number(e))}get time(){return _t(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ot(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tc()?(this.animation.timeline=e,Mi):i(this)}}const rc={anticipate:Yu,backInOut:Ku,circInOut:Xu};function Xp(t){return t in rc}function Jp(t){typeof t.ease=="string"&&Xp(t.ease)&&(t.ease=rc[t.ease])}const _o=10;class Zp extends Yp{constructor(e){Jp(e),Zu(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:n,onComplete:r,element:s,...a}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const o=new xa({...a,autoplay:!1}),l=ot(this.finishedTime??this.time);i.setWithVelocity(o.sample(l-_o).value,o.sample(l).value,_o),o.stop()}}const yo=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ri.test(t)||t==="0")&&!t.startsWith("url("));function Qp(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function eg(t,e,i,n){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=yo(r,e),o=yo(s,e);return!a||!o?!1:Qp(t)||(i==="spring"||la(i))&&n}const tg=new Set(["opacity","clipPath","filter","transform"]),ig=Ea(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ng(t){const{motionValue:e,name:i,repeatDelay:n,repeatType:r,damping:s,type:a}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=e.owner.getProps();return ig()&&i&&tg.has(i)&&(i!=="transform"||!l)&&!o&&!n&&r!=="mirror"&&s!==0&&a!=="inertia"}const rg=40;class sg extends wa{constructor({autoplay:e=!0,delay:i=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...d}){var g;super(),this.stop=()=>{var p,b;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=We.now();const h={autoplay:e,delay:i,type:n,repeat:r,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:c,...d},f=(c==null?void 0:c.KeyframeResolver)||Sa;this.keyframeResolver=new f(o,(p,b,m)=>this.onKeyframesResolved(p,b,h,!m),l,u,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,i,n,r){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=We.now(),eg(e,s,a,o)||((bt.instantAnimations||!l)&&(c==null||c(ba(e,n,i))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const h={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>rg?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...n,keyframes:e},f=!u&&ng(h)?new Zp({...h,element:h.motionValue.owner.current}):new xa(h);f.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jp()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const sc=(t,e,i,n={},r,s)=>a=>{const o=Iu(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-ot(l);const c={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:r};qf(o)||Object.assign(c,Bf(t,c)),c.duration&&(c.duration=ot(c.duration)),c.repeatDelay&&(c.repeatDelay=ot(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),(bt.instantAnimations||bt.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const h=$f(c.keyframes,o);if(h!==void 0){Ie.update(()=>{c.onUpdate(h),c.onComplete()});return}}return o.isSync?new xa(c):new sg(c)},ac=new Set(["width","height","top","left","right","bottom",...Ii]);function ag({protectedKeys:t,needsAnimating:e},i){const n=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,n}function og(t,e,{delay:i=0,transitionOverride:n,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const c in o){const d=t.getValue(c,t.latestValues[c]??null),h=o[c];if(h===void 0||u&&ag(u,c))continue;const f={delay:i,...Iu(s||{},c)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===g&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const m=Rf(t);if(m){const y=window.MotionHandoffAnimation(m,c,Ie);y!==null&&(f.startTime=y,p=!0)}}If(t,c),d.start(sc(c,d,h,t.shouldReduceMotion&&ac.has(c)?{type:!1}:f,t,p));const b=d.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{Ie.update(()=>{a&&Ff(t,a)})}),l}function lg(t){return t instanceof SVGElement&&t.tagName!=="svg"}function ug({top:t,left:e,right:i,bottom:n}){return{x:{min:e,max:i},y:{min:t,max:n}}}function cg(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:n.y,right:n.x}}function hg(t,e){return ug(cg(t.getBoundingClientRect(),e))}const bo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_s={};for(const t in bo)_s[t]={isEnabled:e=>bo[t].some(i=>!!e[i])};const wo=()=>({min:0,max:0}),ka=()=>({x:wo(),y:wo()}),dg=typeof window<"u",ys={current:null},oc={current:!1};function fg(){if(oc.current=!0,!!dg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ys.current=t.matches;t.addListener(e),e()}else ys.current=!1}function pg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gg(t){return typeof t=="string"||Array.isArray(t)}const vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mg=["initial",...vg];function lc(t){return pg(t.animate)||mg.some(e=>gg(t[e]))}function _g(t){return!!(lc(t)||t.variants)}function yg(t,e,i){for(const n in e){const r=e[n],s=i[n];if(ke(r))t.addValue(n,r);else if(ke(s))t.addValue(n,an(r,{owner:t}));else if(s!==r)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(n);t.addValue(n,an(a!==void 0?a:r,{owner:t}))}}for(const n in i)e[n]===void 0&&t.removeValue(n);return e}const uc=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cc=t=>/^0[^.\s]+$/u.test(t),bg={test:t=>t==="auto",parse:t=>t},hc=t=>e=>e.test(t),dc=[Pi,$,gi,kt,Yf,Kf,bg],xo=t=>dc.find(hc(t)),wg=[...dc,me,Ri],xg=t=>wg.find(hc(t)),Sg=new Set(["brightness","contrast","saturate","opacity"]);function Eg(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=i.match(pa)||[];if(!n)return t;const r=i.replace(n,"");let s=Sg.has(e)?1:0;return n!==i&&(s*=100),e+"("+s+r+")"}const kg=/\b([a-z-]*)\(.*?\)/gu,bs={...Ri,getAnimatableNone:t=>{const e=t.match(kg);return e?e.map(Eg).join(" "):t}},So={...Pi,transform:Math.round},Tg={rotate:kt,rotateX:kt,rotateY:kt,rotateZ:kt,scale:Tn,scaleX:Tn,scaleY:Tn,scaleZ:Tn,skew:kt,skewX:kt,skewY:kt,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:on,originX:so,originY:so,originZ:$},Ta={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...Tg,zIndex:So,fillOpacity:on,strokeOpacity:on,numOctaves:So},Ag={...Ta,color:me,backgroundColor:me,outlineColor:me,fill:me,stroke:me,borderColor:me,borderTopColor:me,borderRightColor:me,borderBottomColor:me,borderLeftColor:me,filter:bs,WebkitFilter:bs},fc=t=>Ag[t];function pc(t,e){let i=fc(t);return i!==bs&&(i=Ri),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const Eo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gc{scrapeMotionValuesFromProps(e,i,n){return{}}constructor({parent:e,props:i,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sa,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=We.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ie.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=i.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=i,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=lc(i),this.isVariantNode=_g(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(i,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&ke(f)&&f.set(l[h],!1)}}mount(e){this.current=e,nn.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,n)=>this.bindToMotionValue(n,i)),oc.current||fg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ys.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),rn(this.notifyUpdate),rn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ci.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=i.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _s){const i=_s[e];if(!i)continue;const{isEnabled:n,Feature:r}=i;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ka()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let n=0;n<Eo.length;n++){const r=Eo[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=yg(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const n=this.values.get(e);i!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&i!==void 0&&(n=an(i===null?void 0:i,{owner:this}),this.addValue(e,n)),n}readValue(e,i){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(uc(n)||cc(n))?n=parseFloat(n):!xg(n)&&Ri.test(i)&&(n=pc(e,i)),this.setBaseTarget(e,ke(n)?n.get():n)),ke(n)?n.get():n}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var s;const{initial:i}=this.props;let n;if(typeof i=="string"||typeof i=="object"){const a=Fu(this.props,i,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[e])}if(i&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ke(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Mu),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}}const Fg=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Mg(t){const e=Fg.exec(t);if(!e)return[,];const[,i,n,r]=e;return[`--${i??n}`,r]}function vc(t,e,i=1){const[n,r]=Mg(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return uc(a)?parseFloat(a):a}return fa(r)?vc(r,e,i+1):r}function Ig(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cc(t):!0}const Cg=new Set(["auto","none","0"]);function Pg(t,e,i){let n=0,r;for(;n<t.length&&!r;){const s=t[n];typeof s=="string"&&!Cg.has(s)&&ln(s).values.length&&(r=t[n]),n++}if(r&&i)for(const s of e)t[s]=pc(i,r)}class Rg extends Sa{constructor(e,i,n,r,s){super(e,i,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:n}=this;if(!i||!i.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),fa(u))){const c=vc(u,i.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!ac.has(n)||e.length!==2)return;const[r,s]=e,a=xo(r),o=xo(s);if(a!==o)if(vo(a)&&vo(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Kt[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||Ig(e[r]))&&n.push(r);n.length&&Pg(e,n,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var o;const{element:e,name:i,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Kt[i](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}class mc extends gc{constructor(){super(...arguments),this.KeyframeResolver=Rg}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:n}){delete i[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ke(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}const _c=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Og={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$g=Ii.length;function Dg(t,e,i){let n="",r=!0;for(let s=0;s<$g;s++){const a=Ii[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||i){const u=_c(o,Ta[a]);if(!l){r=!1;const c=Og[a]||a;n+=`${c}(${u}) `}i&&(e[a]=u)}}return n=n.trim(),i?n=i(e,r?"":n):r&&(n="none"),n}function yc(t,e,i){const{style:n,vars:r,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(Ci.has(l)){a=!0;continue}else if(Pu(l)){r[l]=u;continue}else{const c=_c(u,Ta[l]);l.startsWith("origin")?(o=!0,s[l]=c):n[l]=c}}if(e.transform||(a||i?n.transform=Dg(e,t.transform,i):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;n.transformOrigin=`${l} ${u} ${c}`}}function bc(t,{style:e,vars:i},n,r){Object.assign(t.style,e,r&&r.getProjectionStyles(n));for(const s in i)t.style.setProperty(s,i[s])}const Lg={};function Ng(t,{layout:e,layoutId:i}){return Ci.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!Lg[t]||t==="opacity")}function wc(t,e,i){var s;const{style:n}=t,r={};for(const a in n)(ke(n[a])||e.style&&ke(e.style[a])||Ng(a,t)||((s=i==null?void 0:i.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(r[a]=n[a]);return r}function Vg(t){return window.getComputedStyle(t)}class Bg extends mc{constructor(){super(...arguments),this.type="html",this.renderInstance=bc}readValueFromInstance(e,i){if(Ci.has(i))return Lp(e,i);{const n=Vg(e),r=(Pu(i)?n.getPropertyValue(i):n[i])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:i}){return hg(e,i)}build(e,i,n){yc(e,i,n.transformTemplate)}scrapeMotionValuesFromProps(e,i,n){return wc(e,i,n)}}function qg(t,e){return t in e}class jg extends gc{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,i){if(qg(i,e)){const n=e[i];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(e,i){delete i.output[e]}measureInstanceViewportBox(){return ka()}build(e,i){Object.assign(e.output,i)}renderInstance(e,{output:i}){Object.assign(e,i)}sortInstanceNodePosition(){return 0}}const Wg={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hg={offset:"strokeDashoffset",array:"strokeDasharray"};function zg(t,e,i=1,n=0,r=!0){t.pathLength=1;const s=r?Wg:Hg;t[s.offset]=$.transform(-n);const a=$.transform(e),o=$.transform(i);t[s.array]=`${a} ${o}`}function Ug(t,{attrX:e,attrY:i,attrScale:n,pathLength:r,pathSpacing:s=1,pathOffset:a=0,...o},l,u,c){if(yc(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),i!==void 0&&(d.y=i),n!==void 0&&(d.scale=n),r!==void 0&&zg(d,r,s,a,!1)}const xc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Gg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Kg(t,e,i,n){bc(t,e,void 0,n);for(const r in e.attrs)t.setAttribute(xc.has(r)?r:da(r),e.attrs[r])}function Yg(t,e,i){const n=wc(t,e,i);for(const r in t)if(ke(t[r])||ke(e[r])){const s=Ii.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}class Xg extends mc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ka}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(Ci.has(i)){const n=fc(i);return n&&n.default||0}return i=xc.has(i)?i:da(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,n){return Yg(e,i,n)}build(e,i,n){Ug(e,i,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,i,n,r){Kg(e,i,n,r)}mount(e){this.isSVGTag=Gg(e.tagName),super.mount(e)}}function Jg(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},i=lg(t)?new Xg(e):new Bg(e);i.mount(t),nn.set(t,i)}function Zg(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},i=new jg(e);i.mount(t),nn.set(t,i)}function Qg(t,e,i){const n=ke(t)?t:an(t);return n.start(sc("",n,e,i)),n.animation}function ev(t,e){return ke(t)||typeof t=="number"||typeof t=="string"&&!aa(e)}function Sc(t,e,i,n){const r=[];if(ev(t,e))r.push(Qg(t,aa(e)&&e.default||e,i&&(i.default||i)));else{const s=xu(t,e,n),a=s.length;for(let o=0;o<a;o++){const l=s[o],u=l instanceof Element?Jg:Zg;nn.has(l)||u(l);const c=nn.get(l),d={...i};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,a)),r.push(...og(c,{...e,transition:d},{}))}}return r}function tv(t,e,i){const n=[];return ff(t,e,i,{spring:un}).forEach(({keyframes:s,transition:a},o)=>{n.push(...Sc(o,s,a))}),n}class iv{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,i){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=i}attachTimeline(e){const i=this.animations.map(n=>n.attachTimeline(e));return()=>{i.forEach((n,r)=>{n&&n(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let i=0;i<this.animations.length;i++)e=Math.max(e,this.animations[i].duration);return e}runAll(e){this.animations.forEach(i=>i[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class nv extends iv{then(e,i){return this.finished.finally(e).then(()=>{})}}function rv(t){return Array.isArray(t)&&t.some(Array.isArray)}function sv(t){function e(i,n,r){let s=[];return rv(i)?s=tv(i,n,t):s=Sc(i,n,r,t),new nv(s)}return e}const st=sv(),Vn=new WeakMap;let Tt;function av(t,e){if(e){const{inlineSize:i,blockSize:n}=e[0];return{width:i,height:n}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function ov({target:t,contentRect:e,borderBoxSize:i}){var n;(n=Vn.get(t))==null||n.forEach(r=>{r({target:t,contentSize:e,get size(){return av(t,i)}})})}function lv(t){t.forEach(ov)}function uv(){typeof ResizeObserver>"u"||(Tt=new ResizeObserver(lv))}function cv(t,e){Tt||uv();const i=br(t);return i.forEach(n=>{let r=Vn.get(n);r||(r=new Set,Vn.set(n,r)),r.add(e),Tt==null||Tt.observe(n)}),()=>{i.forEach(n=>{const r=Vn.get(n);r==null||r.delete(e),r!=null&&r.size||Tt==null||Tt.unobserve(n)})}}const Bn=new Set;let Ji;function hv(){Ji=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Bn.forEach(i=>i(e))},window.addEventListener("resize",Ji)}function dv(t){return Bn.add(t),Ji||hv(),()=>{Bn.delete(t),!Bn.size&&Ji&&(Ji=void 0)}}function fv(t,e){return typeof t=="function"?dv(t):cv(t,e)}const pv=50,ko=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),gv=()=>({time:0,x:ko(),y:ko()}),vv={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function To(t,e,i,n){const r=i[e],{length:s,position:a}=vv[e],o=r.current,l=i.time;r.current=t[`scroll${a}`],r.scrollLength=t[`scroll${s}`]-t[`client${s}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=wr(0,r.scrollLength,r.current);const u=n-l;r.velocity=u>pv?0:ha(r.current-o,u)}function mv(t,e,i){To(t,"x",e,i),To(t,"y",e,i),e.time=i}function _v(t,e){const i={x:0,y:0};let n=t;for(;n&&n!==e;)if(n instanceof HTMLElement)i.x+=n.offsetLeft,i.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();i.x+=r.left-s.left,i.y+=r.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:s}=n.getBBox();i.x+=r,i.y+=s;let a=null,o=n.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=n.parentNode;n=a}else break;return i}const ws={start:0,center:.5,end:1};function Ao(t,e,i=0){let n=0;if(t in ws&&(t=ws[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?n=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?n=r/100*document.documentElement.clientWidth:t.endsWith("vh")?n=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(n=e*t),i+n}const yv=[0,0];function bv(t,e,i,n){let r=Array.isArray(t)?t:yv,s=0,a=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,ws[t]?t:"0"]),s=Ao(r[0],i,n),a=Ao(r[1],e),s-a}const wv={All:[[0,0],[1,1]]},xv={x:0,y:0};function Sv(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Ev(t,e,i){const{offset:n=wv.All}=i,{target:r=t,axis:s="y"}=i,a=s==="y"?"height":"width",o=r!==t?_v(r,t):xv,l=r===t?{width:t.scrollWidth,height:t.scrollHeight}:Sv(r),u={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let c=!e[s].interpolate;const d=n.length;for(let h=0;h<d;h++){const f=bv(n[h],u[a],l[a],o[s]);!c&&f!==e[s].interpolatorOffsets[h]&&(c=!0),e[s].offset[h]=f}c&&(e[s].interpolate=ju(e[s].offset,oa(n),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Ot(0,1,e[s].interpolate(e[s].current))}function kv(t,e=t,i){if(i.x.targetOffset=0,i.y.targetOffset=0,e!==t){let n=e;for(;n&&n!==t;)i.x.targetOffset+=n.offsetLeft,i.y.targetOffset+=n.offsetTop,n=n.offsetParent}i.x.targetLength=e===t?e.scrollWidth:e.clientWidth,i.y.targetLength=e===t?e.scrollHeight:e.clientHeight,i.x.containerLength=t.clientWidth,i.y.containerLength=t.clientHeight}function Tv(t,e,i,n={}){return{measure:()=>kv(t,n.target,i),update:r=>{mv(t,i,r),(n.offset||n.target)&&Ev(t,i,n)},notify:()=>e(i)}}const $i=new WeakMap,Fo=new WeakMap,Dr=new WeakMap,Mo=t=>t===document.documentElement?window:t;function Ec(t,{container:e=document.documentElement,...i}={}){let n=Dr.get(e);n||(n=new Set,Dr.set(e,n));const r=gv(),s=Tv(e,t,r,i);if(n.add(s),!$i.has(e)){const o=()=>{for(const h of n)h.measure()},l=()=>{for(const h of n)h.update(sn.timestamp)},u=()=>{for(const h of n)h.notify()},c=()=>{Ie.read(o),Ie.read(l),Ie.preUpdate(u)};$i.set(e,c);const d=Mo(e);window.addEventListener("resize",c,{passive:!0}),e!==document.documentElement&&Fo.set(e,fv(e,c)),d.addEventListener("scroll",c,{passive:!0}),c()}const a=$i.get(e);return Ie.read(a,!1,!0),()=>{var u;rn(a);const o=Dr.get(e);if(!o||(o.delete(s),o.size))return;const l=$i.get(e);$i.delete(e),l&&(Mo(e).removeEventListener("scroll",l),(u=Fo.get(e))==null||u(),window.removeEventListener("resize",l))}}const Io=new Map;function Av(t){const e={value:0},i=Ec(n=>{e.value=n[t.axis].progress*100},t);return{currentTime:e,cancel:i}}function kc({source:t,container:e,...i}){const{axis:n}=i;t&&(e=t);const r=Io.get(e)??new Map;Io.set(e,r);const s=i.target??"self",a=r.get(s)??{},o=n+(i.offset??[]).join(",");return a[o]||(a[o]=!i.target&&tc()?new ScrollTimeline({source:e,axis:n}):Av({container:e,...i})),a[o]}function Tc(t,e){let i;const n=()=>{const{currentTime:r}=e,a=(r===null?0:r.value)/100;i!==a&&t(a),i=a};return Ie.preUpdate(n,!0),()=>rn(n)}function Fv(t,e){const i=kc(e);return t.attachTimeline({timeline:e.target?void 0:i,observe:n=>(n.pause(),Tc(r=>{n.time=n.duration*r},i))})}function Mv(t){return t.length===2}function Iv(t,e){return Mv(t)?Ec(i=>{t(i[e.axis].progress,i)},e):Tc(t,kc(e))}function Cv(t,{axis:e="y",container:i=document.documentElement,...n}={}){i===document.documentElement&&(e==="y"&&i.scrollHeight===i.clientHeight||e==="x"&&i.scrollWidth===i.clientWidth)&&(i=document.body);const r={axis:e,container:i,...n};return typeof t=="function"?Iv(t,r):Fv(t,r)}const Pv={some:0,all:1};function Ac(t,e,{root:i,margin:n,amount:r="some"}={}){const s=br(t),a=new WeakMap,o=u=>{u.forEach(c=>{const d=a.get(c.target);if(c.isIntersecting!==!!d)if(c.isIntersecting){const h=e(c.target,c);typeof h=="function"?a.set(c.target,h):l.unobserve(c.target)}else typeof d=="function"&&(d(c),a.delete(c.target))})},l=new IntersectionObserver(o,{root:i,rootMargin:n,threshold:typeof r=="number"?r:Pv[r]});return s.forEach(u=>l.observe(u)),()=>l.disconnect()}function Rv(t,e){if(t==="first")return 0;{const i=e-1;return t==="last"?i:i/2}}function Fc(t=.1,{startDelay:e=0,from:i=0,ease:n}={}){return(r,s)=>{const a=typeof i=="number"?i:Rv(i,s),o=Math.abs(a-r);let l=t*o;if(n){const u=s*t;l=hs(n)(l/u)*u}return e+l}}const Ov={y:!1};function $v(){return Ov.y}function Mc(t,e){const i=br(t),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[i,r,()=>n.abort()]}function Co(t){return!(t.pointerType==="touch"||$v())}function Ic(t,e,i={}){const[n,r,s]=Mc(t,i),a=o=>{if(!Co(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=d=>{Co(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return n.forEach(o=>{o.addEventListener("pointerenter",a,r)}),s}const Cc=(t,e)=>e?t===e?!0:Cc(t,e.parentElement):!1,Dv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Lv=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Nv(t){return Lv.has(t.tagName)||t.tabIndex!==-1}const qn=new WeakSet;function Po(t){return e=>{e.key==="Enter"&&t(e)}}function Lr(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Vv=(t,e)=>{const i=t.currentTarget;if(!i)return;const n=Po(()=>{if(qn.has(i))return;Lr(i,"down");const r=Po(()=>{Lr(i,"up")}),s=()=>Lr(i,"cancel");i.addEventListener("keyup",r,e),i.addEventListener("blur",s,e)});i.addEventListener("keydown",n,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",n),e)};function Ro(t){return Dv(t)&&!0}function Bv(t,e,i={}){const[n,r,s]=Mc(t,i),a=o=>{const l=o.currentTarget;if(!Ro(o))return;qn.add(l);const u=e(l,o),c=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),qn.has(l)&&qn.delete(l),Ro(f)&&typeof u=="function"&&u(f,{success:g})},d=f=>{c(f,l===window||l===document||i.useGlobalTarget||Cc(l,f.target))},h=f=>{c(f,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",h,r)};return n.forEach(o=>{(i.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),o instanceof HTMLElement&&(o.addEventListener("focus",u=>Vv(u,r)),!Nv(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}var qv=Oe('<button id="cta-button" class="rounded-xl inset-ring-green-400 inset-ring-2 bg-gradient-to-b cursor-pointer from-green-700 to-green-400 px-3 md:px-4 py-2 text-white font-bold"> </button>');function Aa(t,e){Ti(e,!1);let i=rt(e,"text",8,"Join the Change"),n=rt(e,"onClick",8,null);function r(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),n()&&n()()}_n(()=>{Ic("#cta-button",o=>(st(o,{"--tw-gradient-from-position":"60%"},{type:"spring",stiffness:200,damping:10}),()=>st(o,{"--tw-gradient-from-position":"0%"},{type:"spring",stiffness:200,damping:10})))}),mn();var s=qv(),a=H(s);Ut(()=>yi(a,i())),pi("click",s,r),_e(t,s),Ai()}function je(t){t.preventDefault();const e=t.currentTarget.getAttribute("href");if(e){const i=document.querySelector(e);i&&i.scrollIntoView({behavior:"smooth"})}}var jv=Oe('<header class="dark:bg-black bg-gray-100 py-4"><nav class="container mx-auto flex max-w-screen-2xl text-xs md:text-lg items-center justify-evenly px-4"><div><img alt="Logo" class="h-15 md:h-25 w-auto"></div> <div class="flex space-x-4 md:space-x-6 items-center"><a href="#what" class="text-white hover:text-green-600">What?</a> <a href="#why" class="text-gray-300 hover:text-green-600">Why?</a> <a href="#how" class="text-gray-300 hover:text-green-600">How?</a></div> <div class="flex justify-center my-6"><!></div></nav></header>');function Wv(t){var e=jv(),i=H(e),n=H(i),r=H(n);Jt(r,"src",wu);var s=q(n,2),a=H(s),o=q(a,2),l=q(o,2),u=q(s,2),c=H(u);Aa(c,{text:"Join Waitlist"}),pi("click",a,function(...d){je==null||je.apply(this,d)}),pi("click",o,function(...d){je==null||je.apply(this,d)}),pi("click",l,function(...d){je==null||je.apply(this,d)}),_e(t,e)}function Hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jn={exports:{}},zv=jn.exports,Oo;function Uv(){return Oo||(Oo=1,function(t,e){(function(i,n){t.exports=n()})(zv,function(){var i=document,n=i.createTextNode.bind(i);function r(_,E,I){_.style.setProperty(E,I)}function s(_,E){return _.appendChild(E)}function a(_,E,I,O){var D=i.createElement("span");return E&&(D.className=E),I&&(!O&&D.setAttribute("data-"+E,I),D.textContent=I),_&&s(_,D)||D}function o(_,E){return _.getAttribute("data-"+E)}function l(_,E){return!_||_.length==0?[]:_.nodeName?[_]:[].slice.call(_[0].nodeName?_:(E||i).querySelectorAll(_))}function u(_){for(var E=[];_--;)E[_]=[];return E}function c(_,E){_&&_.some(E)}function d(_){return function(E){return _[E]}}function h(_,E,I){var O="--"+E,D=O+"-index";c(I,function(V,W){Array.isArray(V)?c(V,function(U){r(U,D,W)}):r(V,D,W)}),r(_,O+"-total",I.length)}var f={};function g(_,E,I){var O=I.indexOf(_);if(O==-1){I.unshift(_);var D=f[_];if(!D)throw new Error("plugin not loaded: "+_);c(D.depends,function(W){g(W,_,I)})}else{var V=I.indexOf(E);I.splice(O,1),I.splice(V,0,_)}return I}function p(_,E,I,O){return{by:_,depends:E,key:I,split:O}}function b(_){return g(_,0,[]).map(d(f))}function m(_){f[_.by]=_}function y(_,E,I,O,D){_.normalize();var V=[],W=document.createDocumentFragment();O&&V.push(_.previousSibling);var U=[];return l(_.childNodes).some(function(de){if(de.tagName&&!de.hasChildNodes()){U.push(de);return}if(de.childNodes&&de.childNodes.length){U.push(de),V.push.apply(V,y(de,E,I,O,D));return}var et=de.wholeText||"",tt=et.trim();if(tt.length){et[0]===" "&&U.push(n(" "));var xn=I===""&&typeof Intl.Segmenter=="function";c(xn?Array.from(new Intl.Segmenter().segment(tt)).map(function(ii){return ii.segment}):tt.split(I),function(ii,Sn){Sn&&D&&U.push(a(W,"whitespace"," ",D));var ni=a(W,E,ii);V.push(ni),U.push(ni)}),et[et.length-1]===" "&&U.push(n(" "))}}),c(U,function(de){s(W,de)}),_.innerHTML="",s(_,W),V}var w=0;function T(_,E){for(var I in E)_[I]=E[I];return _}var S="words",C=p(S,w,"word",function(_){return y(_,"word",/\s+/,0,1)}),R="chars",x=p(R,[S],"char",function(_,E,I){var O=[];return c(I[S],function(D,V){O.push.apply(O,y(D,"char","",E.whitespace&&V))}),O});function P(_){_=_||{};var E=_.key;return l(_.target||"[data-splitting]").map(function(I){var O=I["🍌"];if(!_.force&&O)return O;O=I["🍌"]={el:I};var D=_.by||o(I,"splitting");(!D||D=="true")&&(D=R);var V=b(D),W=T({},_);return c(V,function(U){if(U.split){var de=U.by,et=(E?"-"+E:"")+U.key,tt=U.split(I,W,O);et&&h(I,et,tt),O[de]=tt,I.classList.add(de)}}),I.classList.add("splitting"),O})}function B(_){_=_||{};var E=_.target=a();return E.innerHTML=_.content,P(_),E.outerHTML}P.html=B,P.add=m;function z(_,E,I){var O=l(E.matching||_.children,_),D={};return c(O,function(V){var W=Math.round(V[I]);(D[W]||(D[W]=[])).push(V)}),Object.keys(D).map(Number).sort(he).map(d(D))}function he(_,E){return _-E}var pe=p("lines",[S],"line",function(_,E,I){return z(_,{matching:I[S]},"offsetTop")}),$e=p("items",w,"item",function(_,E){return l(E.matching||_.children,_)}),De=p("rows",w,"row",function(_,E){return z(_,E,"offsetTop")}),Qe=p("cols",w,"col",function(_,E){return z(_,E,"offsetLeft")}),oe=p("grid",["rows","cols"]),J="layout",xe=p(J,w,w,function(_,E){var I=E.rows=+(E.rows||o(_,"rows")||1),O=E.columns=+(E.columns||o(_,"columns")||1);if(E.image=E.image||o(_,"image")||_.currentSrc||_.src,E.image){var D=l("img",_)[0];E.image=D&&(D.currentSrc||D.src)}E.image&&r(_,"background-image","url("+E.image+")");for(var V=I*O,W=[],U=a(w,"cell-grid");V--;){var de=a(U,"cell");a(de,"cell-inner"),W.push(de)}return s(_,U),W}),Le=p("cellRows",[J],"row",function(_,E,I){var O=E.rows,D=u(O);return c(I[J],function(V,W,U){D[Math.floor(W/(U.length/O))].push(V)}),D}),Ke=p("cellColumns",[J],"col",function(_,E,I){var O=E.columns,D=u(O);return c(I[J],function(V,W){D[W%O].push(V)}),D}),ne=p("cells",["cellRows","cellColumns"],"cell",function(_,E,I){return I[J]});return m(C),m(x),m(pe),m($e),m(De),m(Qe),m(oe),m(xe),m(Le),m(Ke),m(ne),P})}(jn)),jn.exports}var Gv=Uv();const tr=Hv(Gv);var Kv=Oe("<i></i>"),Yv=Oe('<span class="px-2.5 py-1.5 font-bold bg-linear-to-b from-green-600 to-green-100 from-50% rounded-full"> </span>'),Xv=Oe('<div class="grid grid-flow-col items-center gap-2 text-white text-xs z-10!"><!> <span class="text-gray-200 text-sm"> </span></div>');function xr(t,e){let i=rt(e,"text",8,"Default Text"),n=rt(e,"label",8,""),r=rt(e,"icon",8,"");var s=Xv(),a=H(s);{var o=d=>{var h=Kv();Ut(()=>Yd(h,1,`p-2 align-middle bg-linear-to-b from-green-600 to-green-100 from-50% rounded-full fa-solid fa-${r()??""}`)),_e(d,h)},l=d=>{var h=Yv(),f=H(h);Ut(()=>yi(f,i())),_e(d,h)};Ln(a,d=>{r()?d(o):d(l,!1)})}var u=q(a,2),c=H(u);Ut(()=>yi(c,n())),_e(t,s)}var Jv=Oe(`<section id="why" class="flex flex-col items-center space-y-8 text-center px-4 py-12 max-w-6xl mx-auto text-white"><!> <h1 id="select-text" class="text-4xl md:text-5xl mb-8 leading-tight">The AI Chats we use daily, are free to us. But for the environment, not so
    much. We're here to change that by putting you in <span class="font-extrabold">control</span>.</h1> <div class="flex justify-center my-6"><!></div> <div class="mt-16 flex flex-col md:flex-row items-center justify-center gap-4"><div id="stat-text" class="text-center bg-radial to-70% md:to-90% from-green-600/50 to-green-400/0"><p class="text-8xl font-bold text-white">90,000</p> <p class="text-5xl mb-2">Kilograms</p> <p class="text-white/60">Approximately 198,000 Pounds</p></div> <div class="text-center md:text-center md:ml-12"><p class="text-xl mb-1"><b>CO<sub>2</sub></b> emission is generated</p> <div id="every-hour" class="text-5xl md:text-6xl font-bold mb-2 relative"><em>every hour</em> <div id="every-hour-tooltop" class="hidden absolute blur-lg text-xs text-justify bg-slate-800 px-3 py-2 rounded-xl">Conservative estimate based on daily usage data for ChatGPT
          extrapolated to other vendors and averaged for hourly insight.</div></div> <p class="text-xl text-white/60">due to global AI Chat use</p></div></div> <div class="flex flex-col mt-16 items-center"><h1 class="text-5xl md:text-7xl font-semibold">We can help</h1> <img alt="NOC Logo" class="w-1/2 md:w-1/4 mx-auto"> <p class="text-sm text-white/60 md:text-xl">We are working to bring you the insights on your AI Chat use and its
      impact on the environment. <br> On top of that, <b>noc</b> will provide recommendations to drive eco-friendly
      behavior globally.</p> <div class="grid grid-flow-col gap-12 items-end"><h3 class="text-2xl md:text-3xl font-semibold mt-4"><span class="block text-white/60">Up to</span> <span class="block text-4xl md:text-8xl my-4">40%</span> <span class="block text-white/60">less CO<sub>2</sub> emissions</span></h3> <h3 class="text-2xl md:text-3xl font-semibold mt-4"><span class="block text-white/60">Reducing approx.</span> <span class="block text-4xl md:text-8xl my-4">36,000</span> <span class="block text-white/60">Kilograms <i>per hour</i></span></h3></div></div></section>`);function Zv(t,e){Ti(e,!1),_n(()=>{const l=tr({target:"#select-text",by:"chars"})[0];function u(d){if(l.chars){const h=d*l.chars.length;for(let f=0;f<l.chars.length;f++)f<h?l.chars[f].style.opacity="1":l.chars[f].style.opacity="0.5"}}Cv(u,{target:document.getElementById("select-text"),offset:["start end","start center"]}),tr({target:"#stat-text",by:"chars"}),Ac("#stat-text",()=>(st("#stat-text .char",{opacity:[0,1],x:["5px","0px"],y:["5px","0px"],filter:["blur(20px)","blur(0px)"]},{delay:Fc(.05,{startDelay:.25}),type:"spring",stiffness:100,damping:20}),()=>{st("#stat-text .char",{opacity:[1,0],filter:["blur(0px)","blur(10px)"]},{duration:1,ease:"easeOut"})}));function c(){const d=document.getElementById("every-hour-tooltop");return st(d,{filter:"none",opacity:1,display:"block"},{duration:.25}),()=>{st(d,{filter:"blur(10px)",opacity:0,display:"none"},{duration:.25})}}Ic("#every-hour",c),Bv("#every-hour",c)}),mn();var i=Jv(),n=H(i);xr(n,{text:"Why"});var r=q(n,4),s=H(r);Aa(s,{});var a=q(r,4),o=q(H(a),2);Jt(o,"src",wu),_e(t,i),Ai()}const Qv="/assets/noc_welcome-CNe2tIYv.png",em="/assets/globe-C3BXcmCp.png";var tm=Oe('<div id="what" class="w-full overflow-clip flex flex-col items-center md:pb-20 svelte-1g9c3a6"><!> <div class="h-8 svelte-1g9c3a6"></div> <div id="intro-text" class="font-normal relative md:w-2/3 items-center text-center svelte-1g9c3a6"><h1 class="text-5xl md:text-8xl text-gray-800 dark:text-white svelte-1g9c3a6">We want to make</h1> <h1 class="text-5xl md:text-8xl text-gray-800 dark:text-white svelte-1g9c3a6">AI use - <i id="greener" class="text-white font-semibold text-shadow-green-600 svelte-1g9c3a6">greener</i>.</h1> <img alt="Welcome" class="absolute max-w-none w-[100vw] -z-2! left-1/2 -translate-x-1/2 -translate-y-3/5 overflow-clip blur-[2px] svelte-1g9c3a6"> <img id="welcome" alt="Welcome" class="absolute w-4/5 md:w-svw -z-1! left-1/2 -translate-x-1/2 -translate-y-1/3 blur-[4px] rounded-xl shadow-[0_10px_25px] lg:[transform:perspective(200em)rotateX(50deg)] [transform:perspective(50em)rotateX(50deg)] shadow-green-600 svelte-1g9c3a6"></div> <div class="h-8 svelte-1g9c3a6"></div> <p class="text-center text-gray-400 text-sm md:text-lg font-light bg-black/70 rounded-2xl px-2 svelte-1g9c3a6">By delivering the insights on impact of your use,<br class="svelte-1g9c3a6"> and driving more sustainable behavior.</p> <div class="h-8 svelte-1g9c3a6"></div> <p class="text-white text-base my-2 hidden md:block bg-black/70 px-4 rounded-2xl svelte-1g9c3a6">Are you interested?</p> <!> <a href="#why" class="svelte-1g9c3a6"><p class="text-gray-300 my-2 hover:text-white bg-black/70 svelte-1g9c3a6">If not, let us convince you ↓</p></a></div>');function im(t,e){Ti(e,!1),document.querySelector("h1"),_n(()=>{tr({target:"#greener",by:"chars"}),tr({target:"#select-text",by:"chars"}),st("#greener .char",{opacity:[0,1],x:["5px","0px"],y:["5px","0px"],filter:["blur(10px)","blur(0px)"]},{delay:Fc(.05,{startDelay:.25}),type:"spring",stiffness:150,damping:10,mass:.5}),st("#intro-text",{opacity:[0,1],filter:["blur(10px)","none"]},{duration:1,ease:"easeOut"})}),mn();var i=tm(),n=H(i);xr(n,{text:"2025",label:"Sustainable AI Chat"});var r=q(n,4),s=q(H(r),4);Jt(s,"src",em);var a=q(s,2);Jt(a,"src",Qv);var o=q(r,10);Aa(o,{text:"Join the Change"});var l=q(o,2);pi("click",l,function(...u){je==null||je.apply(this,u)}),_e(t,i),Ai()}var nm=Oe(`<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6" role="alert"><p>Thanks for joining our waitlist! We'll be in touch soon.</p></div>`),rm=Oe('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded" role="alert"><p> </p></div>'),sm=Wd('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Submitting...'),am=Oe(`<form class="space-y-4"><div><label for="email" class="block text-sm font-medium mb-1 dark:text-white text-gray-700">Email Address <span class="text-red-500">*</span></label> <input type="email" id="email" placeholder="yourname@example.com" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-green-600 focus:outline-none dark:bg-gray-800 dark:border-gray-700 dark:text-white" required></div> <div><label for="feedback" class="block text-sm font-medium mb-1 dark:text-white text-gray-700">Why are you interested? Any feature suggestions? (optional)</label> <textarea id="feedback" rows="4" placeholder="Tell us what you're looking for..." class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-green-600 focus:outline-none dark:bg-gray-800 dark:border-gray-700 dark:text-white"></textarea></div> <!> <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md transition-colors duration-200 flex items-center justify-center"><!></button></form>`),om=Oe('<section id="waitlist" class="w-9/10 max-w-2xl mx-auto py-12 px-4"><div class="text-center mb-8"><h2 class="text-3xl font-bold mb-3 dark:text-white text-gray-900">Join our Waitlist</h2> <p class="text-lg dark:text-gray-300 text-gray-600">Be the first to know when we launch</p></div> <!></section>');function lm(t,e){Ti(e,!1);let i=Oi(""),n=Oi(""),r=Oi(!1),s=Oi(!1),a=Oi("");async function o(){if(!re(i)){ue(a,"Please enter your email");return}ue(r,!0),ue(a,"");try{console.log("Submitting form with data:",{email:re(i),feedback:re(n)});const h=await fetch("https://submitform-tqcslwocpa-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:re(i),feedback:re(n)||""})});if(h.ok){const f=await h.json();console.log("Form submission response:",f),ue(s,!0),ue(i,""),ue(n,"")}else{const f=await h.text();throw console.error("Error response:",h.status,f),new Error(`Server responded with status ${h.status}`)}}catch(h){h instanceof Error?(ue(a,`Error: ${h.message}`),console.error("Waitlist submission error:",h)):(ue(a,"Something went wrong. Please try again."),console.error("Waitlist submission unexpected error:",h))}finally{ue(r,!1)}}_n(()=>{Ac("#waitlist",h=>(st(h,{scale:[.75,1]},{type:"spring",duration:.5,delay:.1}),()=>{st(h,{scale:.75},{type:"spring"})}),{amount:.5})}),mn();var l=om(),u=q(H(l),2);{var c=h=>{var f=nm();_e(h,f)},d=h=>{var f=am(),g=H(f),p=q(H(g),2),b=q(g,2),m=q(H(b),2),y=q(b,2);{var w=x=>{var P=rm(),B=H(P),z=H(B);Ut(()=>yi(z,re(a))),_e(x,P)};Ln(y,x=>{re(a)&&x(w)})}var T=q(y,2),S=H(T);{var C=x=>{var P=sm();_e(x,P)},R=x=>{var P=Hd("Join Waitlist");_e(x,P)};Ln(S,x=>{re(r)?x(C):x(R,!1)})}Ut(()=>T.disabled=re(r)),Za(p,()=>re(i),x=>ue(i,x)),Za(m,()=>re(n),x=>ue(n,x)),pi("submit",f,ef(o)),_e(h,f)};Ln(u,h=>{re(s)?h(c):h(d,!1)})}_e(t,l),Ai()}const um="/assets/insight_stats-DLdhKfcS.png",cm="/assets/insight_source-fNpCtBct.png",hm="/assets/insight_breakdown-CCk14r67.png",dm="/assets/platform_screenshots-CCQ1eYyb.png";var fm=Oe('<div class="flex flex-col space-y-2 max-w-2xs items-center p-4 rounded-xl border-2 border-white/15"><!> <h1 class="text-2xl md:text-4xl text-gray-800 dark:text-white"> </h1> <p class="text-white/60 text-center text-xs"> </p> <img class="w-60 h-auto rounded-lg inset-shadow-[0_0_20px] inset-shadow-gray-600 p-4"></div>');function Nr(t,e){let i=rt(e,"title",8,"Default Title"),n=rt(e,"description",8,"Default Description"),r=rt(e,"image",8,"https://via.placeholder.com/150"),s=rt(e,"alt",8,"Default Alt Text"),a=rt(e,"icon",8,"");var o=fm(),l=H(o);xr(l,{get icon(){return a()}});var u=q(l,2),c=H(u),d=q(u,2),h=H(d),f=q(d,2);Ut(()=>{yi(c,i()),yi(h,n()),Jt(f,"src",r()),Jt(f,"alt",s())}),_e(t,o)}var pm=Oe('<section id="how" class="flex flex-col space-y-10 items-center"><!> <h1 class="text-4xl md:text-8xl text-gray-800 dark:text-white">Our insights are deep</h1> <div class="grid md:grid-cols-3 gap-8"><!> <!> <!></div> <div class="grid grid-cols-3 max-w-3/4 items-center"><h1 class="text-xl md:text-6xl text-left">All this goodness packed into a familiar interface</h1> <img alt="Screenshots" class="col-span-2 w-full h-auto rounded-lg p-8 bg-radial to-85% from-green-600 to-green-600/0"></div></section>');function gm(t){var e=pm(),i=H(e);xr(i,{text:"How"});var n=q(i,4),r=H(n);Nr(r,{title:"Scores",description:"Our Impact Factor and Efficiency scores are calculated with a wide range of factors. They bring you a comprehensive look at your impact.",image:um,alt:"Scores",icon:"chart-simple"});var s=q(r,2);Nr(s,{title:"Sources",description:"One of the factors of our calculation is energy source. This lets you know how much of your AI energy use is green.",image:cm,alt:"Sources",icon:"chart-diagram"});var a=q(s,2);Nr(a,{title:"Breakdown",description:"We break down your AI energy use by model. This gives you a clear picture of which models may be having the most impact.",image:hm,alt:"Breakdown",icon:"chart-pie"});var o=q(n,2),l=q(H(o),2);Jt(l,"src",dm),_e(t,e)}var Xe,v=typeof window<"u"?window:void 0,Ce=typeof globalThis<"u"?globalThis:v,Pc=Array.prototype,$o=Pc.forEach,Do=Pc.indexOf,Ve=Ce==null?void 0:Ce.navigator,F=Ce==null?void 0:Ce.document,Me=Ce==null?void 0:Ce.location,xs=Ce==null?void 0:Ce.fetch,Ss=Ce!=null&&Ce.XMLHttpRequest&&"withCredentials"in new Ce.XMLHttpRequest?Ce.XMLHttpRequest:void 0,Lo=Ce==null?void 0:Ce.AbortController,Fe=Ve==null?void 0:Ve.userAgent,L=v??{},vt={DEBUG:!1,LIB_VERSION:"1.240.6"},Vr="$copy_autocapture",vm=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(t){t.GZipJS="gzip-js",t.Base64="base64"})(Xe||(Xe={}));var mm=["fatal","error","warning","log","info","debug"];function N(t,e){return t.indexOf(e)!==-1}var Sr=function(t){return t.trim()},Es=function(t){return t.replace(/^\$/,"")},_m=Array.isArray,Rc=Object.prototype,Oc=Rc.hasOwnProperty,Er=Rc.toString,te=_m||function(t){return Er.call(t)==="[object Array]"},ze=t=>typeof t=="function",ie=t=>t===Object(t)&&!te(t),ui=t=>{if(ie(t)){for(var e in t)if(Oc.call(t,e))return!1;return!0}return!1},k=t=>t===void 0,ae=t=>Er.call(t)=="[object String]",ks=t=>ae(t)&&t.trim().length===0,Dt=t=>t===null,j=t=>k(t)||Dt(t),ye=t=>Er.call(t)=="[object Number]",mt=t=>Er.call(t)==="[object Boolean]",ym=t=>t instanceof FormData,bm=t=>N(vm,t),$c=t=>{var e={t:function(i){if(v&&(vt.DEBUG||L.POSTHOG_DEBUG)&&!k(v.console)&&v.console){for(var n=("__rrweb_original__"in v.console[i])?v.console[i].__rrweb_original__:v.console[i],r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];n(t,...s)}},info:function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.t("log",...n)},warn:function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.t("warn",...n)},error:function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.t("error",...n)},critical:function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];console.error(t,...n)},uninitializedWarning:i=>{e.error("You must initialize PostHog before calling "+i)},createLogger:i=>$c(t+" "+i)};return e},M=$c("[PostHog.js]"),we=M.createLogger,wm=we("[ExternalScriptsLoader]"),No=(t,e,i)=>{if(t.config.disable_external_dependency_loading)return wm.warn(e+" was requested but loading of external scripts is disabled."),i("Loading of external scripts is disabled");var n=F==null?void 0:F.querySelectorAll("script");if(n){for(var r=0;r<n.length;r++)if(n[r].src===e)return i()}var s=()=>{if(!F)return i("document not found");var a=F.createElement("script");if(a.type="text/javascript",a.crossOrigin="anonymous",a.src=e,a.onload=u=>i(void 0,u),a.onerror=u=>i(u),t.config.prepare_external_dependency_script&&(a=t.config.prepare_external_dependency_script(a)),!a)return i("prepare_external_dependency_script returned null");var o,l=F.querySelectorAll("body > script");l.length>0?(o=l[0].parentNode)==null||o.insertBefore(a,l[0]):F.body.appendChild(a)};F!=null&&F.body?s():F==null||F.addEventListener("DOMContentLoaded",s)};function A(){return A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},A.apply(this,arguments)}function Dc(t,e){if(t==null)return{};var i,n,r={},s=Object.keys(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}L.__PosthogExtensions__=L.__PosthogExtensions__||{},L.__PosthogExtensions__.loadExternalDependency=(t,e,i)=>{var n="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(n="/array/"+t.config.token+"/config.js"),e==="toolbar"){var r=3e5;n=n+"&t="+Math.floor(Date.now()/r)*r}var s=t.requestRouter.endpointFor("assets",n);No(t,s,i)},L.__PosthogExtensions__.loadSiteApp=(t,e,i)=>{var n=t.requestRouter.endpointFor("api",e);No(t,n,i)};var ir={};function Ct(t,e,i){if(te(t)){if($o&&t.forEach===$o)t.forEach(e,i);else if("length"in t&&t.length===+t.length){for(var n=0,r=t.length;n<r;n++)if(n in t&&e.call(i,t[n],n)===ir)return}}}function G(t,e,i){if(!j(t)){if(te(t))return Ct(t,e,i);if(ym(t)){for(var n of t.entries())if(e.call(i,n[1],n[0])===ir)return}else for(var r in t)if(Oc.call(t,r)&&e.call(i,t[r],r)===ir)return}}var se=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Ct(i,function(r){for(var s in r)r[s]!==void 0&&(t[s]=r[s])}),t},kr=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Ct(i,function(r){Ct(r,function(s){t.push(s)})}),t};function Wn(t){for(var e=Object.keys(t),i=e.length,n=new Array(i);i--;)n[i]=[e[i],t[e[i]]];return n}var Vo=function(t){try{return t()}catch{return}},xm=function(t){return function(){try{for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.apply(this,i)}catch(r){M.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),M.critical(r)}}},Fa=function(t){var e={};return G(t,function(i,n){(ae(i)&&i.length>0||ye(i))&&(e[n]=i)}),e};function Sm(t,e){return i=t,n=s=>ae(s)&&!Dt(e)?s.slice(0,e):s,r=new Set,function s(a,o){return a!==Object(a)?n?n(a,o):a:r.has(a)?void 0:(r.add(a),te(a)?(l=[],Ct(a,u=>{l.push(s(u))})):(l={},G(a,(u,c)=>{r.has(u)||(l[c]=s(u,c))})),l);var l}(i);var i,n,r}var Em=["herokuapp.com","vercel.app","netlify.app"];function km(t){var e=t==null?void 0:t.hostname;if(!ae(e))return!1;var i=e.split(".").slice(-2).join(".");for(var n of Em)if(i===n)return!1;return!0}function Lc(t,e){for(var i=0;i<t.length;i++)if(e(t[i]))return t[i]}function Z(t,e,i,n){var{capture:r=!1,passive:s=!0}=n??{};t==null||t.addEventListener(e,i,{capture:r,passive:s})}var Nc="$people_distinct_id",ji="__alias",Wi="__timers",Bo="$autocapture_disabled_server_side",Ts="$heatmaps_enabled_server_side",qo="$exception_capture_enabled_server_side",jo="$web_vitals_enabled_server_side",Vc="$dead_clicks_enabled_server_side",Wo="$web_vitals_allowed_metrics",As="$session_recording_enabled_server_side",Ho="$console_log_recording_enabled_server_side",zo="$session_recording_network_payload_capture",Uo="$session_recording_masking",Go="$session_recording_canvas_recording",Ko="$replay_sample_rate",Yo="$replay_minimum_duration",Xo="$replay_script_config",nr="$sesid",Hi="$session_is_sampled",Fs="$session_recording_url_trigger_activated_session",Ms="$session_recording_event_trigger_activated_session",ci="$enabled_feature_flags",Hn="$early_access_features",Is="$feature_flag_details",zi="$stored_person_properties",qt="$stored_group_properties",Cs="$surveys",An="$surveys_activated",rr="$flag_call_reported",ft="$user_state",Ps="$client_session_props",Rs="$capture_rate_limit",Os="$initial_campaign_params",$s="$initial_referrer_info",Ds="$initial_person_info",sr="$epp",Bc="__POSTHOG_TOOLBAR__",Jo="$posthog_cookieless",Tm=[Nc,ji,"__cmpns",Wi,As,Ts,nr,ci,ft,Hn,Is,qt,zi,Cs,rr,Ps,Rs,Os,$s,sr];function Zo(t){return t instanceof Element&&(t.id===Bc||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function Tr(t){return!!t&&t.nodeType===1}function Pt(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function qc(t){return!!t&&t.nodeType===3}function jc(t){return!!t&&t.nodeType===11}function Ma(t){return t?Sr(t).split(/\s+/):[]}function Qo(t){var e=v==null?void 0:v.location.href;return!!(e&&t&&t.some(i=>e.match(i)))}function ar(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Ma(e)}function Wc(t){return j(t)?null:Sr(t).split(/(\s+)/).filter(e=>bi(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Ar(t){var e="";return Ns(t)&&!Uc(t)&&t.childNodes&&t.childNodes.length&&G(t.childNodes,function(i){var n;qc(i)&&i.textContent&&(e+=(n=Wc(i.textContent))!==null&&n!==void 0?n:"")}),Sr(e)}function Hc(t){return k(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var Ls=["a","button","form","input","select","textarea","label"];function zc(t){var e=t.parentNode;return!(!e||!Tr(e))&&e}function Am(t,e,i,n,r){var s,a,o;if(i===void 0&&(i=void 0),!v||!t||Pt(t,"html")||!Tr(t)||(s=i)!=null&&s.url_allowlist&&!Qo(i.url_allowlist)||(a=i)!=null&&a.url_ignorelist&&Qo(i.url_ignorelist))return!1;if((o=i)!=null&&o.dom_event_allowlist){var l=i.dom_event_allowlist;if(l&&!l.some(b=>e.type===b))return!1}for(var u=!1,c=[t],d=!0,h=t;h.parentNode&&!Pt(h,"body");)if(jc(h.parentNode))c.push(h.parentNode.host),h=h.parentNode.host;else{if(!(d=zc(h)))break;if(n||Ls.indexOf(d.tagName.toLowerCase())>-1)u=!0;else{var f=v.getComputedStyle(d);f&&f.getPropertyValue("cursor")==="pointer"&&(u=!0)}c.push(d),h=d}if(!function(b,m){var y=m==null?void 0:m.element_allowlist;if(k(y))return!0;var w=function(C){if(y.some(R=>C.tagName.toLowerCase()===R))return{v:!0}};for(var T of b){var S=w(T);if(typeof S=="object")return S.v}return!1}(c,i)||!function(b,m){var y=m==null?void 0:m.css_selector_allowlist;if(k(y))return!0;var w=function(C){if(y.some(R=>C.matches(R)))return{v:!0}};for(var T of b){var S=w(T);if(typeof S=="object")return S.v}return!1}(c,i))return!1;var g=v.getComputedStyle(t);if(g&&g.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var p=t.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(r||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(r||["change","click"]).indexOf(e.type)>=0;default:return u?(r||["click"]).indexOf(e.type)>=0:(r||["click"]).indexOf(e.type)>=0&&(Ls.indexOf(p)>-1||t.getAttribute("contenteditable")==="true")}}function Ns(t){for(var e=t;e.parentNode&&!Pt(e,"body");e=e.parentNode){var i=ar(e);if(N(i,"ph-sensitive")||N(i,"ph-no-capture"))return!1}if(N(ar(t),"ph-include"))return!0;var n=t.type||"";if(ae(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var r=t.name||t.id||"";return!(ae(r)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g,"")))}function Uc(t){return!!(Pt(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||Pt(t,"select")||Pt(t,"textarea")||t.getAttribute("contenteditable")==="true")}var Gc="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Fm=new RegExp("^(?:"+Gc+")$"),Mm=new RegExp(Gc),Kc="\\d{3}-?\\d{2}-?\\d{4}",Im=new RegExp("^("+Kc+")$"),Cm=new RegExp("("+Kc+")");function bi(t,e){return e===void 0&&(e=!0),!(j(t)||ae(t)&&(t=Sr(t),(e?Fm:Mm).test((t||"").replace(/[- ]/g,""))||(e?Im:Cm).test(t)))}function Yc(t){var e=Ar(t);return bi(e=(e+" "+Xc(t)).trim())?e:""}function Xc(t){var e="";return t&&t.childNodes&&t.childNodes.length&&G(t.childNodes,function(i){var n;if(i&&((n=i.tagName)==null?void 0:n.toLowerCase())==="span")try{var r=Ar(i);e=(e+" "+r).trim(),i.childNodes&&i.childNodes.length&&(e=(e+" "+Xc(i)).trim())}catch(s){M.error("[AutoCapture]",s)}}),e}function Pm(t){return function(e){var i=e.map(n=>{var r,s,a="";if(n.tag_name&&(a+=n.tag_name),n.attr_class)for(var o of(n.attr_class.sort(),n.attr_class))a+="."+o.replace(/"/g,"");var l=A({},n.text?{text:n.text}:{},{"nth-child":(r=n.nth_child)!==null&&r!==void 0?r:0,"nth-of-type":(s=n.nth_of_type)!==null&&s!==void 0?s:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return Wn(l).sort((c,d)=>{var[h]=c,[f]=d;return h.localeCompare(f)}).forEach(c=>{var[d,h]=c;return u[el(d.toString())]=el(h.toString())}),a+=":",a+=Wn(l).map(c=>{var[d,h]=c;return d+'="'+h+'"'}).join("")});return i.join(";")}(function(e){return e.map(i=>{var n,r,s={text:(n=i.$el_text)==null?void 0:n.slice(0,400),tag_name:i.tag_name,href:(r=i.attr__href)==null?void 0:r.slice(0,2048),attr_class:Rm(i),attr_id:i.attr__id,nth_child:i.nth_child,nth_of_type:i.nth_of_type,attributes:{}};return Wn(i).filter(a=>{var[o]=a;return o.indexOf("attr__")===0}).forEach(a=>{var[o,l]=a;return s.attributes[o]=l}),s})}(t))}function el(t){return t.replace(/"|\\"/g,'\\"')}function Rm(t){var e=t.attr__class;return e?te(e)?e:Ma(e):void 0}class Jc{constructor(){this.clicks=[]}isRageClick(e,i,n){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(i-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:i,timestamp:n}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:i,timestamp:n}];return!1}}var Om=["localhost","127.0.0.1"],wi=t=>{var e=F==null?void 0:F.createElement("a");return k(e)?null:(e.href=t,e)},$m=function(t,e){var i,n;e===void 0&&(e="&");var r=[];return G(t,function(s,a){k(s)||k(a)||a==="undefined"||(i=encodeURIComponent((o=>o instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(a),r[r.length]=n+"="+i)}),r.join(e)},or=function(t,e){for(var i,n=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),r=0;r<n.length;r++){var s=n[r].split("=");if(s[0]===e){i=s;break}}if(!te(i)||i.length<2)return"";var a=i[1];try{a=decodeURIComponent(a)}catch{M.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Ia=function(t,e,i){if(!t||!e||!e.length)return t;for(var n=t.split("#"),r=n[0]||"",s=n[1],a=r.split("?"),o=a[1],l=a[0],u=(o||"").split("&"),c=[],d=0;d<u.length;d++){var h=u[d].split("=");te(h)&&(e.includes(h[0])?c.push(h[0]+"="+i):c.push(u[d]))}var f=l;return o!=null&&(f+="?"+c.join("&")),s!=null&&(f+="#"+s),f},lr=function(t,e){var i=t.match(new RegExp(e+"=([^&]*)"));return i?i[1]:null},tl=we("[AutoCapture]");function Br(t,e){return e.length>t?e.slice(0,t)+"...":e}function Dm(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Tr(e));return e}function Lm(t,e,i,n){var r=t.tagName.toLowerCase(),s={tag_name:r};Ls.indexOf(r)>-1&&!i&&(r.toLowerCase()==="a"||r.toLowerCase()==="button"?s.$el_text=Br(1024,Yc(t)):s.$el_text=Br(1024,Ar(t)));var a=ar(t);a.length>0&&(s.classes=a.filter(function(c){return c!==""})),G(t.attributes,function(c){var d;if((!Uc(t)||["name","id","class","aria-label"].indexOf(c.name)!==-1)&&(n==null||!n.includes(c.name))&&!e&&bi(c.value)&&(d=c.name,!ae(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){var h=c.value;c.name==="class"&&(h=Ma(h).join(" ")),s["attr__"+c.name]=Br(1024,h)}});for(var o=1,l=1,u=t;u=Dm(u);)o++,u.tagName===t.tagName&&l++;return s.nth_child=o,s.nth_of_type=l,s}function Nm(t,e){for(var i,n,{e:r,maskAllElementAttributes:s,maskAllText:a,elementAttributeIgnoreList:o,elementsChainAsString:l}=e,u=[t],c=t;c.parentNode&&!Pt(c,"body");)jc(c.parentNode)?(u.push(c.parentNode.host),c=c.parentNode.host):(u.push(c.parentNode),c=c.parentNode);var d,h=[],f={},g=!1,p=!1;if(G(u,T=>{var S=Ns(T);T.tagName.toLowerCase()==="a"&&(g=T.getAttribute("href"),g=S&&g&&bi(g)&&g),N(ar(T),"ph-no-capture")&&(p=!0),h.push(Lm(T,s,a,o));var C=function(R){if(!Ns(R))return{};var x={};return G(R.attributes,function(P){if(P.name&&P.name.indexOf("data-ph-capture-attribute")===0){var B=P.name.replace("data-ph-capture-attribute-",""),z=P.value;B&&z&&bi(z)&&(x[B]=z)}}),x}(T);se(f,C)}),p)return{props:{},explicitNoCapture:p};if(a||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?h[0].$el_text=Yc(t):h[0].$el_text=Ar(t)),g){var b,m;h[0].attr__href=g;var y=(b=wi(g))==null?void 0:b.host,w=v==null||(m=v.location)==null?void 0:m.host;y&&w&&y!==w&&(d=g)}return{props:se({$event_type:r.type,$ce_version:1},l?{}:{$elements:h},{$elements_chain:Pm(h)},(i=h[0])!=null&&i.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},d&&r.type==="click"?{$external_click_url:d}:{},f)}}class Vm{constructor(e){this.i=!1,this.o=null,this.rageclicks=new Jc,this.h=!1,this.instance=e,this.m=null}get S(){var e,i,n=ie(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(e=n.url_allowlist)==null?void 0:e.map(r=>new RegExp(r)),n.url_ignorelist=(i=n.url_ignorelist)==null?void 0:i.map(r=>new RegExp(r)),n}$(){if(this.isBrowserSupported()){if(v&&F){var e=n=>{n=n||(v==null?void 0:v.event);try{this.k(n)}catch(r){tl.error("Failed to capture event",r)}};if(Z(F,"submit",e,{capture:!0}),Z(F,"change",e,{capture:!0}),Z(F,"click",e,{capture:!0}),this.S.capture_copied_text){var i=n=>{n=n||(v==null?void 0:v.event),this.k(n,Vr)};Z(F,"copy",i,{capture:!0}),Z(F,"cut",i,{capture:!0})}}}else tl.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Bo]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var i,n=[];return(i=this.m)==null||i.forEach(r=>{var s=F==null?void 0:F.querySelectorAll(r);s==null||s.forEach(a=>{e===a&&n.push(r)})}),n}get isEnabled(){var e,i,n=(e=this.instance.persistence)==null?void 0:e.props[Bo],r=this.o;if(Dt(r)&&!mt(n)&&!this.instance.config.advanced_disable_decide)return!1;var s=(i=this.o)!==null&&i!==void 0?i:!!n;return!!this.instance.config.autocapture&&!s}k(e,i){if(i===void 0&&(i="$autocapture"),this.isEnabled){var n,r=Hc(e);qc(r)&&(r=r.parentNode||null),i==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.k(e,"$rageclick");var s=i===Vr;if(r&&Am(r,e,this.S,s,s?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:o}=Nm(r,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(o)return!1;var l=this.getElementSelectors(r);if(l&&l.length>0&&(a.$element_selectors=l),i===Vr){var u,c=Wc(v==null||(u=v.getSelection())==null?void 0:u.toString()),d=e.type||"clipboard";if(!c)return!1;a.$selected_content=c,a.$copy_type=d}return this.instance.capture(i,a),!0}}}isBrowserSupported(){return ze(F==null?void 0:F.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return ye(t)&&isFinite(t)&&Math.floor(t)===t});var il="0123456789abcdef";class ur{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,i,n,r){if(!Number.isInteger(e)||!Number.isInteger(i)||!Number.isInteger(n)||!Number.isInteger(r)||e<0||i<0||n<0||r<0||e>0xffffffffffff||i>4095||n>1073741823||r>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=e/Math.pow(2,40),s[1]=e/Math.pow(2,32),s[2]=e/Math.pow(2,24),s[3]=e/Math.pow(2,16),s[4]=e/Math.pow(2,8),s[5]=e,s[6]=112|i>>>8,s[7]=i,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new ur(s)}toString(){for(var e="",i=0;i<this.bytes.length;i++)e=e+il.charAt(this.bytes[i]>>>4)+il.charAt(15&this.bytes[i]),i!==3&&i!==5&&i!==7&&i!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new ur(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var i=0;i<16;i++){var n=this.bytes[i]-e.bytes[i];if(n!==0)return Math.sign(n)}return 0}}class Bm{constructor(){this.I=0,this.P=0,this.R=new qm}generate(){var e=this.generateOrAbort();if(k(e)){this.I=0;var i=this.generateOrAbort();if(k(i))throw new Error("Could not generate UUID after timestamp reset");return i}return e}generateOrAbort(){var e=Date.now();if(e>this.I)this.I=e,this.T();else{if(!(e+1e4>this.I))return;this.P++,this.P>4398046511103&&(this.I++,this.T())}return ur.fromFieldsV7(this.I,Math.trunc(this.P/Math.pow(2,30)),this.P&Math.pow(2,30)-1,this.R.nextUint32())}T(){this.P=1024*this.R.nextUint32()+(1023&this.R.nextUint32())}}var nl,Zc=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};v&&!k(v.crypto)&&crypto.getRandomValues&&(Zc=t=>crypto.getRandomValues(t));class qm{constructor(){this.M=new Uint32Array(8),this.C=1/0}nextUint32(){return this.C>=this.M.length&&(Zc(this.M),this.C=0),this.M[this.C++]}}var It=()=>jm().toString(),jm=()=>(nl||(nl=new Bm)).generate(),Wm="Thu, 01 Jan 1970 00:00:00 GMT",Di="",Hm=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function zm(t,e){if(e){var i=function(r,s){if(s===void 0&&(s=F),Di)return Di;if(!s||["localhost","127.0.0.1"].includes(r))return"";for(var a=r.split("."),o=Math.min(a.length,8),l="dmn_chk_"+It(),u=new RegExp("(^|;)\\s*"+l+"=1");!Di&&o--;){var c=a.slice(o).join("."),d=l+"=1;domain=."+c;s.cookie=d,u.test(s.cookie)&&(s.cookie=d+";expires="+Wm,Di=c)}return Di}(t);if(!i){var n=(r=>{var s=r.match(Hm);return s?s[0]:""})(t);n!==i&&M.info("Warning: cookie subdomain discovery mismatch",n,i),i=n}return i?"; domain=."+i:""}return""}var At,yt={O:()=>!!F,F:function(t){M.error("cookieStore error: "+t)},A:function(t){if(F){try{for(var e=t+"=",i=F.cookie.split(";").filter(s=>s.length),n=0;n<i.length;n++){for(var r=i[n];r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return decodeURIComponent(r.substring(e.length,r.length))}}catch{}return null}},D:function(t){var e;try{e=JSON.parse(yt.A(t))||{}}catch{}return e},j:function(t,e,i,n,r){if(F)try{var s="",a="",o=zm(F.location.hostname,n);if(i){var l=new Date;l.setTime(l.getTime()+24*i*60*60*1e3),s="; expires="+l.toUTCString()}r&&(a="; secure");var u=t+"="+encodeURIComponent(JSON.stringify(e))+s+"; SameSite=Lax; path=/"+o+a;return u.length>3686.4&&M.warn("cookieStore warning: large cookie, len="+u.length),F.cookie=u,u}catch{return}},L:function(t,e){try{yt.j(t,"",-1,e)}catch{return}}},qr=null,ce={O:function(){if(!Dt(qr))return qr;var t=!0;if(k(v))t=!1;else try{var e="__mplssupport__";ce.j(e,"xyz"),ce.A(e)!=='"xyz"'&&(t=!1),ce.L(e)}catch{t=!1}return t||M.error("localStorage unsupported; falling back to cookie store"),qr=t,t},F:function(t){M.error("localStorage error: "+t)},A:function(t){try{return v==null?void 0:v.localStorage.getItem(t)}catch(e){ce.F(e)}return null},D:function(t){try{return JSON.parse(ce.A(t))||{}}catch{}return null},j:function(t,e){try{v==null||v.localStorage.setItem(t,JSON.stringify(e))}catch(i){ce.F(i)}},L:function(t){try{v==null||v.localStorage.removeItem(t)}catch(e){ce.F(e)}}},Um=["distinct_id",nr,Hi,sr,Ds],Fn=A({},ce,{D:function(t){try{var e={};try{e=yt.D(t)||{}}catch{}var i=se(e,JSON.parse(ce.A(t)||"{}"));return ce.j(t,i),i}catch{}return null},j:function(t,e,i,n,r,s){try{ce.j(t,e,void 0,void 0,s);var a={};Um.forEach(o=>{e[o]&&(a[o]=e[o])}),Object.keys(a).length&&yt.j(t,a,i,n,r,s)}catch(o){ce.F(o)}},L:function(t,e){try{v==null||v.localStorage.removeItem(t),yt.L(t,e)}catch(i){ce.F(i)}}}),Mn={},Gm={O:function(){return!0},F:function(t){M.error("memoryStorage error: "+t)},A:function(t){return Mn[t]||null},D:function(t){return Mn[t]||null},j:function(t,e){Mn[t]=e},L:function(t){delete Mn[t]}},Lt=null,fe={O:function(){if(!Dt(Lt))return Lt;if(Lt=!0,k(v))Lt=!1;else try{var t="__support__";fe.j(t,"xyz"),fe.A(t)!=='"xyz"'&&(Lt=!1),fe.L(t)}catch{Lt=!1}return Lt},F:function(t){M.error("sessionStorage error: ",t)},A:function(t){try{return v==null?void 0:v.sessionStorage.getItem(t)}catch(e){fe.F(e)}return null},D:function(t){try{return JSON.parse(fe.A(t))||null}catch{}return null},j:function(t,e){try{v==null||v.sessionStorage.setItem(t,JSON.stringify(e))}catch(i){fe.F(i)}},L:function(t){try{v==null||v.sessionStorage.removeItem(t)}catch(e){fe.F(e)}}};(function(t){t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED"})(At||(At={}));class Km{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.N()?At.DENIED:this.U}isOptedOut(){return this.consent===At.DENIED||this.consent===At.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.q.j(this.B,e?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.q.L(this.B,this.S.cross_subdomain_cookie)}get B(){var{token:e,opt_out_capturing_cookie_prefix:i}=this._instance.config;return(i||"__ph_opt_in_out_")+e}get U(){var e=this.q.A(this.B);return e==="1"?At.GRANTED:e==="0"?At.DENIED:At.PENDING}get q(){if(!this.H){var e=this.S.opt_out_capturing_persistence_type;this.H=e==="localStorage"?ce:yt;var i=e==="localStorage"?yt:ce;i.A(this.B)&&(this.H.A(this.B)||this.optInOut(i.A(this.B)==="1"),i.L(this.B,this.S.cross_subdomain_cookie))}return this.H}N(){return!!this.S.respect_dnt&&!!Lc([Ve==null?void 0:Ve.doNotTrack,Ve==null?void 0:Ve.msDoNotTrack,L.doNotTrack],e=>N([!0,1,"1","yes"],e))}}var In=we("[Dead Clicks]"),Ym=()=>!0,Xm=t=>{var e,i=!((e=t.instance.persistence)==null||!e.get_property(Vc)),n=t.instance.config.capture_dead_clicks;return mt(n)?n:i};class Qc{get lazyLoadedDeadClicksAutocapture(){return this.W}constructor(e,i,n){this.instance=e,this.isEnabled=i,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[Vc]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.G(()=>{this.J()})}G(e){var i,n;(i=L.__PosthogExtensions__)!=null&&i.initDeadClicksAutocapture&&e(),(n=L.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",r=>{r?In.error("failed to load script",r):e()})}J(){var e;if(F){if(!this.W&&(e=L.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var i=ie(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};i.__onCapture=this.onCapture,this.W=L.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,i),this.W.start(F),In.info("starting...")}}else In.error("`document` not found. Cannot start.")}stop(){this.W&&(this.W.stop(),this.W=void 0,In.info("stopping..."))}}var jr=we("[ExceptionAutocapture]");class Jm{constructor(e){var i;this.V=()=>{var n;if(v&&this.isEnabled&&(n=L.__PosthogExtensions__)!=null&&n.errorWrappingFunctions){var r=L.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,s=L.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,a=L.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.K&&this.S.capture_unhandled_errors&&(this.K=r(this.captureException.bind(this))),!this.Y&&this.S.capture_unhandled_rejections&&(this.Y=s(this.captureException.bind(this))),!this.X&&this.S.capture_console_errors&&(this.X=a(this.captureException.bind(this)))}catch(o){jr.error("failed to start",o),this.Z()}}},this._instance=e,this.tt=!((i=this._instance.persistence)==null||!i.props[qo]),this.S=this.it(),this.startIfEnabled()}it(){var e=this._instance.config.capture_exceptions,i={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return ie(e)?i=A({},i,e):(k(e)?this.tt:e)&&(i=A({},i,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),i}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(jr.info("enabled"),this.G(this.V))}G(e){var i,n;(i=L.__PosthogExtensions__)!=null&&i.errorWrappingFunctions&&e(),(n=L.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",r=>{if(r)return jr.error("failed to load script",r);e()})}Z(){var e,i,n;(e=this.K)==null||e.call(this),this.K=void 0,(i=this.Y)==null||i.call(this),this.Y=void 0,(n=this.X)==null||n.call(this),this.X=void 0}onRemoteConfig(e){var i=e.autocaptureExceptions;this.tt=!!i||!1,this.S=this.it(),this._instance.persistence&&this._instance.persistence.register({[qo]:this.tt}),this.startIfEnabled()}captureException(e){var i=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=i+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id(),this._instance.exceptions.sendExceptionEvent(e)}}function eh(t){return!k(Event)&&th(t,Event)}function th(t,e){try{return t instanceof e}catch{return!1}}function ih(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return th(t,Error)}}function zn(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function Wr(t){return zn(t,"DOMError")}var rl=/\(error: (.*)\)/,sl=50,hi="?";function Hr(t,e,i,n){var r={platform:"web:javascript",filename:t,function:e==="<anonymous>"?hi:e,in_app:!0};return k(i)||(r.lineno=i),k(n)||(r.colno=n),r}var Zm=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Qm=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,e_=/\((\S*)(?::(\d+))(?::(\d+))\)/,t_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,i_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,n_=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.sort((r,s)=>r[0]-s[0]).map(r=>r[1]);return function(r,s){s===void 0&&(s=0);for(var a=[],o=r.split(`
`),l=s;l<o.length;l++){var u=o[l];if(!(u.length>1024)){var c=rl.test(u)?u.replace(rl,"$1"):u;if(!c.match(/\S*Error: /)){for(var d of n){var h=d(c);if(h){a.push(h);break}}if(a.length>=sl)break}}}return function(f){if(!f.length)return[];var g=Array.from(f);return g.reverse(),g.slice(0,sl).map(p=>A({},p,{filename:p.filename||r_(g).filename,function:p.function||hi}))}(a)}}([30,t=>{var e=Zm.exec(t);if(e){var[,i,n,r]=e;return Hr(i,hi,+n,+r)}var s=Qm.exec(t);if(s){if(s[2]&&s[2].indexOf("eval")===0){var a=e_.exec(s[2]);a&&(s[2]=a[1],s[3]=a[2],s[4]=a[3])}var[o,l]=ol(s[1]||hi,s[2]);return Hr(l,o,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,t=>{var e=t_.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var i=i_.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}var n=e[3],r=e[1]||hi;return[r,n]=ol(r,n),Hr(n,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function r_(t){return t[t.length-1]||{}}var Cn,al,zr,ol=(t,e)=>{var i=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return i||n?[t.indexOf("@")!==-1?t.split("@")[0]:hi,i?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},s_=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Ca(t,e){e===void 0&&(e=0);var i=t.stacktrace||t.stack||"",n=function(a){return a&&a_.test(a.message)?1:0}(t);try{var r=n_,s=function(a,o){var l=function(u){var c=globalThis._posthogChunkIds;if(!c)return{};var d=Object.keys(c);return zr&&d.length===al||(al=d.length,zr=d.reduce((h,f)=>{Cn||(Cn={});var g=Cn[f];if(g)h[g[0]]=g[1];else for(var p=u(f),b=p.length-1;b>=0;b--){var m=p[b],y=m==null?void 0:m.filename,w=c[f];if(y&&w){h[y]=w,Cn[f]=[y,w];break}}return h},{})),zr}(o);return a.forEach(u=>{u.filename&&(u.chunk_id=l[u.filename])}),a}(r(i,n),r);return s.slice(0,s.length-e)}catch{}return[]}var a_=/Minified React error #\d+;/i;function o_(t,e){var i,n,r=Ca(t),s=(i=e==null?void 0:e.handled)===null||i===void 0||i,a=(n=e==null?void 0:e.synthetic)!==null&&n!==void 0&&n;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:t.name,value:function(o){var l=o.message;return l.error&&typeof l.error.message=="string"?String(l.error.message):String(l)}(t),stacktrace:{frames:r,type:"raw"},mechanism:{handled:s,synthetic:a}}}function nh(t,e){var i=o_(t,e);return t.cause&&ih(t.cause)&&t.cause!==t?[i,...nh(t.cause,{handled:e==null?void 0:e.handled,synthetic:e==null?void 0:e.synthetic})]:[i]}function Ur(t,e){return{$exception_list:nh(t,e),$exception_level:"error"}}function Gr(t,e){var i,n,r,s=(i=e==null?void 0:e.handled)===null||i===void 0||i,a=(n=e==null?void 0:e.synthetic)===null||n===void 0||n,o={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(r=e==null?void 0:e.defaultExceptionType)!==null&&r!==void 0?r:"Error",value:t||(e==null?void 0:e.defaultExceptionMessage),mechanism:{handled:s,synthetic:a}};if(e!=null&&e.syntheticException){var l=Ca(e.syntheticException,1);l.length&&(o.stacktrace={frames:l,type:"raw"})}return{$exception_list:[o],$exception_level:"error"}}function l_(t){return ae(t)&&!ks(t)&&mm.indexOf(t)>=0}function u_(t,e){var i,n,r=(i=e==null?void 0:e.handled)===null||i===void 0||i,s=(n=e==null?void 0:e.synthetic)===null||n===void 0||n,a=e!=null&&e.overrideExceptionType?e.overrideExceptionType:eh(t)?t.constructor.name:"Error",o="Non-Error 'exception' captured with keys: "+function(c,d){d===void 0&&(d=40);var h=Object.keys(c);if(h.sort(),!h.length)return"[object has no keys]";for(var f=h.length;f>0;f--){var g=h.slice(0,f).join(", ");if(!(g.length>d))return f===h.length||g.length<=d?g:g.slice(0,d)+"..."}return""}(t),l={type:a,value:o,mechanism:{handled:r,synthetic:s}};if(e!=null&&e.syntheticException){var u=Ca(e==null?void 0:e.syntheticException,1);u.length&&(l.stacktrace={frames:u,type:"raw"})}return{$exception_list:[l],$exception_level:l_(t.level)?t.level:"error"}}function c_(t,e){var{error:i,event:n}=t,r={$exception_list:[]},s=i||n;if(Wr(s)||function(h){return zn(h,"DOMException")}(s)){var a=s;if(function(h){return"stack"in h}(s))r=Ur(s,e);else{var o=a.name||(Wr(a)?"DOMError":"DOMException"),l=a.message?o+": "+a.message:o;r=Gr(l,A({},e,{overrideExceptionType:Wr(a)?"DOMError":"DOMException",defaultExceptionMessage:l}))}return"code"in a&&(r.$exception_DOMException_code=""+a.code),r}if(function(h){return zn(h,"ErrorEvent")}(s)&&s.error)return Ur(s.error,e);if(ih(s))return Ur(s,e);if(function(h){return zn(h,"Object")}(s)||eh(s))return u_(s,e);if(k(i)&&ae(n)){var u="Error",c=n,d=n.match(s_);return d&&(u=d[1],c=d[2]),Gr(c,A({},e,{overrideExceptionType:u,defaultExceptionMessage:c}))}return Gr(s,e)}function ll(t,e,i){try{if(!(e in t))return()=>{};var n=t[e],r=i(n);return ze(r)&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=r,()=>{t[e]=n}}catch{return()=>{}}}class h_{constructor(e){var i;this._instance=e,this.et=(v==null||(i=v.location)==null?void 0:i.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(M.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.rt&&this.rt(),this.rt=void 0,M.info("History API monitoring stopped")}monitorHistoryChanges(){var e,i;if(v&&v.history){var n=this;(e=v.history.pushState)!=null&&e.__posthog_wrapped__||ll(v.history,"pushState",r=>function(s,a,o){r.call(this,s,a,o),n.st("pushState")}),(i=v.history.replaceState)!=null&&i.__posthog_wrapped__||ll(v.history,"replaceState",r=>function(s,a,o){r.call(this,s,a,o),n.st("replaceState")}),this.nt()}}st(e){try{var i,n=v==null||(i=v.location)==null?void 0:i.pathname;if(!n)return;n!==this.et&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.et=n}catch(r){M.error("Error capturing "+e+" pageview",r)}}nt(){if(!this.rt){var e=()=>{this.st("popstate")};Z(v,"popstate",e),this.rt=()=>{v&&v.removeEventListener("popstate",e)}}}}function cr(t){var e,i;return((e=JSON.stringify(t,(i=[],function(n,r){if(ie(r)){for(;i.length>0&&i[i.length-1]!==this;)i.pop();return i.includes(r)?"[Circular]":(i.push(r),r)}return r})))==null?void 0:e.length)||0}function Vs(t,e){if(e===void 0&&(e=66060288e-1),t.size>=e&&t.data.length>1){var i=Math.floor(t.data.length/2),n=t.data.slice(0,i),r=t.data.slice(i);return[Vs({size:cr(n),data:n,sessionId:t.sessionId,windowId:t.windowId}),Vs({size:cr(r),data:r,sessionId:t.sessionId,windowId:t.windowId})].flatMap(s=>s)}return[t]}var pt=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(pt||{}),Ye=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Ye||{}),Bs="[SessionRecording]",qs="redacted",Pn={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com"]},d_=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],f_=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],p_=["/s/","/e/","/i/"];function ul(t,e,i,n){if(j(t))return t;var r=(e==null?void 0:e["content-length"])||function(s){return new Blob([s]).size}(t);return ae(r)&&(r=parseInt(r)),r>i?Bs+" "+n+" body too large to record ("+r+" bytes)":t}function cl(t,e){if(j(t))return t;var i=t;return bi(i,!1)||(i=Bs+" "+e+" body "+qs),G(f_,n=>{var r,s;(r=i)!=null&&r.length&&((s=i)==null?void 0:s.indexOf(n))!==-1&&(i=Bs+" "+e+" body "+qs+" as might contain: "+n)}),i}var g_=(t,e)=>{var i,n,r,s={payloadSizeLimitBytes:Pn.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Pn.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...Pn.payloadHostDenyList]},a=t.session_recording.recordHeaders!==!1&&e.recordHeaders,o=t.session_recording.recordBody!==!1&&e.recordBody,l=t.capture_performance!==!1&&e.recordPerformance,u=(i=s,r=Math.min(1e6,(n=i.payloadSizeLimitBytes)!==null&&n!==void 0?n:1e6),h=>(h!=null&&h.requestBody&&(h.requestBody=ul(h.requestBody,h.requestHeaders,r,"Request")),h!=null&&h.responseBody&&(h.responseBody=ul(h.responseBody,h.responseHeaders,r,"Response")),h)),c=h=>{return u(((p,b)=>{var m,y=wi(p.name),w=b.indexOf("http")===0?(m=wi(b))==null?void 0:m.pathname:b;w==="/"&&(w="");var T=y==null?void 0:y.pathname.replace(w||"","");if(!(y&&T&&p_.some(S=>T.indexOf(S)===0)))return p})((g=(f=h).requestHeaders,j(g)||G(Object.keys(g??{}),p=>{d_.includes(p.toLowerCase())&&(g[p]=qs)}),f),t.api_host));var f,g},d=ze(t.session_recording.maskNetworkRequestFn);return d&&ze(t.session_recording.maskCapturedNetworkRequestFn)&&M.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(t.session_recording.maskCapturedNetworkRequestFn=h=>{var f=t.session_recording.maskNetworkRequestFn({url:h.name});return A({},h,{name:f==null?void 0:f.url})}),s.maskRequestFn=ze(t.session_recording.maskCapturedNetworkRequestFn)?h=>{var f,g=c(h);return g&&(f=t.session_recording.maskCapturedNetworkRequestFn==null?void 0:t.session_recording.maskCapturedNetworkRequestFn(g))!==null&&f!==void 0?f:void 0}:h=>function(f){if(!k(f))return f.requestBody=cl(f.requestBody,"Request"),f.responseBody=cl(f.responseBody,"Response"),f}(c(h)),A({},Pn,s,{recordHeaders:a,recordBody:o,recordPerformance:l,recordInitialRequests:l})};function He(t,e,i,n,r){return e>i&&(M.warn("min cannot be greater than max."),e=i),ye(t)?t>i?(n&&M.warn(n+" cannot be  greater than max: "+i+". Using max value instead."),i):t<e?(n&&M.warn(n+" cannot be less than min: "+e+". Using min value instead."),e):t:(n&&M.warn(n+" must be a number. using max or fallback. max: "+i+", fallback: "+r),He(r||i,e,i,n))}class v_{constructor(e,i){var n,r;i===void 0&&(i={}),this.ot=100,this.lt=10,this.ut={},this.ht={},this.dt=()=>{Object.keys(this.ut).forEach(s=>{this.ut[s]=this.ut[s]+this.lt,this.ut[s]>=this.ot&&delete this.ut[s]})},this.vt=s=>{var a=this._rrweb.mirror.getNode(s);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var o=a.closest("svg");if(o)return[this._rrweb.mirror.getId(o),o]}return[s,a]},this.ct=s=>{var a,o,l,u,c,d,h,f;return((a=(o=s.removes)==null?void 0:o.length)!==null&&a!==void 0?a:0)+((l=(u=s.attributes)==null?void 0:u.length)!==null&&l!==void 0?l:0)+((c=(d=s.texts)==null?void 0:d.length)!==null&&c!==void 0?c:0)+((h=(f=s.adds)==null?void 0:f.length)!==null&&h!==void 0?h:0)},this.throttleMutations=s=>{if(s.type!==3||s.data.source!==0)return s;var a=s.data,o=this.ct(a);a.attributes&&(a.attributes=a.attributes.filter(u=>{var c,d,h,[f,g]=this.vt(u.id);return this.ut[f]===0?!1:(this.ut[f]=(c=this.ut[f])!==null&&c!==void 0?c:this.ot,this.ut[f]=Math.max(this.ut[f]-1,0),this.ut[f]===0&&(this.ht[f]||(this.ht[f]=!0,(d=(h=this.ft).onBlockedNode)==null||d.call(h,f,g))),u)}));var l=this.ct(a);return l!==0||o===l?s:void 0},this._rrweb=e,this.ft=i,this.lt=He((n=this.ft.refillRate)!==null&&n!==void 0?n:this.lt,0,100,"mutation throttling refill rate"),this.ot=He((r=this.ft.bucketSize)!==null&&r!==void 0?r:this.ot,0,100,"mutation throttling bucket size"),setInterval(()=>{this.dt()},1e3)}}var Ue=Uint8Array,Pe=Uint16Array,xi=Uint32Array,Pa=new Ue([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ra=new Ue([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hl=new Ue([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rh=function(t,e){for(var i=new Pe(31),n=0;n<31;++n)i[n]=e+=1<<t[n-1];var r=new xi(i[30]);for(n=1;n<30;++n)for(var s=i[n];s<i[n+1];++s)r[s]=s-i[n]<<5|n;return[i,r]},sh=rh(Pa,2),m_=sh[0],js=sh[1];m_[28]=258,js[258]=28;for(var dl=rh(Ra,0)[1],ah=new Pe(32768),Y=0;Y<32768;++Y){var Nt=(43690&Y)>>>1|(21845&Y)<<1;Nt=(61680&(Nt=(52428&Nt)>>>2|(13107&Nt)<<2))>>>4|(3855&Nt)<<4,ah[Y]=((65280&Nt)>>>8|(255&Nt)<<8)>>>1}var Zi=function(t,e,i){for(var n=t.length,r=0,s=new Pe(e);r<n;++r)++s[t[r]-1];var a,o=new Pe(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;for(a=new Pe(n),r=0;r<n;++r)a[r]=ah[o[t[r]-1]++]>>>15-t[r];return a},Zt=new Ue(288);for(Y=0;Y<144;++Y)Zt[Y]=8;for(Y=144;Y<256;++Y)Zt[Y]=9;for(Y=256;Y<280;++Y)Zt[Y]=7;for(Y=280;Y<288;++Y)Zt[Y]=8;var hr=new Ue(32);for(Y=0;Y<32;++Y)hr[Y]=5;var __=Zi(Zt,9),y_=Zi(hr,5),oh=function(t){return(t/8>>0)+(7&t&&1)},lh=function(t,e,i){(i==null||i>t.length)&&(i=t.length);var n=new(t instanceof Pe?Pe:t instanceof xi?xi:Ue)(i-e);return n.set(t.subarray(e,i)),n},dt=function(t,e,i){i<<=7&e;var n=e/8>>0;t[n]|=i,t[n+1]|=i>>>8},Li=function(t,e,i){i<<=7&e;var n=e/8>>0;t[n]|=i,t[n+1]|=i>>>8,t[n+2]|=i>>>16},Kr=function(t,e){for(var i=[],n=0;n<t.length;++n)t[n]&&i.push({s:n,f:t[n]});var r=i.length,s=i.slice();if(!r)return[new Ue(0),0];if(r==1){var a=new Ue(i[0].s+1);return a[i[0].s]=1,[a,1]}i.sort(function(S,C){return S.f-C.f}),i.push({s:-1,f:25001});var o=i[0],l=i[1],u=0,c=1,d=2;for(i[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=r-1;)o=i[i[u].f<i[d].f?u++:d++],l=i[u!=c&&i[u].f<i[d].f?u++:d++],i[c++]={s:-1,f:o.f+l.f,l:o,r:l};var h=s[0].s;for(n=1;n<r;++n)s[n].s>h&&(h=s[n].s);var f=new Pe(h+1),g=Ws(i[c-1],f,0);if(g>e){n=0;var p=0,b=g-e,m=1<<b;for(s.sort(function(S,C){return f[C.s]-f[S.s]||S.f-C.f});n<r;++n){var y=s[n].s;if(!(f[y]>e))break;p+=m-(1<<g-f[y]),f[y]=e}for(p>>>=b;p>0;){var w=s[n].s;f[w]<e?p-=1<<e-f[w]++-1:++n}for(;n>=0&&p;--n){var T=s[n].s;f[T]==e&&(--f[T],++p)}g=e}return[new Ue(f),g]},Ws=function(t,e,i){return t.s==-1?Math.max(Ws(t.l,e,i+1),Ws(t.r,e,i+1)):e[t.s]=i},fl=function(t){for(var e=t.length;e&&!t[--e];);for(var i=new Pe(++e),n=0,r=t[0],s=1,a=function(l){i[n++]=l},o=1;o<=e;++o)if(t[o]==r&&o!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=t[o]}return[i.subarray(0,n),e]},Ni=function(t,e){for(var i=0,n=0;n<e.length;++n)i+=t[n]*e[n];return i},Hs=function(t,e,i){var n=i.length,r=oh(e+2);t[r]=255&n,t[r+1]=n>>>8,t[r+2]=255^t[r],t[r+3]=255^t[r+1];for(var s=0;s<n;++s)t[r+s+4]=i[s];return 8*(r+4+n)},pl=function(t,e,i,n,r,s,a,o,l,u,c){dt(e,c++,i),++r[256];for(var d=Kr(r,15),h=d[0],f=d[1],g=Kr(s,15),p=g[0],b=g[1],m=fl(h),y=m[0],w=m[1],T=fl(p),S=T[0],C=T[1],R=new Pe(19),x=0;x<y.length;++x)R[31&y[x]]++;for(x=0;x<S.length;++x)R[31&S[x]]++;for(var P=Kr(R,7),B=P[0],z=P[1],he=19;he>4&&!B[hl[he-1]];--he);var pe,$e,De,Qe,oe=u+5<<3,J=Ni(r,Zt)+Ni(s,hr)+a,xe=Ni(r,h)+Ni(s,p)+a+14+3*he+Ni(R,B)+(2*R[16]+3*R[17]+7*R[18]);if(oe<=J&&oe<=xe)return Hs(e,c,t.subarray(l,l+u));if(dt(e,c,1+(xe<J)),c+=2,xe<J){pe=Zi(h,f),$e=h,De=Zi(p,b),Qe=p;var Le=Zi(B,z);for(dt(e,c,w-257),dt(e,c+5,C-1),dt(e,c+10,he-4),c+=14,x=0;x<he;++x)dt(e,c+3*x,B[hl[x]]);c+=3*he;for(var Ke=[y,S],ne=0;ne<2;++ne){var _=Ke[ne];for(x=0;x<_.length;++x){var E=31&_[x];dt(e,c,Le[E]),c+=B[E],E>15&&(dt(e,c,_[x]>>>5&127),c+=_[x]>>>12)}}}else pe=__,$e=Zt,De=y_,Qe=hr;for(x=0;x<o;++x)if(n[x]>255){E=n[x]>>>18&31,Li(e,c,pe[E+257]),c+=$e[E+257],E>7&&(dt(e,c,n[x]>>>23&31),c+=Pa[E]);var I=31&n[x];Li(e,c,De[I]),c+=Qe[I],I>3&&(Li(e,c,n[x]>>>5&8191),c+=Ra[I])}else Li(e,c,pe[n[x]]),c+=$e[n[x]];return Li(e,c,pe[256]),c+$e[256]},b_=new xi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),w_=function(){for(var t=new xi(256),e=0;e<256;++e){for(var i=e,n=9;--n;)i=(1&i&&3988292384)^i>>>1;t[e]=i}return t}(),x_=function(){var t=4294967295;return{p:function(e){for(var i=t,n=0;n<e.length;++n)i=w_[255&i^e[n]]^i>>>8;t=i},d:function(){return 4294967295^t}}},S_=function(t,e,i,n,r){return function(s,a,o,l,u,c){var d=s.length,h=new Ue(l+d+5*(1+Math.floor(d/7e3))+u),f=h.subarray(l,h.length-u),g=0;if(!a||d<8)for(var p=0;p<=d;p+=65535){var b=p+65535;b<d?g=Hs(f,g,s.subarray(p,b)):(f[p]=c,g=Hs(f,g,s.subarray(p,d)))}else{for(var m=b_[a-1],y=m>>>13,w=8191&m,T=(1<<o)-1,S=new Pe(32768),C=new Pe(T+1),R=Math.ceil(o/3),x=2*R,P=function(ni){return(s[ni]^s[ni+1]<<R^s[ni+2]<<x)&T},B=new xi(25e3),z=new Pe(288),he=new Pe(32),pe=0,$e=0,De=(p=0,0),Qe=0,oe=0;p<d;++p){var J=P(p),xe=32767&p,Le=C[J];if(S[xe]=Le,C[J]=xe,Qe<=p){var Ke=d-p;if((pe>7e3||De>24576)&&Ke>423){g=pl(s,f,0,B,z,he,$e,De,oe,p-oe,g),De=pe=$e=0,oe=p;for(var ne=0;ne<286;++ne)z[ne]=0;for(ne=0;ne<30;++ne)he[ne]=0}var _=2,E=0,I=w,O=xe-Le&32767;if(Ke>2&&J==P(p-O))for(var D=Math.min(y,Ke)-1,V=Math.min(32767,p),W=Math.min(258,Ke);O<=V&&--I&&xe!=Le;){if(s[p+_]==s[p+_-O]){for(var U=0;U<W&&s[p+U]==s[p+U-O];++U);if(U>_){if(_=U,E=O,U>D)break;var de=Math.min(O,U-2),et=0;for(ne=0;ne<de;++ne){var tt=p-O+ne+32768&32767,xn=tt-S[tt]+32768&32767;xn>et&&(et=xn,Le=tt)}}}O+=(xe=Le)-(Le=S[xe])+32768&32767}if(E){B[De++]=268435456|js[_]<<18|dl[E];var ii=31&js[_],Sn=31&dl[E];$e+=Pa[ii]+Ra[Sn],++z[257+ii],++he[Sn],Qe=p+_,++pe}else B[De++]=s[p],++z[s[p]]}}g=pl(s,f,c,B,z,he,$e,De,oe,p-oe,g)}return lh(h,0,l+oh(g)+u)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,i,n,!0)},zs=function(t,e,i){for(;i;++e)t[e]=i,i>>>=8},E_=function(t,e){var i=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&zs(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),i){t[3]=8;for(var n=0;n<=i.length;++n)t[n+10]=i.charCodeAt(n)}},k_=function(t){return 10+(t.filename&&t.filename.length+1||0)};function uh(t,e){e===void 0&&(e={});var i=x_(),n=t.length;i.p(t);var r=S_(t,e,k_(e),8),s=r.length;return E_(r,e),zs(r,s-8,i.d()),zs(r,s-4,n),r}function ch(t,e){var i=t.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var n=new Ue(t.length+(t.length>>>1)),r=0,s=function(u){n[r++]=u},a=0;a<i;++a){if(r+5>n.length){var o=new Ue(r+8+(i-a<<1));o.set(n),n=o}var l=t.charCodeAt(a);l<128||e?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++a))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return lh(n,0,r)}function T_(t,e){return function(i){for(var n=0,r=0;r<i.length;r++)n=(n<<5)-n+i.charCodeAt(r),n|=0;return Math.abs(n)}(t)%100<He(100*e,0,100)}var $t="disabled",Oa="sampled",dr="active",Qt="buffering",$a="paused",Da="trigger",lt=Da+"_activated",be=Da+"_pending",ht=Da+"_"+$t;function gl(t,e){return e.some(i=>i.matching==="regex"&&new RegExp(i.url).test(t))}class hh{constructor(e){this.gt=e}triggerStatus(e){var i=this.gt.map(n=>n.triggerStatus(e));return i.includes(lt)?lt:i.includes(be)?be:ht}stop(){this.gt.forEach(e=>e.stop())}}class dh{constructor(e){this.gt=e}triggerStatus(e){var i=new Set;for(var n of this.gt)i.add(n.triggerStatus(e));switch(i.delete(ht),i.size){case 0:return ht;case 1:return Array.from(i)[0];default:return be}}stop(){this.gt.forEach(e=>e.stop())}}class A_{triggerStatus(){return be}stop(){}}class F_{constructor(e){this._t=[],this.bt=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var i,n;this._t=((i=e.sessionRecording)==null?void 0:i.urlTriggers)||[],this.bt=((n=e.sessionRecording)==null?void 0:n.urlBlocklist)||[]}wt(e){var i;return this._t.length===0?ht:((i=this._instance)==null?void 0:i.get_property(Fs))===e?lt:be}triggerStatus(e){var i=this.wt(e),n=i===lt?lt:i===be?be:ht;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:n}),n}checkUrlTriggerConditions(e,i,n){if(v!==void 0&&v.location.href){var r=v.location.href,s=this.urlBlocked,a=gl(r,this.bt);s&&a||(a&&!s?e():!a&&s&&i(),gl(r,this._t)&&n("url"))}}stop(){}}class M_{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.yt=()=>{},this._instance=e}triggerStatus(){var e=be;return j(this.linkedFlag)&&(e=ht),this.linkedFlagSeen&&(e=lt),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,i){var n;if(this.linkedFlag=((n=e.sessionRecording)==null?void 0:n.linkedFlag)||null,!j(this.linkedFlag)&&!this.linkedFlagSeen){var r=ae(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,s=ae(this.linkedFlag)?null:this.linkedFlag.variant;this.yt=this._instance.onFeatureFlags((a,o)=>{var l=ie(o)&&r in o&&(s?o[r]===s:o[r]===!0);l&&i(r,s),this.linkedFlagSeen=l})}}stop(){this.yt()}}class I_{constructor(e){this.St=[],this._instance=e}onRemoteConfig(e){var i;this.St=((i=e.sessionRecording)==null?void 0:i.eventTriggers)||[]}$t(e){var i;return this.St.length===0?ht:((i=this._instance)==null?void 0:i.get_property(Ms))===e?lt:be}triggerStatus(e){var i=this.$t(e),n=i===lt?lt:i===be?be:ht;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:n}),n}stop(){}}function C_(t){return t.isRecordingEnabled?Qt:$t}function P_(t){if(!t.receivedDecide)return Qt;if(!t.isRecordingEnabled)return $t;if(t.urlTriggerMatching.urlBlocked)return $a;var e=t.isSampled===!0,i=new hh([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return e?Oa:i===lt?dr:i===be?Qt:t.isSampled===!1?$t:dr}function R_(t){if(!t.receivedDecide)return Qt;if(!t.isRecordingEnabled)return $t;if(t.urlTriggerMatching.urlBlocked)return $a;var e=new dh([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),i=e!==ht,n=mt(t.isSampled);return i&&e===be?Qt:i&&e===ht||n&&!t.isSampled?$t:t.isSampled===!0?Oa:dr}var Ui="[SessionRecording]",ge=we(Ui);function Rn(){var t,e;return L==null||(t=L.__PosthogExtensions__)==null||(e=t.rrweb)==null?void 0:e.record}var O_=3e5,$_=[Ye.MouseMove,Ye.MouseInteraction,Ye.Scroll,Ye.ViewportResize,Ye.Input,Ye.TouchMove,Ye.MediaInteraction,Ye.Drag],vl=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function Vt(t){return function(e,i){for(var n="",r=0;r<e.length;){var s=e[r++];n+=String.fromCharCode(s)}return n}(uh(ch(JSON.stringify(t))))}function ml(t){return t.type===pt.Custom&&t.data.tag==="sessionIdle"}class D_{get sessionId(){return this.kt}get xt(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Et}get It(){if(!this._instance.sessionManager)throw new Error(Ui+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Pt(){var e,i;return this.Rt.triggerStatus(this.sessionId)===be?6e4:(e=(i=this._instance.config.session_recording)==null?void 0:i.full_snapshot_interval_millis)!==null&&e!==void 0?e:O_}get Tt(){var e=this._instance.get_property(Hi);return mt(e)?e:null}get Mt(){var e,i,n=(e=this.M)==null?void 0:e.data[((i=this.M)==null?void 0:i.data.length)-1],{sessionStartTimestamp:r}=this.It.checkAndGetSessionAndWindowId(!0);return n?n.timestamp-r:null}get Ct(){var e=!!this._instance.get_property(As),i=!this._instance.config.disable_session_recording;return v&&e&&i}get Ot(){var e=!!this._instance.get_property(Ho),i=this._instance.config.enable_recording_console_log;return i??e}get Ft(){var e,i,n,r,s,a,o=this._instance.config.session_recording.captureCanvas,l=this._instance.get_property(Go),u=(e=(i=o==null?void 0:o.recordCanvas)!==null&&i!==void 0?i:l==null?void 0:l.enabled)!==null&&e!==void 0&&e,c=(n=(r=o==null?void 0:o.canvasFps)!==null&&r!==void 0?r:l==null?void 0:l.fps)!==null&&n!==void 0?n:4,d=(s=(a=o==null?void 0:o.canvasQuality)!==null&&a!==void 0?a:l==null?void 0:l.quality)!==null&&s!==void 0?s:.4;if(typeof d=="string"){var h=parseFloat(d);d=isNaN(h)?.4:h}return{enabled:u,fps:He(c,0,12,"canvas recording fps",4),quality:He(d,0,1,"canvas recording quality",.4)}}get At(){var e,i,n=this._instance.get_property(zo),r={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(i=this._instance.config.session_recording)==null?void 0:i.recordBody},s=(r==null?void 0:r.recordHeaders)||(n==null?void 0:n.recordHeaders),a=(r==null?void 0:r.recordBody)||(n==null?void 0:n.recordBody),o=ie(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,l=!!(mt(o)?o:n!=null&&n.capturePerformance);return s||a||l?{recordHeaders:s,recordBody:a,recordPerformance:l}:void 0}get Dt(){var e,i,n,r,s,a,o=this._instance.get_property(Uo),l={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(i=this._instance.config.session_recording)==null?void 0:i.maskTextSelector,blockSelector:(n=this._instance.config.session_recording)==null?void 0:n.blockSelector},u=(r=l==null?void 0:l.maskAllInputs)!==null&&r!==void 0?r:o==null?void 0:o.maskAllInputs,c=(s=l==null?void 0:l.maskTextSelector)!==null&&s!==void 0?s:o==null?void 0:o.maskTextSelector,d=(a=l==null?void 0:l.blockSelector)!==null&&a!==void 0?a:o==null?void 0:o.blockSelector;return k(u)&&k(c)&&k(d)?void 0:{maskAllInputs:u==null||u,maskTextSelector:c,blockSelector:d}}get jt(){var e=this._instance.get_property(Ko);return ye(e)?e:null}get Lt(){var e=this._instance.get_property(Yo);return ye(e)?e:null}get status(){return this.Nt?this.zt({receivedDecide:this.Nt,isRecordingEnabled:this.Ct,isSampled:this.Tt,urlTriggerMatching:this.Ut,eventTriggerMatching:this.qt,linkedFlagMatching:this.Bt,sessionId:this.sessionId}):Qt}constructor(e){if(this.zt=C_,this.Nt=!1,this.Ht=[],this.Wt="unknown",this.Gt=Date.now(),this.Rt=new A_,this.Jt=void 0,this.Vt=void 0,this.Kt=void 0,this.Yt=void 0,this.Xt=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.Qt=()=>{this.Zt()},this.ti=()=>{this.ii("browser offline",{})},this.ei=()=>{this.ii("browser online",{})},this.ri=()=>{if(F!=null&&F.visibilityState){var r="window "+F.visibilityState;this.ii(r,{})}},this._instance=e,this.Et=!1,this.si="/s/",this.ni=void 0,this.Nt=!1,!this._instance.sessionManager)throw ge.error("started without valid sessionManager"),new Error(Ui+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(Ui+" cannot be used with __preview_experimental_cookieless_mode.");this.Bt=new M_(this._instance),this.Ut=new F_(this._instance),this.qt=new I_(this._instance);var{sessionId:i,windowId:n}=this.It.checkAndGetSessionAndWindowId();this.kt=i,this.oi=n,this.M=this.ai(),this.xt>=this.It.sessionTimeoutMs&&ge.warn("session_idle_threshold_ms ("+this.xt+") is greater than the session timeout ("+this.It.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.Ct?(this.li(e),Z(v,"beforeunload",this.Qt),Z(v,"offline",this.ti),Z(v,"online",this.ei),Z(v,"visibilitychange",this.ri),this.ui(),this.hi(),j(this.Jt)&&(this.Jt=this._instance.on("eventCaptured",i=>{try{if(i.event==="$pageview"){var n=i!=null&&i.properties.$current_url?this.di(i==null?void 0:i.properties.$current_url):"";if(!n)return;this.ii("$pageview",{href:n})}}catch(r){ge.error("Could not add $pageview to rrweb session",r)}})),this.Vt||(this.Vt=this.It.onSessionId((i,n,r)=>{var s,a,o,l;r&&(this.ii("$session_id_change",{sessionId:i,windowId:n,changeReason:r}),(s=this._instance)==null||(a=s.persistence)==null||a.unregister(Ms),(o=this._instance)==null||(l=o.persistence)==null||l.unregister(Fs))}))):this.stopRecording()}stopRecording(){var e,i,n,r;this.Et&&this.ni&&(this.ni(),this.ni=void 0,this.Et=!1,v==null||v.removeEventListener("beforeunload",this.Qt),v==null||v.removeEventListener("offline",this.ti),v==null||v.removeEventListener("online",this.ei),v==null||v.removeEventListener("visibilitychange",this.ri),this.ai(),clearInterval(this.vi),(e=this.Jt)==null||e.call(this),this.Jt=void 0,(i=this.Xt)==null||i.call(this),this.Xt=void 0,(n=this.Vt)==null||n.call(this),this.Vt=void 0,(r=this.Yt)==null||r.call(this),this.Yt=void 0,this.qt.stop(),this.Ut.stop(),this.Bt.stop(),ge.info("stopped"))}ci(){var e;(e=this._instance.persistence)==null||e.unregister(Hi)}fi(e){var i,n=this.kt!==e,r=this.jt;if(ye(r)){var s=this.Tt,a=n||!mt(s),o=a?T_(e,r):s;a&&(o?this.pi(Oa):ge.warn("Sample rate ("+r+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ii("samplingDecisionMade",{sampleRate:r,isSampled:o})),(i=this._instance.persistence)==null||i.register({[Hi]:o})}else this.ci()}onRemoteConfig(e){var i,n,r,s;this.ii("$remote_config_received",e),this.gi(e),(i=e.sessionRecording)!=null&&i.endpoint&&(this.si=(s=e.sessionRecording)==null?void 0:s.endpoint),this.ui(),((n=e.sessionRecording)==null?void 0:n.triggerMatchType)==="any"?(this.zt=P_,this.Rt=new hh([this.qt,this.Ut])):(this.zt=R_,this.Rt=new dh([this.qt,this.Ut])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(r=e.sessionRecording)==null?void 0:r.triggerMatchType}),this.Ut.onRemoteConfig(e),this.qt.onRemoteConfig(e),this.Bt.onRemoteConfig(e,(a,o)=>{this.pi("linked_flag_matched",{flag:a,variant:o})}),this.Nt=!0,this.startIfEnabledOrStop()}ui(){ye(this.jt)&&j(this.Yt)&&(this.Yt=this.It.onSessionId(e=>{this.fi(e)}))}gi(e){if(this._instance.persistence){var i,n=this._instance.persistence,r=()=>{var s,a,o,l,u,c,d,h,f,g=(s=e.sessionRecording)==null?void 0:s.sampleRate,p=j(g)?null:parseFloat(g);j(p)&&this.ci();var b=(a=e.sessionRecording)==null?void 0:a.minimumDurationMilliseconds;n.register({[As]:!!e.sessionRecording,[Ho]:(o=e.sessionRecording)==null?void 0:o.consoleLogRecordingEnabled,[zo]:A({capturePerformance:e.capturePerformance},(l=e.sessionRecording)==null?void 0:l.networkPayloadCapture),[Uo]:(u=e.sessionRecording)==null?void 0:u.masking,[Go]:{enabled:(c=e.sessionRecording)==null?void 0:c.recordCanvas,fps:(d=e.sessionRecording)==null?void 0:d.canvasFps,quality:(h=e.sessionRecording)==null?void 0:h.canvasQuality},[Ko]:p,[Yo]:k(b)?null:b,[Xo]:(f=e.sessionRecording)==null?void 0:f.scriptConfig})};r(),(i=this.Kt)==null||i.call(this),this.Kt=this.It.onSessionId(r)}}log(e,i){var n;i===void 0&&(i="log"),(n=this._instance.sessionRecording)==null||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:i,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}li(e){if(!k(Object.assign)&&!k(Array.from)&&!(this.Et||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var i;this.Et=!0,this.It.checkAndGetSessionAndWindowId(),Rn()?this.mi():(i=L.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.bi,n=>{if(n)return ge.error("could not load recorder",n);this.mi()}),ge.info("starting"),this.status===dr&&this.pi(e||"recording_initialized")}}get bi(){var e,i,n;return((e=this._instance)==null||(i=e.persistence)==null||(n=i.get_property(Xo))==null?void 0:n.script)||"recorder"}wi(e){var i;return e.type===3&&$_.indexOf((i=e.data)==null?void 0:i.source)!==-1}yi(e){var i=this.wi(e);i||this.Wt||e.timestamp-this.Gt>this.xt&&(this.Wt=!0,clearInterval(this.vi),this.ii("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.Gt,threshold:this.xt,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.Zt());var n=!1;if(i&&(this.Gt=e.timestamp,this.Wt)){var r=this.Wt==="unknown";this.Wt=!1,r||(this.ii("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)}if(!this.Wt){var{windowId:s,sessionId:a}=this.It.checkAndGetSessionAndWindowId(!i,e.timestamp),o=this.kt!==a,l=this.oi!==s;this.oi=s,this.kt=a,o||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):n&&this.Si()}}$i(e){try{return e.rrwebMethod(),!0}catch(i){return this.Ht.length<10?this.Ht.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):ge.warn("could not emit queued rrweb event.",i,e),!1}}ii(e,i){return this.$i(vl(()=>Rn().addCustomEvent(e,i)))}ki(){return this.$i(vl(()=>Rn().takeFullSnapshot()))}mi(){var e,i,n,r,s={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},a=this._instance.config.session_recording;for(var[o,l]of Object.entries(a||{}))o in s&&(o==="maskInputOptions"?s.maskInputOptions=A({password:!0},l):s[o]=l);this.Ft&&this.Ft.enabled&&(s.recordCanvas=!0,s.sampling={canvas:this.Ft.fps},s.dataURLOptions={type:"image/webp",quality:this.Ft.quality}),this.Dt&&(s.maskAllInputs=(i=this.Dt.maskAllInputs)===null||i===void 0||i,s.maskTextSelector=(n=this.Dt.maskTextSelector)!==null&&n!==void 0?n:void 0,s.blockSelector=(r=this.Dt.blockSelector)!==null&&r!==void 0?r:void 0);var u=Rn();if(u){this.xi=(e=this.xi)!==null&&e!==void 0?e:new v_(u,{refillRate:this._instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this._instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(d,h)=>{var f="Too many mutations on node '"+d+"'. Rate limiting. This could be due to SVG animations or something similar";ge.info(f,{node:h}),this.log(Ui+" "+f,"warn")}});var c=this.Ei();this.ni=u(A({emit:d=>{this.onRRwebEmit(d)},plugins:c},s)),this.Gt=Date.now(),this.Wt=mt(this.Wt)?this.Wt:"unknown",this.ii("$session_options",{sessionRecordingOptions:s,activePlugins:c.map(d=>d==null?void 0:d.name)}),this.ii("$posthog_config",{config:this._instance.config})}else ge.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Si(){if(this.vi&&clearInterval(this.vi),this.Wt!==!0){var e=this.Pt;e&&(this.vi=setInterval(()=>{this.ki()},e))}}Ei(){var e,i,n,r,s=[],a=(e=L.__PosthogExtensions__)==null||(i=e.rrwebPlugins)==null?void 0:i.getRecordConsolePlugin;a&&this.Ot&&s.push(a());var o=(n=L.__PosthogExtensions__)==null||(r=n.rrwebPlugins)==null?void 0:r.getRecordNetworkPlugin;return this.At&&ze(o)&&(!Om.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(o(g_(this._instance.config,this.At))):ge.info("NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(e){var i;if(this.Ii(),e&&ie(e)){if(e.type===pt.Meta){var n=this.di(e.data.href);if(this.Pi=n,!n)return;e.data.href=n}else this.Ri();if(this.Ut.checkUrlTriggerConditions(()=>this.Ti(),()=>this.Mi(),h=>this.Ci(h)),!this.Ut.urlBlocked||(r=e).type===pt.Custom&&r.data.tag==="recording paused"){var r;e.type===pt.FullSnapshot&&this.Si(),e.type===pt.FullSnapshot&&this.Nt&&this.Rt.triggerStatus(this.sessionId)===be&&this.ai();var s=this.xi?this.xi.throttleMutations(e):e;if(s){var a=function(h){var f=h;if(f&&ie(f)&&f.type===6&&ie(f.data)&&f.data.plugin==="rrweb/console@1"){f.data.payload.payload.length>10&&(f.data.payload.payload=f.data.payload.payload.slice(0,10),f.data.payload.payload.push("...[truncated]"));for(var g=[],p=0;p<f.data.payload.payload.length;p++)f.data.payload.payload[p]&&f.data.payload.payload[p].length>2e3?g.push(f.data.payload.payload[p].slice(0,2e3)+"...[truncated]"):g.push(f.data.payload.payload[p]);return f.data.payload.payload=g,h}return h}(s);if(this.yi(a),this.Wt!==!0||ml(a)){if(ml(a)){var o=a.data.payload;if(o){var l=o.lastActivityTimestamp,u=o.threshold;a.timestamp=l+u}}var c=(i=this._instance.config.session_recording.compress_events)===null||i===void 0||i?function(h){if(cr(h)<1024)return h;try{if(h.type===pt.FullSnapshot)return A({},h,{data:Vt(h.data),cv:"2024-10"});if(h.type===pt.IncrementalSnapshot&&h.data.source===Ye.Mutation)return A({},h,{cv:"2024-10",data:A({},h.data,{texts:Vt(h.data.texts),attributes:Vt(h.data.attributes),removes:Vt(h.data.removes),adds:Vt(h.data.adds)})});if(h.type===pt.IncrementalSnapshot&&h.data.source===Ye.StyleSheetRule)return A({},h,{cv:"2024-10",data:A({},h.data,{adds:h.data.adds?Vt(h.data.adds):void 0,removes:h.data.removes?Vt(h.data.removes):void 0})})}catch(f){ge.error("could not compress event - will use uncompressed event",f)}return h}(a):a,d={$snapshot_bytes:cr(c),$snapshot_data:c,$session_id:this.kt,$window_id:this.oi};this.status!==$t?this.Oi(d):this.ai()}}}}}Ri(){if(!this._instance.config.capture_pageview&&v){var e=this.di(v.location.href);this.Pi!==e&&(this.ii("$url_changed",{href:e}),this.Pi=e)}}Ii(){if(this.Ht.length){var e=[...this.Ht];this.Ht=[],e.forEach(i=>{Date.now()-i.enqueuedAt<=2e3&&this.$i(i)})}}di(e){var i=this._instance.config.session_recording;if(i.maskNetworkRequestFn){var n,r={url:e};return(n=r=i.maskNetworkRequestFn(r))==null?void 0:n.url}return e}ai(){return this.M={size:0,data:[],sessionId:this.kt,windowId:this.oi},this.M}Zt(){this.Fi&&(clearTimeout(this.Fi),this.Fi=void 0);var e=this.Lt,i=this.Mt,n=ye(i)&&i>=0,r=ye(e)&&n&&i<e;return this.status===Qt||this.status===$a||this.status===$t||r?(this.Fi=setTimeout(()=>{this.Zt()},2e3),this.M):(this.M.data.length>0&&Vs(this.M).forEach(s=>{this.Ai({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId,$lib:"web",$lib_version:vt.LIB_VERSION})}),this.ai())}Oi(e){var i,n=2+(((i=this.M)==null?void 0:i.data.length)||0);!this.Wt&&(this.M.size+e.$snapshot_bytes+n>943718.4||this.M.sessionId!==this.kt)&&(this.M=this.Zt()),this.M.size+=e.$snapshot_bytes,this.M.data.push(e.$snapshot_data),this.Fi||this.Wt||(this.Fi=setTimeout(()=>{this.Zt()},2e3))}Ai(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.si),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}Ci(e){var i,n;this.Rt.triggerStatus(this.sessionId)===be&&((i=this._instance)==null||(n=i.persistence)==null||n.register({[e==="url"?Fs:Ms]:this.kt}),this.Zt(),this.pi(e+"_trigger_matched"))}Ti(){this.Ut.urlBlocked||(this.Ut.urlBlocked=!0,clearInterval(this.vi),ge.info("recording paused due to URL blocker"),this.ii("recording paused",{reason:"url blocker"}))}Mi(){this.Ut.urlBlocked&&(this.Ut.urlBlocked=!1,this.ki(),this.Si(),this.ii("recording resumed",{reason:"left blocked url"}),ge.info("recording resumed"))}hi(){this.qt.St.length!==0&&j(this.Xt)&&(this.Xt=this._instance.on("eventCaptured",e=>{try{this.qt.St.includes(e.event)&&this.Ci("event")}catch(i){ge.error("Could not activate event trigger",i)}}))}overrideLinkedFlag(){this.Bt.linkedFlagSeen=!0,this.ki(),this.pi("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[Hi]:!0}),this.ki(),this.pi("sampling_overridden")}overrideTrigger(e){this.Ci(e)}pi(e,i){this._instance.register_for_session({$session_recording_start_reason:e}),ge.info(e.replace("_"," "),i),N(["recording_initialized","session_id_changed"],e)||this.ii(e,i)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.It.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Mt,$sdk_debug_session_start:e}}}var Yr=we("[SegmentIntegration]");function L_(t,e){var i=t.config.segment;if(!i)return e();(function(n,r){var s=n.config.segment;if(!s)return r();var a=l=>{var u=()=>l.anonymousId()||It();n.config.get_device_id=u,l.id()&&(n.register({distinct_id:l.id(),$device_id:u()}),n.persistence.set_property(ft,"identified")),r()},o=s.user();"then"in o&&ze(o.then)?o.then(l=>a(l)):a(o)})(t,()=>{i.register((n=>{Promise&&Promise.resolve||Yr.warn("This browser does not have Promise support, and can not use the segment integration");var r=(s,a)=>{var o;if(!a)return s;s.event.userId||s.event.anonymousId===n.get_distinct_id()||(Yr.info("No userId set, resetting PostHog"),n.reset()),s.event.userId&&s.event.userId!==n.get_distinct_id()&&(Yr.info("UserId set, identifying with PostHog"),n.identify(s.event.userId));var l=n.Di(a,(o=s.event.properties)!==null&&o!==void 0?o:{},new Date);return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>r(s,s.event.event),page:s=>r(s,"$pageview"),identify:s=>r(s,"$identify"),screen:s=>r(s,"$screen")}})(t)).then(()=>{e()})})}var fh="posthog-js";function ph(t,e){var{organization:i,projectId:n,prefix:r,severityAllowList:s=["error"]}=e===void 0?{}:e;return a=>{var o,l,u,c,d;if(!(s==="*"||s.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var h=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());a.tags["PostHog Person URL"]=h,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var f=((o=a.exception)==null?void 0:o.values)||[],g=f.map(b=>A({},b,{stacktrace:b.stacktrace?A({},b.stacktrace,{type:"raw",frames:(b.stacktrace.frames||[]).map(m=>A({},m,{platform:"web:javascript"}))}):void 0})),p={$exception_message:((l=f[0])==null?void 0:l.value)||a.message,$exception_type:(u=f[0])==null?void 0:u.type,$exception_personURL:h,$exception_level:a.level,$exception_list:g,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((c=f[0])==null?void 0:c.value)||a.message,$sentry_exception_type:(d=f[0])==null?void 0:d.type,$sentry_tags:a.tags};return i&&n&&(p.$sentry_url=(r||"https://sentry.io/organizations/")+i+"/issues/?project="+n+"&query="+a.event_id),t.exceptions.sendExceptionEvent(p),a}}class N_{constructor(e,i,n,r,s){this.name=fh,this.setupOnce=function(a){a(ph(e,{organization:i,projectId:n,prefix:r,severityAllowList:s}))}}}var gt,V_=v!=null&&v.location?lr(v.location.hash,"__posthog")||lr(location.hash,"state"):null,_l="_postHogToolbarParams",yl=we("[Toolbar]");(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"})(gt||(gt={}));class B_{constructor(e){this.instance=e}ji(e){L.ph_toolbar_state=e}Li(){var e;return(e=L.ph_toolbar_state)!==null&&e!==void 0?e:gt.UNINITIALIZED}maybeLoadToolbar(e,i,n){var r,s;if(e===void 0&&(e=void 0),i===void 0&&(i=void 0),n===void 0&&(n=void 0),!v||!F)return!1;e=(r=e)!==null&&r!==void 0?r:v.location,n=(s=n)!==null&&s!==void 0?s:v.history;try{if(!i){try{v.localStorage.setItem("test","test"),v.localStorage.removeItem("test")}catch{return!1}i=v==null?void 0:v.localStorage}var a,o=V_||lr(e.hash,"__posthog")||lr(e.hash,"state"),l=o?Vo(()=>JSON.parse(atob(decodeURIComponent(o))))||Vo(()=>JSON.parse(decodeURIComponent(o))):null;return l&&l.action==="ph_authorize"?((a=l).source="url",a&&Object.keys(a).length>0&&(l.desiredHash?e.hash=l.desiredHash:n?n.replaceState(n.state,"",e.pathname+e.search):e.hash="")):((a=JSON.parse(i.getItem(_l)||"{}")).source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}Ni(e){var i=L.ph_load_toolbar||L.ph_load_editor;!j(i)&&ze(i)?i(e,this.instance):yl.warn("No toolbar load function found")}loadToolbar(e){var i=!(F==null||!F.getElementById(Bc));if(!v||i)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,r=A({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(v.localStorage.setItem(_l,JSON.stringify(A({},r,{source:void 0}))),this.Li()===gt.LOADED)this.Ni(r);else if(this.Li()===gt.UNINITIALIZED){var s;this.ji(gt.LOADING),(s=L.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",a=>{if(a)return yl.error("[Toolbar] Failed to load",a),void this.ji(gt.UNINITIALIZED);this.ji(gt.LOADED),this.Ni(r)}),Z(v,"turbolinks:load",()=>{this.ji(gt.UNINITIALIZED),this.loadToolbar(r)})}return!0}zi(e){return this.loadToolbar(e)}maybeLoadEditor(e,i,n){return e===void 0&&(e=void 0),i===void 0&&(i=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(e,i,n)}}var q_=we("[TracingHeaders]");class j_{constructor(e){this.Ui=void 0,this.qi=void 0,this.V=()=>{var i,n,r,s;k(this.Ui)&&((i=L.__PosthogExtensions__)==null||(n=i.tracingHeadersPatchFns)==null||n._patchXHR(this._instance.sessionManager)),k(this.qi)&&((r=L.__PosthogExtensions__)==null||(s=r.tracingHeadersPatchFns)==null||s._patchFetch(this._instance.sessionManager))},this._instance=e}G(e){var i,n;(i=L.__PosthogExtensions__)!=null&&i.tracingHeadersPatchFns&&e(),(n=L.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",r=>{if(r)return q_.error("failed to load script",r);e()})}startIfEnabledOrStop(){var e,i;this._instance.config.__add_tracing_headers?this.G(this.V):((e=this.Ui)==null||e.call(this),(i=this.qi)==null||i.call(this),this.Ui=void 0,this.qi=void 0)}}var St=we("[Web Vitals]"),bl=9e5;class W_{constructor(e){var i;this.Bi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Hi=()=>{clearTimeout(this.Wi),this.M.metrics.length!==0&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((n,r)=>A({},n,{["$web_vitals_"+r.name+"_event"]:A({},r),["$web_vitals_"+r.name+"_value"]:r.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Gi=n=>{var r,s=(r=this._instance.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0);if(k(s))St.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var a=this.Ji();k(a)||(j(n==null?void 0:n.name)||j(n==null?void 0:n.value)?St.error("Invalid metric received",n):this.Vi&&n.value>=this.Vi?St.error("Ignoring metric with value >= "+this.Vi,n):(this.M.url!==a&&(this.Hi(),this.Wi=setTimeout(this.Hi,this.flushToCaptureTimeoutMs)),k(this.M.url)&&(this.M.url=a),this.M.firstMetricTimestamp=k(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.M.metrics.push(A({},n,{$current_url:a,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Hi()))}},this.V=()=>{var n,r,s,a,o=L.__PosthogExtensions__;k(o)||k(o.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:r,onFCP:s,onINP:a}=o.postHogWebVitalsCallbacks),n&&r&&s&&a?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Gi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&r(this.Gi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Gi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&a(this.Gi.bind(this)),this.i=!0):St.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Bi=!((i=this._instance.persistence)==null||!i.props[jo]),this.startIfEnabled()}get allowedMetrics(){var e,i,n=ie(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return k(n)?((i=this._instance.persistence)==null?void 0:i.props[Wo])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(ie(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Vi(){var e=ie(this._instance.config.capture_performance)&&ye(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:bl;return 0<e&&e<=6e4?bl:e}get isEnabled(){var e=Me==null?void 0:Me.protocol;if(e!=="http:"&&e!=="https:")return St.info("Web Vitals are disabled on non-http/https protocols"),!1;var i=ie(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:mt(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return mt(i)?i:this.Bi}startIfEnabled(){this.isEnabled&&!this.i&&(St.info("enabled, starting..."),this.G(this.V))}onRemoteConfig(e){var i=ie(e.capturePerformance)&&!!e.capturePerformance.web_vitals,n=ie(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[jo]:i}),this._instance.persistence.register({[Wo]:n})),this.Bi=i,this.startIfEnabled()}G(e){var i,n;(i=L.__PosthogExtensions__)!=null&&i.postHogWebVitalsCallbacks&&e(),(n=L.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",r=>{r?St.error("failed to load script",r):e()})}Ji(){var e=v?v.location.href:void 0;return e||St.error("Could not determine current URL"),e}}var H_=we("[Heatmaps]");function wl(t){return ie(t)&&"clientX"in t&&"clientY"in t&&ye(t.clientX)&&ye(t.clientY)}class z_{constructor(e){var i;this.rageclicks=new Jc,this.Bi=!1,this.i=!1,this.Ki=null,this.instance=e,this.Bi=!((i=this.instance.persistence)==null||!i.props[Ts])}get flushIntervalMilliseconds(){var e=5e3;return ie(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return k(this.instance.config.capture_heatmaps)?k(this.instance.config.enable_heatmaps)?this.Bi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;H_.info("starting..."),this.Yi(),this.Ki=setInterval(this.Xi.bind(this),this.flushIntervalMilliseconds)}else{var e,i;clearInterval((e=this.Ki)!==null&&e!==void 0?e:void 0),(i=this.Qi)==null||i.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var i=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Ts]:i}),this.Bi=i,this.startIfEnabled()}getAndClearBuffer(){var e=this.M;return this.M=void 0,e}Zi(e){this.te(e.originalEvent,"deadclick")}Yi(){v&&F&&(Z(v,"beforeunload",this.Xi.bind(this)),Z(F,"click",e=>this.te(e||(v==null?void 0:v.event)),{capture:!0}),Z(F,"mousemove",e=>this.ie(e||(v==null?void 0:v.event)),{capture:!0}),this.Qi=new Qc(this.instance,Ym,this.Zi.bind(this)),this.Qi.startIfEnabled(),this.i=!0)}ee(e,i){var n=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),a=function(o,l,u){for(var c=o;c&&Tr(c)&&!Pt(c,"body");){if(c===u)return!1;if(N(l,v==null?void 0:v.getComputedStyle(c).position))return!0;c=zc(c)}return!1}(Hc(e),["fixed","sticky"],s);return{x:e.clientX+(a?0:r),y:e.clientY+(a?0:n),target_fixed:a,type:i}}te(e,i){var n;if(i===void 0&&(i="click"),!Zo(e.target)&&wl(e)){var r=this.ee(e,i);(n=this.rageclicks)!=null&&n.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.re(A({},r,{type:"rageclick"})),this.re(r)}}ie(e){!Zo(e.target)&&wl(e)&&(clearTimeout(this.se),this.se=setTimeout(()=>{this.re(this.ee(e,"mousemove"))},500))}re(e){if(v){var i=v.location.href;this.M=this.M||{},this.M[i]||(this.M[i]=[]),this.M[i].push(e)}}Xi(){this.M&&!ui(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class U_{constructor(e){this._instance=e}doPageView(e,i){var n,r=this.ne(e,i);return this.oe={pathname:(n=v==null?void 0:v.location.pathname)!==null&&n!==void 0?n:"",pageViewId:i,timestamp:e},this._instance.scrollManager.resetContext(),r}doPageLeave(e){var i;return this.ne(e,(i=this.oe)==null?void 0:i.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.oe)==null?void 0:e.pageViewId}}ne(e,i){var n=this.oe;if(!n)return{$pageview_id:i};var r={$pageview_id:i,$prev_pageview_id:n.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:o,maxScrollY:l,maxContentHeight:u,lastContentY:c,maxContentY:d}=s;if(!(k(a)||k(o)||k(l)||k(u)||k(c)||k(d))){a=Math.ceil(a),o=Math.ceil(o),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c),d=Math.ceil(d);var h=a<=1?1:He(o/a,0,1),f=a<=1?1:He(l/a,0,1),g=u<=1?1:He(c/u,0,1),p=u<=1?1:He(d/u,0,1);r=se(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:f,$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:p})}}return n.pathname&&(r.$prev_pageview_pathname=n.pathname),n.timestamp&&(r.$prev_pageview_duration=(e.getTime()-n.timestamp.getTime())/1e3),r}}class G_{constructor(e){this._instance=e}sendExceptionEvent(e){this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var Ge="Mobile",fr="iOS",at="Android",cn="Tablet",gh=at+" "+cn,vh="iPad",mh="Apple",_h=mh+" Watch",hn="Safari",Si="BlackBerry",yh="Samsung",bh=yh+"Browser",wh=yh+" Internet",ei="Chrome",K_=ei+" OS",xh=ei+" "+fr,La="Internet Explorer",Sh=La+" "+Ge,Na="Opera",Y_=Na+" Mini",Va="Edge",Eh="Microsoft "+Va,vi="Firefox",kh=vi+" "+fr,dn="Nintendo",fn="PlayStation",mi="Xbox",Th=at+" "+Ge,Ah=Ge+" "+hn,Gi="Windows",Us=Gi+" Phone",xl="Nokia",Gs="Ouya",Fh="Generic",X_=Fh+" "+Ge.toLowerCase(),Mh=Fh+" "+cn.toLowerCase(),Ks="Konqueror",Se="(\\d+(\\.\\d+)?)",Xr=new RegExp("Version/"+Se),J_=new RegExp(mi,"i"),Z_=new RegExp(fn+" \\w+","i"),Q_=new RegExp(dn+" \\w+","i"),Ba=new RegExp(Si+"|PlayBook|BB10","i"),e0={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},t0=(t,e)=>e&&N(e,mh)||function(i){return N(i,hn)&&!N(i,ei)&&!N(i,at)}(t),Ih=function(t,e){return e=e||"",N(t," OPR/")&&N(t,"Mini")?Y_:N(t," OPR/")?Na:Ba.test(t)?Si:N(t,"IE"+Ge)||N(t,"WPDesktop")?Sh:N(t,bh)?wh:N(t,Va)||N(t,"Edg/")?Eh:N(t,"FBIOS")?"Facebook "+Ge:N(t,"UCWEB")||N(t,"UCBrowser")?"UC Browser":N(t,"CriOS")?xh:N(t,"CrMo")||N(t,ei)?ei:N(t,at)&&N(t,hn)?Th:N(t,"FxiOS")?kh:N(t.toLowerCase(),Ks.toLowerCase())?Ks:t0(t,e)?N(t,Ge)?Ah:hn:N(t,vi)?vi:N(t,"MSIE")||N(t,"Trident/")?La:N(t,"Gecko")?vi:""},i0={[Sh]:[new RegExp("rv:"+Se)],[Eh]:[new RegExp(Va+"?\\/"+Se)],[ei]:[new RegExp("("+ei+"|CrMo)\\/"+Se)],[xh]:[new RegExp("CriOS\\/"+Se)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Se)],[hn]:[Xr],[Ah]:[Xr],[Na]:[new RegExp("(Opera|OPR)\\/"+Se)],[vi]:[new RegExp(vi+"\\/"+Se)],[kh]:[new RegExp("FxiOS\\/"+Se)],[Ks]:[new RegExp("Konqueror[:/]?"+Se,"i")],[Si]:[new RegExp(Si+" "+Se),Xr],[Th]:[new RegExp("android\\s"+Se,"i")],[wh]:[new RegExp(bh+"\\/"+Se)],[La]:[new RegExp("(rv:|MSIE )"+Se)],Mozilla:[new RegExp("rv:"+Se)]},n0=function(t,e){var i=Ih(t,e),n=i0[i];if(k(n))return null;for(var r=0;r<n.length;r++){var s=n[r],a=t.match(s);if(a)return parseFloat(a[a.length-2])}return null},Sl=[[new RegExp(mi+"; "+mi+" (.*?)[);]","i"),t=>[mi,t&&t[1]||""]],[new RegExp(dn,"i"),[dn,""]],[new RegExp(fn,"i"),[fn,""]],[Ba,[Si,""]],[new RegExp(Gi,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[Us,""];if(new RegExp(Ge).test(e)&&!/IEMobile\b/.test(e))return[Gi+" "+Ge,""];var i=/Windows NT ([0-9.]+)/i.exec(e);if(i&&i[1]){var n=i[1],r=e0[n]||"";return/arm/i.test(e)&&(r="RT"),[Gi,r]}return[Gi,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[fr,e.join(".")]}return[fr,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=k(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+at+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+at+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[at,e.join(".")]}return[at,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var i=[t[1],t[2],t[3]||"0"];e[1]=i.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[K_,""]],[/Linux|debian/i,["Linux",""]]],El=function(t){return Q_.test(t)?dn:Z_.test(t)?fn:J_.test(t)?mi:new RegExp(Gs,"i").test(t)?Gs:new RegExp("("+Us+"|WPDesktop)","i").test(t)?Us:/iPad/.test(t)?vh:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?_h:Ba.test(t)?Si:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(xl,"i").test(t)?xl:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?!new RegExp(Ge).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?at:gh:at:new RegExp("(pda|"+Ge+")","i").test(t)?X_:new RegExp(cn,"i").test(t)&&!new RegExp(cn+" pc","i").test(t)?Mh:""},On="https?://(.*)",Fr=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],r0=kr(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Fr),qa="<masked>";function Ch(t,e,i){if(!F)return{};var n=e?kr([],Fr,i||[]):[];return Ph(Ia(F.URL,n,qa),t)}function Ph(t,e){var i=r0.concat(e||[]),n={};return G(i,function(r){var s=or(t,r);n[r]=s||null}),n}function Rh(t){var e=function(s){return s?s.search(On+"google.([^/?]*)")===0?"google":s.search(On+"bing.com")===0?"bing":s.search(On+"yahoo.com")===0?"yahoo":s.search(On+"duckduckgo.com")===0?"duckduckgo":null:null}(t),i=e!="yahoo"?"q":"p",n={};if(!Dt(e)){n.$search_engine=e;var r=F?or(F.referrer,i):"";r.length&&(n.ph_keyword=r)}return n}function kl(){return navigator.language||navigator.userLanguage}function Oh(){return(F==null?void 0:F.referrer)||"$direct"}function $h(t,e){var i=t?kr([],Fr,e||[]):[],n=Me==null?void 0:Me.href.substring(0,1e3);return{r:Oh().substring(0,1e3),u:n?Ia(n,i,qa):void 0}}function Dh(t){var e,{r:i,u:n}=t,r={$referrer:i,$referring_domain:i==null?void 0:i=="$direct"?"$direct":(e=wi(i))==null?void 0:e.host};if(n){r.$current_url=n;var s=wi(n);r.$host=s==null?void 0:s.host,r.$pathname=s==null?void 0:s.pathname;var a=Ph(n);se(r,a)}if(i){var o=Rh(i);se(r,o)}return r}function Lh(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function s0(){try{return new Date().getTimezoneOffset()}catch{return}}function a0(t,e){if(!Fe)return{};var i,n,r,s=t?kr([],Fr,e||[]):[],[a,o]=function(l){for(var u=0;u<Sl.length;u++){var[c,d]=Sl[u],h=c.exec(l),f=h&&(ze(d)?d(h,l):d);if(f)return f}return["",""]}(Fe);return se(Fa({$os:a,$os_version:o,$browser:Ih(Fe,navigator.vendor),$device:El(Fe),$device_type:(n=Fe,r=El(n),r===vh||r===gh||r==="Kobo"||r==="Kindle Fire"||r===Mh?cn:r===dn||r===mi||r===fn||r===Gs?"Console":r===_h?"Wearable":r?Ge:"Desktop"),$timezone:Lh(),$timezone_offset:s0()}),{$current_url:Ia(Me==null?void 0:Me.href,s,qa),$host:Me==null?void 0:Me.host,$pathname:Me==null?void 0:Me.pathname,$raw_user_agent:Fe.length>1e3?Fe.substring(0,997)+"...":Fe,$browser_version:n0(Fe,navigator.vendor),$browser_language:kl(),$browser_language_prefix:(i=kl(),typeof i=="string"?i.split("-")[0]:void 0),$screen_height:v==null?void 0:v.screen.height,$screen_width:v==null?void 0:v.screen.width,$viewport_height:v==null?void 0:v.innerHeight,$viewport_width:v==null?void 0:v.innerWidth,$lib:"web",$lib_version:vt.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Ys,it=we("[FeatureFlags]"),Jr="$active_feature_flags",si="$override_feature_flags",Tl="$feature_flag_payloads",Vi="$override_feature_flag_payloads",Al="$feature_flag_request_id",Fl=t=>{var e={};for(var[i,n]of Wn(t||{}))n&&(e[i]=n);return e},o0=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map(i=>{var n;return[i,(n=e[i].variant)!==null&&n!==void 0?n:e[i].enabled]})),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(i=>e[i].enabled).filter(i=>{var n;return(n=e[i].metadata)==null?void 0:n.payload}).map(i=>{var n;return[i,(n=e[i].metadata)==null?void 0:n.payload]}))):it.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t};(function(t){t.FeatureFlags="feature_flags",t.Recordings="recordings"})(Ys||(Ys={}));class l0{constructor(e){this.ae=!1,this.le=!1,this.ue=!1,this.he=!1,this.de=!1,this.ve=!1,this.ce=!1,this._instance=e,this.featureFlagEventHandlers=[]}decide(){if(this._instance.config.__preview_remote_config)this.ve=!0;else{var e=!this.fe&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.pe({disableFlags:e})}}get hasLoadedFlags(){return this.le}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(Is),i=this._instance.get_property(si),n=this._instance.get_property(Vi);if(!n&&!i)return e||{};var r=se({},e||{}),s=[...new Set([...Object.keys(n||{}),...Object.keys(i||{})])];for(var a of s){var o,l,u=r[a],c=i==null?void 0:i[a],d=k(c)?(o=u==null?void 0:u.enabled)!==null&&o!==void 0&&o:!!c,h=k(c)?u.variant:typeof c=="string"?c:void 0,f=n==null?void 0:n[a],g=A({},u,{enabled:d,variant:d?h??(u==null?void 0:u.variant):void 0});d!==(u==null?void 0:u.enabled)&&(g.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(g.original_variant=u==null?void 0:u.variant),f&&(g.metadata=A({},u==null?void 0:u.metadata,{payload:f,original_payload:u==null||(l=u.metadata)==null?void 0:l.payload})),r[a]=g}return this.ae||(it.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:n,finalDetails:r}),this.ae=!0),r}getFlagVariants(){var e=this._instance.get_property(ci),i=this._instance.get_property(si);if(!i)return e||{};for(var n=se({},e),r=Object.keys(i),s=0;s<r.length;s++)n[r[s]]=i[r[s]];return this.ae||(it.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:i,finalFlags:n}),this.ae=!0),n}getFlagPayloads(){var e=this._instance.get_property(Tl),i=this._instance.get_property(Vi);if(!i)return e||{};for(var n=se({},e||{}),r=Object.keys(i),s=0;s<r.length;s++)n[r[s]]=i[r[s]];return this.ae||(it.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:i,finalPayloads:n}),this.ae=!0),n}reloadFeatureFlags(){this.he||this._instance.config.advanced_disable_feature_flags||this.fe||(this.fe=setTimeout(()=>{this.pe()},5))}ge(){clearTimeout(this.fe),this.fe=void 0}ensureFlagsLoaded(){this.le||this.ue||this.fe||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.he=e}pe(e){var i;if(this.ge(),!this._instance.config.advanced_disable_decide)if(this.ue)this.de=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:A({},((i=this._instance.persistence)==null?void 0:i.get_initial_props())||{},this._instance.get_property(zi)||{}),group_properties:this._instance.get_property(qt)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0);var r=this._instance.config.__preview_flags_v2&&this._instance.config.__preview_remote_config;r&&(n.timezone=Lh()),this.ue=!0,this._instance._e({method:"POST",url:this._instance.requestRouter.endpointFor("api",r?"/flags/?v=2":"/decide/?v=4"),data:n,compression:this._instance.config.disable_compression?void 0:Xe.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var a,o,l,u=!0;s.statusCode===200&&(this.de||(this.$anon_distinct_id=void 0),u=!1),this.ue=!1,this.ve||(this.ve=!0,this._instance.me((l=s.json)!==null&&l!==void 0?l:{})),n.disable_flags&&!this.de||(this.ce=!u,s.json&&(a=s.json.quotaLimited)!=null&&a.includes(Ys.FeatureFlags)?it.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(this.receivedFeatureFlags((o=s.json)!==null&&o!==void 0?o:{},u),this.de&&(this.de=!1,this.pe())))}})}}getFeatureFlag(e,i){if(i===void 0&&(i={}),this.le||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[e],r=""+n,s=this._instance.get_property(Al)||void 0,a=this._instance.get_property(rr)||{};if((i.send_event||!("send_event"in i))&&(!(e in a)||!a[e].includes(r))){var o,l,u,c,d,h,f,g,p,b,m;te(a[e])?a[e].push(r):a[e]=[r],(o=this._instance.persistence)==null||o.register({[rr]:a});var y=this.getFeatureFlagDetails(e),w={$feature_flag:e,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(u=l.featureFlags)==null?void 0:u[e])||null,$feature_flag_bootstrapped_payload:((c=this._instance.config.bootstrap)==null||(d=c.featureFlagPayloads)==null?void 0:d[e])||null,$used_bootstrap_value:!this.ce};k(y==null||(h=y.metadata)==null?void 0:h.version)||(w.$feature_flag_version=y.metadata.version);var T,S=(f=y==null||(g=y.reason)==null?void 0:g.description)!==null&&f!==void 0?f:y==null||(p=y.reason)==null?void 0:p.code;S&&(w.$feature_flag_reason=S),y!=null&&(b=y.metadata)!=null&&b.id&&(w.$feature_flag_id=y.metadata.id),k(y==null?void 0:y.original_variant)&&k(y==null?void 0:y.original_enabled)||(w.$feature_flag_original_response=k(y.original_variant)?y.original_enabled:y.original_variant),y!=null&&(m=y.metadata)!=null&&m.original_payload&&(w.$feature_flag_original_payload=y==null||(T=y.metadata)==null?void 0:T.original_payload),this._instance.capture("$feature_flag_called",w)}return n}it.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,i){var n=this._instance.config.token;this._instance._e({method:"POST",url:this._instance.requestRouter.endpointFor("api","/decide/?v=4"),data:{distinct_id:this._instance.get_distinct_id(),token:n},compression:this._instance.config.disable_compression?void 0:Xe.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:r=>{var s,a=(s=r.json)==null?void 0:s.featureFlagPayloads;i((a==null?void 0:a[e])||void 0)}})}isFeatureEnabled(e,i){if(i===void 0&&(i={}),this.le||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,i);it.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(i=>i!==e)}receivedFeatureFlags(e,i){if(this._instance.persistence){this.le=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(a,o,l,u,c){l===void 0&&(l={}),u===void 0&&(u={}),c===void 0&&(c={});var d=o0(a),h=d.flags,f=d.featureFlags,g=d.featureFlagPayloads;if(f){var p=a.requestId;if(te(f)){it.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var b={};if(f)for(var m=0;m<f.length;m++)b[f[m]]=!0;o&&o.register({[Jr]:f,[ci]:b})}else{var y=f,w=g,T=h;a.errorsWhileComputingFlags&&(y=A({},l,y),w=A({},u,w),T=A({},c,T)),o&&o.register(A({[Jr]:Object.keys(Fl(y)),[ci]:y||{},[Tl]:w||{},[Is]:T||{}},p?{[Al]:p}:{}))}}})(e,this._instance.persistence,n,r,s),this.be(i)}}override(e,i){i===void 0&&(i=!1),it.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:i})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return it.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(si),this._instance.persistence.unregister(Vi),void this.be();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var i,n=e;if(this.ae=!!((i=n.suppressWarning)!==null&&i!==void 0&&i),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(si);else if(n.flags)if(te(n.flags)){for(var r={},s=0;s<n.flags.length;s++)r[n.flags[s]]=!0;this._instance.persistence.register({[si]:r})}else this._instance.persistence.register({[si]:n.flags})}return"payloads"in n&&(n.payloads===!1?this._instance.persistence.unregister(Vi):n.payloads&&this._instance.persistence.register({[Vi]:n.payloads})),void this.be()}this.be()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.le){var{flags:i,flagVariants:n}=this.we();e(i,n)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,i){var n,r=(this._instance.get_property(Hn)||[]).find(l=>l.flagKey===e),s={["$feature_enrollment/"+e]:i},a={$feature_flag:e,$feature_enrollment:i,$set:s};r&&(a.$early_access_feature_name=r.name),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(s,!1);var o=A({},this.getFlagVariants(),{[e]:i});(n=this._instance.persistence)==null||n.register({[Jr]:Object.keys(Fl(o)),[ci]:o}),this.be()}getEarlyAccessFeatures(e,i,n){i===void 0&&(i=!1);var r=this._instance.get_property(Hn),s=n?"&"+n.map(a=>"stage="+a).join("&"):"";if(r&&!i)return e(r);this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:a=>{var o;if(a.json){var l=a.json.earlyAccessFeatures;return(o=this._instance.persistence)==null||o.register({[Hn]:l}),e(l)}}})}we(){var e=this.getFlags(),i=this.getFlagVariants();return{flags:e.filter(n=>i[n]),flagVariants:Object.keys(i).filter(n=>i[n]).reduce((n,r)=>(n[r]=i[r],n),{})}}be(e){var{flags:i,flagVariants:n}=this.we();this.featureFlagEventHandlers.forEach(r=>r(i,n,{errorsLoading:e}))}setPersonPropertiesForFlags(e,i){i===void 0&&(i=!0);var n=this._instance.get_property(zi)||{};this._instance.register({[zi]:A({},n,e)}),i&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(zi)}setGroupPropertiesForFlags(e,i){i===void 0&&(i=!0);var n=this._instance.get_property(qt)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(r=>{n[r]=A({},n[r],e[r]),delete e[r]}),this._instance.register({[qt]:A({},n,e)}),i&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var i=this._instance.get_property(qt)||{};this._instance.register({[qt]:A({},i,{[e]:{}})})}else this._instance.unregister(qt)}}var u0=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Zr{constructor(e){this.S=e,this.props={},this.ye=!1,this.Se=(i=>{var n="";return i.token&&(n=i.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),i.persistence_name?"ph_"+i.persistence_name:"ph_"+n+"_posthog"})(e),this.q=this.$e(e),this.load(),e.debug&&M.info("Persistence loaded",e.persistence,A({},this.props)),this.update_config(e,e),this.save()}$e(e){u0.indexOf(e.persistence.toLowerCase())===-1&&(M.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var i=e.persistence.toLowerCase();return i==="localstorage"&&ce.O()?ce:i==="localstorage+cookie"&&Fn.O()?Fn:i==="sessionstorage"&&fe.O()?fe:i==="memory"?Gm:i==="cookie"?yt:Fn.O()?Fn:yt}properties(){var e={};return G(this.props,function(i,n){if(n===ci&&ie(i))for(var r=Object.keys(i),s=0;s<r.length;s++)e["$feature/"+r[s]]=i[r[s]];else o=n,l=!1,(Dt(a=Tm)?l:Do&&a.indexOf===Do?a.indexOf(o)!=-1:(G(a,function(u){if(l||(l=u===o))return ir}),l))||(e[n]=i);var a,o,l}),e}load(){if(!this.ke){var e=this.q.D(this.Se);e&&(this.props=se({},e))}}save(){this.ke||this.q.j(this.Se,this.props,this.xe,this.Ee,this.Ie,this.S.debug)}remove(){this.q.L(this.Se,!1),this.q.L(this.Se,!0)}clear(){this.remove(),this.props={}}register_once(e,i,n){if(ie(e)){k(i)&&(i="None"),this.xe=k(n)?this.Pe:n;var r=!1;if(G(e,(s,a)=>{this.props.hasOwnProperty(a)&&this.props[a]!==i||(this.props[a]=s,r=!0)}),r)return this.save(),!0}return!1}register(e,i){if(ie(e)){this.xe=k(i)?this.Pe:i;var n=!1;if(G(e,(r,s)=>{e.hasOwnProperty(s)&&this.props[s]!==r&&(this.props[s]=r,n=!0)}),n)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.ye){var e=Ch(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);ui(Fa(e))||this.register(e),this.ye=!0}}update_search_keyword(){var e;this.register((e=F==null?void 0:F.referrer)?Rh(e):{})}update_referrer_info(){var e;this.register_once({$referrer:Oh(),$referring_domain:F!=null&&F.referrer&&((e=wi(F.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Os]||this.props[$s]||this.register_once({[Ds]:$h(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};G([$s,Os],a=>{var o=this.props[a];o&&G(o,function(l,u){e["$initial_"+Es(u)]=l})});var i,n,r=this.props[Ds];if(r){var s=(i=Dh(r),n={},G(i,function(a,o){n["$initial_"+Es(o)]=a}),n);se(e,s)}return e}safe_merge(e){return G(this.props,function(i,n){n in e||(e[n]=i)}),e}update_config(e,i){if(this.Pe=this.xe=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==i.persistence){var n=this.$e(e),r=this.props;this.clear(),this.q=n,this.props=r,this.save()}}set_disabled(e){this.ke=e,this.ke?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ee&&(this.Ee=e,this.remove(),this.save())}set_secure(e){e!==this.Ie&&(this.Ie=e,this.remove(),this.save())}set_event_timer(e,i){var n=this.props[Wi]||{};n[e]=i,this.props[Wi]=n,this.save()}remove_event_timer(e){var i=(this.props[Wi]||{})[e];return k(i)||(delete this.props[Wi][e],this.save()),i}get_property(e){return this.props[e]}set_property(e,i){this.props[e]=i,this.save()}}class Nh{constructor(){this.Re={},this.Re={}}on(e,i){return this.Re[e]||(this.Re[e]=[]),this.Re[e].push(i),()=>{this.Re[e]=this.Re[e].filter(n=>n!==i)}}emit(e,i){for(var n of this.Re[e]||[])n(i);for(var r of this.Re["*"]||[])r(e,i)}}var pr=function(t,e){if(!function(i){try{new RegExp(i)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};class jt{constructor(e){this.Te=new Nh,this.Me=(i,n)=>this.Ce(i,n)&&this.Oe(i,n)&&this.Fe(i,n),this.Ce=(i,n)=>n==null||!n.event||(i==null?void 0:i.event)===(n==null?void 0:n.event),this._instance=e,this.Ae=new Set,this.De=new Set}init(){var e;if(!k((e=this._instance)==null?void 0:e.je)){var i;(i=this._instance)==null||i.je((n,r)=>{this.on(n,r)})}}register(e){var i,n;if(!k((i=this._instance)==null?void 0:i.je)&&(e.forEach(a=>{var o,l;(o=this.De)==null||o.add(a),(l=a.steps)==null||l.forEach(u=>{var c;(c=this.Ae)==null||c.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var r,s=new Set;e.forEach(a=>{var o;(o=a.steps)==null||o.forEach(l=>{l!=null&&l.selector&&s.add(l==null?void 0:l.selector)})}),(r=this._instance)==null||r.autocapture.setElementSelectors(s)}}on(e,i){var n;i!=null&&e.length!=0&&(this.Ae.has(e)||this.Ae.has(i==null?void 0:i.event))&&this.De&&((n=this.De)==null?void 0:n.size)>0&&this.De.forEach(r=>{this.Le(i,r)&&this.Te.emit("actionCaptured",r.name)})}Ne(e){this.onAction("actionCaptured",i=>e(i))}Le(e,i){if((i==null?void 0:i.steps)==null)return!1;for(var n of i.steps)if(this.Me(e,n))return!0;return!1}onAction(e,i){return this.Te.on(e,i)}Oe(e,i){if(i!=null&&i.url){var n,r=e==null||(n=e.properties)==null?void 0:n.$current_url;if(!r||typeof r!="string"||!jt.ze(r,i==null?void 0:i.url,(i==null?void 0:i.url_matching)||"contains"))return!1}return!0}static ze(e,i,n){switch(n){case"regex":return!!v&&pr(e,i);case"exact":return i===e;case"contains":var r=jt.Ue(i).replace(/_/g,".").replace(/%/g,".*");return pr(e,r);default:return!1}}static Ue(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Fe(e,i){if((i!=null&&i.href||i!=null&&i.tag_name||i!=null&&i.text)&&!this.qe(e).some(s=>!(i!=null&&i.href&&!jt.ze(s.href||"",i==null?void 0:i.href,(i==null?void 0:i.href_matching)||"exact"))&&(i==null||!i.tag_name||s.tag_name===(i==null?void 0:i.tag_name))&&!(i!=null&&i.text&&!jt.ze(s.text||"",i==null?void 0:i.text,(i==null?void 0:i.text_matching)||"exact")&&!jt.ze(s.$el_text||"",i==null?void 0:i.text,(i==null?void 0:i.text_matching)||"exact"))))return!1;if(i!=null&&i.selector){var n,r=e==null||(n=e.properties)==null?void 0:n.$element_selectors;if(!r||!r.includes(i==null?void 0:i.selector))return!1}return!0}qe(e){return(e==null?void 0:e.properties.$elements)==null?[]:e==null?void 0:e.properties.$elements}}var le=we("[Surveys]");class c0{constructor(e){this._instance=e,this.Be=new Map,this.He=new Map}register(e){var i;k((i=this._instance)==null?void 0:i.je)||(this.We(e),this.Ge(e))}Ge(e){var i=e.filter(n=>{var r,s,a,o;return((r=n.conditions)==null?void 0:r.actions)&&((s=n.conditions)==null||(a=s.actions)==null||(o=a.values)==null?void 0:o.length)>0});i.length!==0&&(this.Je==null&&(this.Je=new jt(this._instance),this.Je.init(),this.Je.Ne(n=>{this.onAction(n)})),i.forEach(n=>{var r,s,a,o,l,u,c,d,h,f;n.conditions&&(r=n.conditions)!=null&&r.actions&&(s=n.conditions)!=null&&(a=s.actions)!=null&&a.values&&((o=n.conditions)==null||(l=o.actions)==null||(u=l.values)==null?void 0:u.length)>0&&((c=this.Je)==null||c.register(n.conditions.actions.values),(d=n.conditions)==null||(h=d.actions)==null||(f=h.values)==null||f.forEach(g=>{if(g&&g.name){var p=this.He.get(g.name);p&&p.push(n.id),this.He.set(g.name,p||[n.id])}}))}))}We(e){var i;e.filter(n=>{var r,s,a,o;return((r=n.conditions)==null?void 0:r.events)&&((s=n.conditions)==null||(a=s.events)==null||(o=a.values)==null?void 0:o.length)>0}).length!==0&&((i=this._instance)==null||i.je((n,r)=>{this.onEvent(n,r)}),e.forEach(n=>{var r,s,a;(r=n.conditions)==null||(s=r.events)==null||(a=s.values)==null||a.forEach(o=>{if(o&&o.name){var l=this.Be.get(o.name);l&&l.push(n.id),this.Be.set(o.name,l||[n.id])}})}))}onEvent(e,i){var n,r,s=((n=this._instance)==null||(r=n.persistence)==null?void 0:r.props[An])||[];if(e==="survey shown"&&i&&s.length>0){var a;le.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:i,existingActivatedSurveys:s});var o=i==null||(a=i.properties)==null?void 0:a.$survey_id;if(o){var l=s.indexOf(o);l>=0&&(s.splice(l,1),this.Ve(s))}}else this.Be.has(e)&&(le.info("survey event matched, updating activated surveys",{event:e,surveys:this.Be.get(e)}),this.Ve(s.concat(this.Be.get(e)||[])))}onAction(e){var i,n,r=((i=this._instance)==null||(n=i.persistence)==null?void 0:n.props[An])||[];this.He.has(e)&&this.Ve(r.concat(this.He.get(e)||[]))}Ve(e){var i,n;(i=this._instance)==null||(n=i.persistence)==null||n.register({[An]:[...new Set(e)]})}getSurveys(){var e,i,n=(e=this._instance)==null||(i=e.persistence)==null?void 0:i.props[An];return n||[]}getEventToSurveys(){return this.Be}Ke(){return this.Je}}class h0{constructor(e){this.Ye=null,this.Xe=!1,this.Qe=!1,this.Ze=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var i=e.surveys;if(j(i))return le.warn("Decide not loaded yet. Not loading surveys.");var n=te(i);this.tr=n?i.length>0:i,le.info("decide response received, hasSurveys: "+this.tr),this.tr&&this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],i=0;i<localStorage.length;i++){var n=localStorage.key(i);(n!=null&&n.startsWith("seenSurvey_")||n!=null&&n.startsWith("inProgressSurvey_"))&&e.push(n)}e.forEach(r=>localStorage.removeItem(r))}loadIfEnabled(){if(!this.Ye)if(this.Qe)le.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)le.info("Disabled. Not loading surveys.");else if(this.tr){var e=L==null?void 0:L.__PosthogExtensions__;if(e){this.Qe=!0;try{var i=e.generateSurveys;if(i)return void this.ir(i);var n=e.loadExternalDependency;if(!n)return void this.er("PostHog loadExternalDependency extension not found.");n(this._instance,"surveys",r=>{r||!e.generateSurveys?this.er("Could not load surveys script",r):this.ir(e.generateSurveys)})}catch(r){throw this.er("Error initializing surveys",r),r}finally{this.Qe=!1}}else le.error("PostHog Extensions not found.")}else le.info("No surveys to load.")}ir(e){this.Ye=e(this._instance),this._surveyEventReceiver=new c0(this._instance),le.info("Surveys loaded successfully"),this.rr({isLoaded:!0})}er(e,i){le.error(e,i),this.rr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.Ze.push(e),this.Ye&&this.rr({isLoaded:!0}),()=>{this.Ze=this.Ze.filter(i=>i!==e)}}getSurveys(e,i){if(i===void 0&&(i=!1),this._instance.config.disable_surveys)return le.info("Disabled. Not loading surveys."),e([]);var n=this._instance.get_property(Cs);if(n&&!i)return e(n,{isLoaded:!0});if(this.Xe)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Xe=!0,this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:r=>{var s;this.Xe=!1;var a=r.statusCode;if(a!==200||!r.json){var o="Surveys API could not be loaded, status: "+a;return le.error(o),e([],{isLoaded:!1,error:o})}var l,u=r.json.surveys||[],c=u.filter(d=>function(h){return!(!h.start_date||h.end_date)}(d)&&(function(h){var f,g,p;return!((f=h.conditions)==null||(g=f.events)==null||(p=g.values)==null||!p.length)}(d)||function(h){var f,g,p;return!((f=h.conditions)==null||(g=f.actions)==null||(p=g.values)==null||!p.length)}(d)));return c.length>0&&((l=this._surveyEventReceiver)==null||l.register(c)),(s=this._instance.persistence)==null||s.register({[Cs]:u}),e(u,{isLoaded:!0})}})}catch(r){throw this.Xe=!1,r}}rr(e){for(var i of this.Ze)try{e.isLoaded?this.getSurveys(i):i([],e)}catch(n){le.error("Error in survey callback",n)}}getActiveMatchingSurveys(e,i){if(i===void 0&&(i=!1),!j(this.Ye))return this.Ye.getActiveMatchingSurveys(e,i);le.warn("init was not called")}sr(e){var i=null;return this.getSurveys(n=>{var r;i=(r=n.find(s=>s.id===e))!==null&&r!==void 0?r:null}),i}nr(e){if(j(this.Ye))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var i=typeof e=="string"?this.sr(e):e;return i?this.Ye.checkSurveyEligibility(i):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(j(this.Ye))return le.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var i=this.nr(e);return{visible:i.eligible,disabledReason:i.reason}}canRenderSurveyAsync(e,i){return j(this.Ye)?(le.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(r=>{var s,a=(s=r.find(l=>l.id===e))!==null&&s!==void 0?s:null;if(a){var o=this.nr(a);n({visible:o.eligible,disabledReason:o.reason})}else n({visible:!1,disabledReason:"Survey not found"})},i)})}renderSurvey(e,i){if(j(this.Ye))le.warn("init was not called");else{var n=this.sr(e),r=F==null?void 0:F.querySelector(i);n?r?this.Ye.renderSurvey(n,r):le.warn("Survey element not found"):le.warn("Survey not found")}}}var Ml=we("[RateLimiter]");class d0{constructor(e){var i,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=r=>{var s=r.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(a=>{Ml.info((a||"events")+" is quota limited."),this.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void Ml.warn('could not rate limit - continuing. Error: "'+(a==null?void 0:a.message)+'"',{text:s})}},this.instance=e,this.captureEventsPerSecond=((i=e.config.rate_limiting)==null?void 0:i.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=e.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var i,n,r;e===void 0&&(e=!1);var s=new Date().getTime(),a=(i=(n=this.instance.persistence)==null?void 0:n.get_property(Rs))!==null&&i!==void 0?i:{tokens:this.captureEventsBurstLimit,last:s};a.tokens+=(s-a.last)/1e3*this.captureEventsPerSecond,a.last=s,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var o=a.tokens<1;return o||e||(a.tokens=Math.max(0,a.tokens-1)),!o||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,(r=this.instance.persistence)==null||r.set_property(Rs,a),{isRateLimited:o,remainingTokens:a.tokens}}isServerRateLimited(e){var i=this.serverLimits[e||"events"]||!1;return i!==!1&&new Date().getTime()<i}}var Bt=we("[RemoteConfig]");class f0{constructor(e){this._instance=e}get remoteConfig(){var e,i;return(e=L._POSTHOG_REMOTE_CONFIG)==null||(i=e[this._instance.config.token])==null?void 0:i.config}ar(e){var i,n;(i=L.__PosthogExtensions__)!=null&&i.loadExternalDependency?(n=L.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Bt.error("PostHog Extensions not found. Cannot load remote config."),e())}lr(e){this._instance._e({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:i=>{e(i.json)}})}load(){try{if(this.remoteConfig)return Bt.info("Using preloaded remote config",this.remoteConfig),void this.me(this.remoteConfig);if(this._instance.config.advanced_disable_decide)return void Bt.warn("Remote config is disabled. Falling back to local config.");this.ar(e=>{if(!e)return Bt.info("No config found after loading remote JS config. Falling back to JSON."),void this.lr(i=>{this.me(i)});this.me(e)})}catch(e){Bt.error("Error loading remote config",e)}}me(e){e?this._instance.config.__preview_remote_config?(this._instance.me(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Bt.info("__preview_remote_config is disabled. Logging config instead",e):Bt.error("Failed to fetch remote config from PostHog.")}}var p0=function(t){var e,i,n,r,s="";for(e=i=0,n=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,r=0;r<n;r++){var a=t.charCodeAt(r),o=null;a<128?i++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),Dt(o)||(i>e&&(s+=t.substring(e,i)),s+=o,e=i=r+1)}return i>e&&(s+=t.substring(e,t.length)),s},g0=!!Ss||!!xs,Il="text/plain",gr=(t,e)=>{var[i,n]=t.split("?"),r=A({},e);n==null||n.split("&").forEach(a=>{var[o]=a.split("=");delete r[o]});var s=$m(r);return i+"?"+(s=s?(n?n+"&":"")+s:n)},Ki=(t,e)=>JSON.stringify(t,(i,n)=>typeof n=="bigint"?n.toString():n,e),Qr=t=>{var{data:e,compression:i}=t;if(e){if(i===Xe.GZipJS){var n=uh(ch(Ki(e)),{mtime:0}),r=new Blob([n],{type:Il});return{contentType:Il,body:r,estimatedSize:r.size}}if(i===Xe.Base64){var s=function(l){var u,c,d,h,f,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,b=0,m="",y=[];if(!l)return l;l=p0(l);do u=(f=l.charCodeAt(p++)<<16|l.charCodeAt(p++)<<8|l.charCodeAt(p++))>>18&63,c=f>>12&63,d=f>>6&63,h=63&f,y[b++]=g.charAt(u)+g.charAt(c)+g.charAt(d)+g.charAt(h);while(p<l.length);switch(m=y.join(""),l.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}(Ki(e)),a=(l=>"data="+encodeURIComponent(typeof l=="string"?l:Ki(l)))(s);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var o=Ki(e);return{contentType:"application/json",body:o,estimatedSize:new Blob([o]).size}}},Qi=[];xs&&Qi.push({transport:"fetch",method:t=>{var e,i,{contentType:n,body:r,estimatedSize:s}=(e=Qr(t))!==null&&e!==void 0?e:{},a=new Headers;G(t.headers,function(c,d){a.append(d,c)}),n&&a.append("Content-Type",n);var o=t.url,l=null;if(Lo){var u=new Lo;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),t.timeout)}}xs(o,A({method:(t==null?void 0:t.method)||"GET",headers:a,keepalive:t.method==="POST"&&(s||0)<52428.8,body:r,signal:(i=l)==null?void 0:i.signal},t.fetchOptions)).then(c=>c.text().then(d=>{var h={statusCode:c.status,text:d};if(c.status===200)try{h.json=JSON.parse(d)}catch(f){M.error(f)}t.callback==null||t.callback(h)})).catch(c=>{M.error(c),t.callback==null||t.callback({statusCode:0,text:c})}).finally(()=>l?clearTimeout(l.timeout):null)}}),Ss&&Qi.push({transport:"XHR",method:t=>{var e,i=new Ss;i.open(t.method||"GET",t.url,!0);var{contentType:n,body:r}=(e=Qr(t))!==null&&e!==void 0?e:{};G(t.headers,function(s,a){i.setRequestHeader(a,s)}),n&&i.setRequestHeader("Content-Type",n),t.timeout&&(i.timeout=t.timeout),i.withCredentials=!0,i.onreadystatechange=()=>{if(i.readyState===4){var s={statusCode:i.status,text:i.responseText};if(i.status===200)try{s.json=JSON.parse(i.responseText)}catch{}t.callback==null||t.callback(s)}},i.send(r)}}),Ve!=null&&Ve.sendBeacon&&Qi.push({transport:"sendBeacon",method:t=>{var e=gr(t.url,{beacon:"1"});try{var i,{contentType:n,body:r}=(i=Qr(t))!==null&&i!==void 0?i:{},s=typeof r=="string"?new Blob([r],{type:n}):r;Ve.sendBeacon(e,s)}catch{}}});var Xs=3e3;class v0{constructor(e,i){this.ur=!0,this.hr=[],this.dr=He((i==null?void 0:i.flush_interval_ms)||Xs,250,5e3,"flush interval",Xs),this.vr=e}enqueue(e){this.hr.push(e),this.cr||this.pr()}unload(){this.gr();var e=this.hr.length>0?this._r():{},i=Object.values(e);[...i.filter(n=>n.url.indexOf("/e")===0),...i.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.vr(A({},n,{transport:"sendBeacon"}))})}enable(){this.ur=!1,this.pr()}pr(){var e=this;this.ur||(this.cr=setTimeout(()=>{if(this.gr(),this.hr.length>0){var i=this._r(),n=function(s){var a=i[s],o=new Date().getTime();a.data&&te(a.data)&&G(a.data,l=>{l.offset=Math.abs(l.timestamp-o),delete l.timestamp}),e.vr(a)};for(var r in i)n(r)}},this.dr))}gr(){clearTimeout(this.cr),this.cr=void 0}_r(){var e={};return G(this.hr,i=>{var n,r=i,s=(r?r.batchKey:null)||r.url;k(e[s])&&(e[s]=A({},r,{data:[]})),(n=e[s].data)==null||n.push(r.data)}),this.hr=[],e}}var m0=["retriesPerformedSoFar"];class _0{constructor(e){this.mr=!1,this.br=3e3,this.hr=[],this._instance=e,this.hr=[],this.wr=!0,!k(v)&&"onLine"in v.navigator&&(this.wr=v.navigator.onLine,Z(v,"online",()=>{this.wr=!0,this.Xi()}),Z(v,"offline",()=>{this.wr=!1}))}get length(){return this.hr.length}retriableRequest(e){var{retriesPerformedSoFar:i}=e,n=Dc(e,m0);ye(i)&&i>0&&(n.url=gr(n.url,{retry_count:i})),this._instance._e(A({},n,{callback:r=>{r.statusCode!==200&&(r.statusCode<400||r.statusCode>=500)&&(i??0)<10?this.yr(A({retriesPerformedSoFar:i},n)):n.callback==null||n.callback(r)}}))}yr(e){var i=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=i+1;var n=function(a){var o=3e3*Math.pow(2,a),l=o/2,u=Math.min(18e5,o),c=(Math.random()-.5)*(u-l);return Math.ceil(u+c)}(i),r=Date.now()+n;this.hr.push({retryAt:r,requestOptions:e});var s="Enqueued failed request for retry in "+n;navigator.onLine||(s+=" (Browser is offline)"),M.warn(s),this.mr||(this.mr=!0,this.Sr())}Sr(){this.$r&&clearTimeout(this.$r),this.$r=setTimeout(()=>{this.wr&&this.hr.length>0&&this.Xi(),this.Sr()},this.br)}Xi(){var e=Date.now(),i=[],n=this.hr.filter(s=>s.retryAt<e||(i.push(s),!1));if(this.hr=i,n.length>0)for(var{requestOptions:r}of n)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.$r&&(clearTimeout(this.$r),this.$r=void 0),this.hr))try{this._instance._e(A({},e,{transport:"sendBeacon"}))}catch(i){M.error(i)}this.hr=[]}}class y0{constructor(e){this.kr=()=>{var i,n,r,s;this.Er||(this.Er={});var a=this.scrollElement(),o=this.scrollY(),l=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=o+((a==null?void 0:a.clientHeight)||0),c=(a==null?void 0:a.scrollHeight)||0;this.Er.lastScrollY=Math.ceil(o),this.Er.maxScrollY=Math.max(o,(i=this.Er.maxScrollY)!==null&&i!==void 0?i:0),this.Er.maxScrollHeight=Math.max(l,(n=this.Er.maxScrollHeight)!==null&&n!==void 0?n:0),this.Er.lastContentY=u,this.Er.maxContentY=Math.max(u,(r=this.Er.maxContentY)!==null&&r!==void 0?r:0),this.Er.maxContentHeight=Math.max(c,(s=this.Er.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=e}getContext(){return this.Er}resetContext(){var e=this.Er;return setTimeout(this.kr,0),e}startMeasuringScrollPosition(){Z(v,"scroll",this.kr,{capture:!0}),Z(v,"scrollend",this.kr,{capture:!0}),Z(v,"resize",this.kr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return v==null?void 0:v.document.documentElement;var e=te(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var i of e){var n=v==null?void 0:v.document.querySelector(i);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return v&&(v.scrollY||v.pageYOffset||v.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return v&&(v.scrollX||v.pageXOffset||v.document.documentElement.scrollLeft)||0}}var b0=t=>$h(t==null?void 0:t.config.mask_personal_data_properties,t==null?void 0:t.config.custom_personal_data_properties);class w0{constructor(e,i,n,r){this.Ir=s=>{var a=this.Pr();if(!a||a.sessionId!==s){var o={sessionId:s,props:this.Rr(this._instance)};this.Tr.register({[Ps]:o})}},this._instance=e,this.Mr=i,this.Tr=n,this.Rr=r||b0,this.Mr.onSessionId(this.Ir)}Pr(){return this.Tr.props[Ps]}getSetOnceProps(){var e,i=(e=this.Pr())==null?void 0:e.props;return i?"r"in i?Dh(i):{$referring_domain:i.referringDomain,$pathname:i.initialPathName,utm_source:i.utm_source,utm_campaign:i.utm_campaign,utm_medium:i.utm_medium,utm_content:i.utm_content,utm_term:i.utm_term}:{}}getSessionProps(){var e={};return G(Fa(this.getSetOnceProps()),(i,n)=>{n==="$current_url"&&(n="url"),e["$session_entry_"+Es(n)]=i}),e}}var Cl=we("[SessionId]");class x0{constructor(e,i,n){var r;if(this.Cr=[],!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.Tr=e.persistence,this.oi=void 0,this.kt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Or=i||It,this.Fr=n||It;var s=this.S.persistence_name||this.S.token,a=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*He(a,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ar(),this.Dr="ph_"+s+"_window_id",this.jr="ph_"+s+"_primary_window_exists",this.Lr()){var o=fe.D(this.Dr),l=fe.D(this.jr);o&&!l?this.oi=o:fe.L(this.Dr),fe.j(this.jr,!0)}if((r=this.S.bootstrap)!=null&&r.sessionID)try{var u=(c=>{var d=c.replace(/-/g,"");if(d.length!==32)throw new Error("Not a valid UUID");if(d[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(d.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Nr(this.S.bootstrap.sessionID,new Date().getTime(),u)}catch(c){Cl.error("Invalid sessionID in bootstrap",c)}this.zr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return k(this.Cr)&&(this.Cr=[]),this.Cr.push(e),this.kt&&e(this.kt,this.oi),()=>{this.Cr=this.Cr.filter(i=>i!==e)}}Lr(){return this.S.persistence!=="memory"&&!this.Tr.ke&&fe.O()}Ur(e){e!==this.oi&&(this.oi=e,this.Lr()&&fe.j(this.Dr,e))}qr(){return this.oi?this.oi:this.Lr()?fe.D(this.Dr):null}Nr(e,i,n){e===this.kt&&i===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=i,this.kt=e,this.Tr.register({[nr]:[i,e,n]}))}Br(){if(this.kt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.kt,this._sessionStartTimestamp];var e=this.Tr.props[nr];return te(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Nr(null,null,null)}zr(){Z(v,"beforeunload",()=>{this.Lr()&&fe.L(this.jr)},{capture:!1})}checkAndGetSessionAndWindowId(e,i){if(e===void 0&&(e=!1),i===void 0&&(i=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var n=i||new Date().getTime(),[r,s,a]=this.Br(),o=this.qr(),l=ye(a)&&a>0&&Math.abs(n-a)>864e5,u=!1,c=!s,d=!e&&Math.abs(n-r)>this.sessionTimeoutMs;c||d||l?(s=this.Or(),o=this.Fr(),Cl.info("new session ID generated",{sessionId:s,windowId:o,changeReason:{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}}),a=n,u=!0):o||(o=this.Fr(),u=!0);var h=r===0||!e||l?n:r,f=a===0?new Date().getTime():a;return this.Ur(o),this.Nr(s,h,f),e||this.Ar(),u&&this.Cr.forEach(g=>g(s,o,u?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}:void 0)),{sessionId:s,windowId:o,sessionStartTimestamp:f,changeReason:u?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:r}}Ar(){clearTimeout(this.Hr),this.Hr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var S0=["$set_once","$set"],Et=we("[SiteApps]");class E0{constructor(e){this._instance=e,this.Wr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Gr(e,i){if(i){var n=this.globalsForEvent(i);this.Wr.push(n),this.Wr.length>1e3&&(this.Wr=this.Wr.slice(10))}}get siteAppLoaders(){var e,i;return(e=L._POSTHOG_REMOTE_CONFIG)==null||(i=e[this._instance.config.token])==null?void 0:i.siteApps}init(){if(this.isEnabled){var e=this._instance.je(this.Gr.bind(this));this.Jr=()=>{e(),this.Wr=[],this.Jr=void 0}}}globalsForEvent(e){var i,n,r,s,a,o,l;if(!e)throw new Error("Event payload is required");var u={},c=this._instance.get_property("$groups")||[],d=this._instance.get_property("$stored_group_properties")||{};for(var[h,f]of Object.entries(d))u[h]={id:c[h],type:h,properties:f};var{$set_once:g,$set:p}=e;return{event:A({},Dc(e,S0),{properties:A({},e.properties,p?{$set:A({},(i=(n=e.properties)==null?void 0:n.$set)!==null&&i!==void 0?i:{},p)}:{},g?{$set_once:A({},(r=(s=e.properties)==null?void 0:s.$set_once)!==null&&r!==void 0?r:{},g)}:{}),elements_chain:(a=(o=e.properties)==null?void 0:o.$elements_chain)!==null&&a!==void 0?a:"",distinct_id:(l=e.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(e){var i=this.apps[e.id],n=()=>{var o;!i.errored&&this.Wr.length&&(Et.info("Processing "+this.Wr.length+" events for site app with id "+e.id),this.Wr.forEach(l=>i.processEvent==null?void 0:i.processEvent(l)),i.processedBuffer=!0),Object.values(this.apps).every(l=>l.processedBuffer||l.errored)&&((o=this.Jr)==null||o.call(this))},r=!1,s=o=>{i.errored=!o,i.loaded=!0,Et.info("Site app with id "+e.id+" "+(o?"loaded":"errored")),r&&n()};try{var{processEvent:a}=e.init({posthog:this._instance,callback:o=>{s(o)}});a&&(i.processEvent=a),r=!0}catch(o){Et.error("Error while initializing PostHog app with config id "+e.id,o),s(!1)}if(r&&i.loaded)try{n()}catch(o){Et.error("Error while processing buffered events PostHog app with config id "+e.id,o),i.errored=!0}}Vr(){var e=this.siteAppLoaders||[];for(var i of e)this.apps[i.id]={id:i.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of e)this.setupSiteApp(n)}Kr(e){if(Object.keys(this.apps).length!==0){var i=this.globalsForEvent(e);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(i)}catch(r){Et.error("Error while processing event "+e.event+" for site app "+n.id,r)}}}onRemoteConfig(e){var i,n,r,s=this;if((i=this.siteAppLoaders)!=null&&i.length)return this.isEnabled?(this.Vr(),void this._instance.on("eventCaptured",u=>this.Kr(u))):void Et.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.Jr)==null||n.call(this),(r=e.siteApps)!=null&&r.length)if(this.isEnabled){var a=function(u,c){var d;L["__$$ph_site_app_"+u]=s._instance,(d=L.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(s._instance,c,h=>{if(h)return Et.error("Error while initializing PostHog app with config id "+u,h)})};for(var{id:o,url:l}of e.siteApps)a(o,l)}else Et.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var zt,k0=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","bytespider"],Pl=function(t,e){if(!t)return!1;var i=t.toLowerCase();return k0.concat(e||[]).some(n=>{var r=n.toLowerCase();return i.indexOf(r)!==-1})},Vh=function(t,e){if(!t)return!1;var i=t.userAgent;if(i&&Pl(i,e))return!0;try{var n=t==null?void 0:t.userAgentData;if(n!=null&&n.brands&&n.brands.some(r=>Pl(r==null?void 0:r.brand,e)))return!0}catch{}return!!t.webdriver};function Rl(t,e,i){return Ki({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:i})}(function(t){t.US="us",t.EU="eu",t.CUSTOM="custom"})(zt||(zt={}));var Ol="i.posthog.com";class T0{constructor(e){this.Yr={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,i=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return i||(i=this.apiHost.replace("."+Ol,".posthog.com")),i==="https://app.posthog.com"?"https://us.posthog.com":i}get region(){return this.Yr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Yr[this.apiHost]=zt.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Yr[this.apiHost]=zt.EU:this.Yr[this.apiHost]=zt.CUSTOM),this.Yr[this.apiHost]}endpointFor(e,i){if(i===void 0&&(i=""),i&&(i=i[0]==="/"?i:"/"+i),e==="ui")return this.uiHost+i;if(this.region===zt.CUSTOM)return this.apiHost+i;var n=Ol+i;switch(e){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var A0={icontains:(t,e)=>!!v&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!v&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!v&&pr(e.href,t),not_regex:(t,e)=>!!v&&!pr(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};class ve{constructor(e){var i=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),i.getWebExperiments(r=>{ve.Xr("retrieved web experiments from the server"),i.Qr=new Map,r.forEach(s=>{if(s.feature_flag_key){var a;i.Qr&&(ve.Xr("setting flag key ",s.feature_flag_key," to web experiment ",s),(a=i.Qr)==null||a.set(s.feature_flag_key,s));var o=i._instance.getFeatureFlag(s.feature_flag_key);ae(o)&&s.variants[o]&&i.Zr(s.name,o,s.variants[o].transforms)}else if(s.variants)for(var l in s.variants){var u=s.variants[l];ve.ts(u)&&i.Zr(s.name,l,u.transforms)}})},n)},this._instance=e,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(e){if(this._is_bot())ve.Xr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(j(this.Qr))return this.Qr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ve.Xr("applying feature flags",e),e.forEach(i=>{var n;if(this.Qr&&(n=this.Qr)!=null&&n.has(i)){var r,s=this._instance.getFeatureFlag(i),a=(r=this.Qr)==null?void 0:r.get(i);s&&a!=null&&a.variants[s]&&this.Zr(a.name,s,a.variants[s].transforms)}})}}previewWebExperiment(){var e=ve.getWindowLocation();if(e!=null&&e.search){var i=or(e==null?void 0:e.search,"__experiment_id"),n=or(e==null?void 0:e.search,"__experiment_variant");i&&n&&(ve.Xr("previewing web experiments "+i+" && "+n),this.getWebExperiments(r=>{this.es(parseInt(i),n,r)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,i,n){if(this._instance.config.disable_web_experiments&&!n)return e([]);var r=this._instance.get_property("$web_experiments");if(r&&!i)return e(r);this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return e([]);var a=s.json.experiments||[];return e(a)}})}es(e,i,n){var r=n.filter(s=>s.id===e);r&&r.length>0&&(ve.Xr("Previewing web experiment ["+r[0].name+"] with variant ["+i+"]"),this.Zr(r[0].name,i,r[0].variants[i].transforms))}static ts(e){return!j(e.conditions)&&ve.rs(e)&&ve.ss(e)}static rs(e){var i;if(j(e.conditions)||j((i=e.conditions)==null?void 0:i.url))return!0;var n,r,s,a=ve.getWindowLocation();return!!a&&((n=e.conditions)==null||!n.url||A0[(r=(s=e.conditions)==null?void 0:s.urlMatchType)!==null&&r!==void 0?r:"icontains"](e.conditions.url,a))}static getWindowLocation(){return v==null?void 0:v.location}static ss(e){var i;if(j(e.conditions)||j((i=e.conditions)==null?void 0:i.utm))return!0;var n=Ch();if(n.utm_source){var r,s,a,o,l,u,c,d,h,f,g,p,b,m,y,w,T=(r=e.conditions)==null||(s=r.utm)==null||!s.utm_campaign||((a=e.conditions)==null||(o=a.utm)==null?void 0:o.utm_campaign)==n.utm_campaign,S=(l=e.conditions)==null||(u=l.utm)==null||!u.utm_source||((c=e.conditions)==null||(d=c.utm)==null?void 0:d.utm_source)==n.utm_source,C=(h=e.conditions)==null||(f=h.utm)==null||!f.utm_medium||((g=e.conditions)==null||(p=g.utm)==null?void 0:p.utm_medium)==n.utm_medium,R=(b=e.conditions)==null||(m=b.utm)==null||!m.utm_term||((y=e.conditions)==null||(w=y.utm)==null?void 0:w.utm_term)==n.utm_term;return T&&C&&R&&S}return!1}static Xr(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];M.info("[WebExperiments] "+e,n)}Zr(e,i,n){this._is_bot()?ve.Xr("Refusing to render web experiment since the viewer is a likely bot"):i!=="control"?n.forEach(r=>{if(r.selector){var s;ve.Xr("applying transform of variant "+i+" for experiment "+e+" ",r);var a=(s=document)==null?void 0:s.querySelectorAll(r.selector);a==null||a.forEach(o=>{var l=o;r.html&&(l.innerHTML=r.html),r.css&&l.setAttribute("style",r.css)})}}):ve.Xr("Control variants leave the page unmodified.")}_is_bot(){return Ve&&this._instance?Vh(Ve,this._instance.config.custom_blocked_useragents):void 0}}var en={},Js=()=>{},oi="posthog",Bh=!g0&&(Fe==null?void 0:Fe.indexOf("MSIE"))===-1&&(Fe==null?void 0:Fe.indexOf("Mozilla"))===-1,$l=()=>{var t;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:km(F==null?void 0:F.location),persistence:"localStorage+cookie",persistence_name:"",loaded:Js,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Me&&ae(Me==null?void 0:Me.search)&&Me.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(v==null||(t=v.location)==null?void 0:t.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var i="Bad HTTP status: "+e.statusCode+" "+e.text;M.error(i)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Xs},_onCapture:Js}},Dl=t=>{var e={};k(t.process_person)||(e.person_profiles=t.process_person),k(t.xhr_headers)||(e.request_headers=t.xhr_headers),k(t.cookie_name)||(e.persistence_name=t.cookie_name),k(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),k(t.store_google)||(e.save_campaign_params=t.store_google),k(t.verbose)||(e.debug=t.verbose);var i=se({},e,t);return te(t.property_blacklist)&&(k(t.property_denylist)?i.property_denylist=t.property_blacklist:te(t.property_denylist)?i.property_denylist=[...t.property_blacklist,...t.property_denylist]:M.error("Invalid value for property_denylist config: "+t.property_denylist)),i};class F0{constructor(){this.__forceAllowLocalhost=!1}get ns(){return this.__forceAllowLocalhost}set ns(e){M.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class Mr{get decideEndpointWasHit(){var e,i;return(e=(i=this.featureFlags)==null?void 0:i.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new F0,this.os=!1,this.version=vt.LIB_VERSION,this.ls=new Nh,this.config=$l(),this.SentryIntegration=N_,this.sentryIntegration=e=>function(i,n){var r=ph(i,n);return{name:fh,processEvent:s=>r(s)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.us=!1,this.hs=null,this.ds=null,this.vs=null,this.featureFlags=new l0(this),this.toolbar=new B_(this),this.scrollManager=new y0(this),this.pageViewManager=new U_(this),this.surveys=new h0(this),this.experiments=new ve(this),this.exceptions=new G_(this),this.rateLimiter=new d0(this),this.requestRouter=new T0(this),this.consent=new Km(this),this.people={set:(e,i,n)=>{var r=ae(e)?{[e]:i}:e;this.setPersonProperties(r),n==null||n({})},set_once:(e,i,n)=>{var r=ae(e)?{[e]:i}:e;this.setPersonProperties(void 0,r),n==null||n({})}},this.on("eventCaptured",e=>M.info('send "'+(e==null?void 0:e.event)+'"',e))}init(e,i,n){if(n&&n!==oi){var r,s=(r=en[n])!==null&&r!==void 0?r:new Mr;return s._init(e,i,n),en[n]=s,en[oi][n]=s,s}return this._init(e,i,n)}_init(e,i,n){var r,s;if(i===void 0&&(i={}),k(e)||ks(e))return M.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return M.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.cs=[],i.person_profiles&&(this.ds=i.person_profiles),this.set_config(se({},$l(),Dl(i),{name:n,token:e})),this.config.on_xhr_error&&M.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=i.disable_compression?void 0:Xe.GZipJS,this.persistence=new Zr(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Zr(A({},this.config,{persistence:"sessionStorage"}));var a=A({},this.persistence.props),o=A({},this.sessionPersistence.props);if(this.fs=new v0(m=>this.ps(m),this.config.request_queue_config),this.gs=new _0(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new x0(this),this.sessionPropsManager=new w0(this,this.sessionManager,this.persistence)),new j_(this).startIfEnabledOrStop(),this.siteApps=new E0(this),(r=this.siteApps)==null||r.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new D_(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Vm(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new z_(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new W_(this),this.exceptionObserver=new Jm(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Qc(this,Xm),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new h_(this),this.historyAutocapture.startIfEnabled(),vt.DEBUG=vt.DEBUG||this.config.debug,vt.DEBUG&&M.info("Starting in debug mode",{this:this,config:i,thisC:A({},this.config),p:a,s:o}),this._s(),((s=i.bootstrap)==null?void 0:s.distinctID)!==void 0){var l,u,c=this.config.get_device_id(It()),d=(l=i.bootstrap)!=null&&l.isIdentifiedID?c:i.bootstrap.distinctID;this.persistence.set_property(ft,(u=i.bootstrap)!=null&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:d})}if(this.bs()){var h,f,g=Object.keys(((h=i.bootstrap)==null?void 0:h.featureFlags)||{}).filter(m=>{var y,w;return!((y=i.bootstrap)==null||(w=y.featureFlags)==null||!w[m])}).reduce((m,y)=>{var w,T;return m[y]=((w=i.bootstrap)==null||(T=w.featureFlags)==null?void 0:T[y])||!1,m},{}),p=Object.keys(((f=i.bootstrap)==null?void 0:f.featureFlagPayloads)||{}).filter(m=>g[m]).reduce((m,y)=>{var w,T,S,C;return(w=i.bootstrap)!=null&&(T=w.featureFlagPayloads)!=null&&T[y]&&(m[y]=(S=i.bootstrap)==null||(C=S.featureFlagPayloads)==null?void 0:C[y]),m},{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:p})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:Jo,$device_id:null},"");else if(!this.get_distinct_id()){var b=this.config.get_device_id(It());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_property(ft,"anonymous")}return Z(v,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),i.segment?L_(this,()=>this.ws()):this.ws(),ze(this.config._onCapture)&&this.config._onCapture!==Js&&(M.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",m=>this.config._onCapture(m.event,m))),this}me(e){var i,n,r,s,a,o,l,u;if(!F||!F.body)return M.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.me(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=N(e.supportedCompression,Xe.GZipJS)?Xe.GZipJS:N(e.supportedCompression,Xe.Base64)?Xe.Base64:void 0),(i=e.analytics)!=null&&i.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.ds?this.ds:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(e),(r=this.sessionRecording)==null||r.onRemoteConfig(e),(s=this.autocapture)==null||s.onRemoteConfig(e),(a=this.heatmaps)==null||a.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(o=this.webVitalsAutocapture)==null||o.onRemoteConfig(e),(l=this.exceptionObserver)==null||l.onRemoteConfig(e),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(e)}ws(){try{this.config.loaded(this)}catch(e){M.critical("`loaded` function failed",e)}this.ys(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Ss()},1),new f0(this).load(),this.featureFlags.decide()}ys(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this.fs)==null||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||Ct(this.__request_queue,e=>this.ps(e)),this.__request_queue=[],this.ys()}_handle_unload(){var e,i;this.config.request_batching?(this.$s()&&this.capture("$pageleave"),(e=this.fs)==null||e.unload(),(i=this.gs)==null||i.unload()):this.$s()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_e(e){this.__loaded&&(Bh?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=gr(e.url,{ip:this.config.ip?1:0}),e.headers=A({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(i=>{var n,r,s,a=A({},i);a.timeout=a.timeout||6e4,a.url=gr(a.url,{_:new Date().getTime().toString(),ver:vt.LIB_VERSION,compression:a.compression});var o=(n=a.transport)!==null&&n!==void 0?n:"fetch",l=(r=(s=Lc(Qi,u=>u.transport===o))==null?void 0:s.method)!==null&&r!==void 0?r:Qi[0].method;if(!l)throw new Error("No available transport method");l(a)})(A({},e,{callback:i=>{var n,r;this.rateLimiter.checkForLimiting(i),i.statusCode>=400&&((n=(r=this.config).on_request_error)==null||n.call(r,i)),e.callback==null||e.callback(i)}}))))}ps(e){this.gs?this.gs.retriableRequest(e):this._e(e)}_execute_array(e){var i,n=[],r=[],s=[];Ct(e,o=>{o&&(i=o[0],te(i)?s.push(o):ze(o)?o.call(this):te(o)&&i==="alias"?n.push(o):te(o)&&i.indexOf("capture")!==-1&&ze(this[i])?s.push(o):r.push(o))});var a=function(o,l){Ct(o,function(u){if(te(u[0])){var c=l;G(u,function(d){c=c[d[0]].apply(c,d.slice(1))})}else this[u[0]].apply(this,u.slice(1))},l)};a(n,this),a(r,this),a(s,this)}bs(){var e,i;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((i=this.config.bootstrap)==null?void 0:i.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,i,n){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.fs){if(!this.consent.isOptedOut())if(!k(e)&&ae(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){i!=null&&i.$current_url&&!ae(i==null?void 0:i.$current_url)&&(M.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),i==null||delete i.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var a=new Date,o=(n==null?void 0:n.timestamp)||a,l=It(),u={uuid:l,event:e,properties:this.Di(e,i||{},o,l)};s&&(u.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),n!=null&&n.$set&&(u.$set=n==null?void 0:n.$set);var c=this.ks(n==null?void 0:n.$set_once);c&&(u.$set_once=c),(u=Sm(u,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,k(n==null?void 0:n.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=a);var d=A({},u.properties.$set,u.$set);if(ui(d)||this.setPersonPropertiesForFlags(d),!j(this.config.before_send)){var h=this.xs(u);if(!h)return;u=h}this.ls.emit("eventCaptured",u);var f={method:"POST",url:(r=n==null?void 0:n._url)!==null&&r!==void 0?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.ps(f):this.fs.enqueue(f),u}M.critical("This capture call is ignored due to client rate limiting.")}}else M.error("No event name provided to posthog.capture")}else M.uninitializedWarning("posthog.capture")}je(e){return this.on("eventCaptured",i=>e(i.event,i))}Di(e,i,n,r){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return i;var s=this.persistence.remove_event_timer(e),a=A({},i);if(a.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(a.$cookieless_mode=!0),e==="$snapshot"){var o=A({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=o.distinct_id,(!ae(a.distinct_id)&&!ye(a.distinct_id)||ks(a.distinct_id))&&M.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var l,u=a0(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:c,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId();a.$session_id=c,a.$window_id=d}this.sessionPropsManager&&se(a,this.sessionPropsManager.getSessionProps());try{var h;this.sessionRecording&&se(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(h=this.gs)==null?void 0:h.length}catch(b){a.$sdk_debug_error_capturing_properties=String(b)}if(this.requestRouter.region===zt.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),l=e==="$pageview"?this.pageViewManager.doPageView(n,r):e==="$pageleave"?this.pageViewManager.doPageLeave(n):this.pageViewManager.doEvent(),a=se(a,l),e==="$pageview"&&F&&(a.title=F.title),!k(s)){var f=n.getTime()-s;a.$duration=parseFloat((f/1e3).toFixed(3))}Fe&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=se({},u,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),te(this.config.property_denylist)?G(this.config.property_denylist,function(b){delete a[b]}):M.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;g&&(M.error("sanitize_properties is deprecated. Use before_send instead"),a=g(a,e));var p=this.Es();return a.$process_person_profile=p,p&&this.Is("_calculate_event_properties"),a}ks(e){var i;if(!this.persistence||!this.Es()||this.os)return e;var n=this.persistence.get_initial_props(),r=(i=this.sessionPropsManager)==null?void 0:i.getSetOnceProps(),s=se({},n,r||{},e||{}),a=this.config.sanitize_properties;return a&&(M.error("sanitize_properties is deprecated. Use before_send instead"),s=a(s,"$set_once")),this.os=!0,ui(s)?void 0:s}register(e,i){var n;(n=this.persistence)==null||n.register(e,i)}register_once(e,i,n){var r;(r=this.persistence)==null||r.register_once(e,i,n)}register_for_session(e){var i;(i=this.sessionPersistence)==null||i.register(e)}unregister(e){var i;(i=this.persistence)==null||i.unregister(e)}unregister_for_session(e){var i;(i=this.sessionPersistence)==null||i.unregister(e)}Ps(e,i){this.register({[e]:i})}getFeatureFlag(e,i){return this.featureFlags.getFeatureFlag(e,i)}getFeatureFlagPayload(e){var i=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(i)}catch{return i}}isFeatureEnabled(e,i){return this.featureFlags.isFeatureEnabled(e,i)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,i){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,i)}getEarlyAccessFeatures(e,i,n){return i===void 0&&(i=!1),this.featureFlags.getEarlyAccessFeatures(e,i,n)}on(e,i){return this.ls.on(e,i)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var i,n;return(i=(n=this.sessionManager)==null?void 0:n.onSessionId(e))!==null&&i!==void 0?i:()=>{}}getSurveys(e,i){i===void 0&&(i=!1),this.surveys.getSurveys(e,i)}getActiveMatchingSurveys(e,i){i===void 0&&(i=!1),this.surveys.getActiveMatchingSurveys(e,i)}renderSurvey(e,i){this.surveys.renderSurvey(e,i)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,i){return i===void 0&&(i=!1),this.surveys.canRenderSurveyAsync(e,i)}identify(e,i,n){if(!this.__loaded||!this.persistence)return M.uninitializedWarning("posthog.identify");if(ye(e)&&(e=e.toString(),M.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))M.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(this.Is("posthog.identify")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}e!==r&&e!==this.get_property(ji)&&(this.unregister(ji),this.register({distinct_id:e}));var a=(this.persistence.get_property(ft)||"anonymous")==="anonymous";e!==r&&a?(this.persistence.set_property(ft,"identified"),this.setPersonPropertiesForFlags(A({},n||{},i||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:i||{},$set_once:n||{}}),this.vs=Rl(e,i,n),this.featureFlags.setAnonymousDistinctId(r)):(i||n)&&this.setPersonProperties(i,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(rr))}}else M.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,i){if((e||i)&&this.Is("posthog.setPersonProperties")){var n=Rl(this.get_distinct_id(),e,i);this.vs!==n?(this.setPersonPropertiesForFlags(A({},i||{},e||{})),this.capture("$set",{$set:e||{},$set_once:i||{}}),this.vs=n):M.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,i,n){if(e&&i){if(this.Is("posthog.group")){var r=this.getGroups();r[e]!==i&&this.resetGroupPropertiesForFlags(e),this.register({$groups:A({},r,{[e]:i})}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:i,$group_set:n}),this.setGroupPropertiesForFlags({[e]:n})),r[e]===i||n||this.reloadFeatureFlags()}}else M.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,i){i===void 0&&(i=!0),this.featureFlags.setPersonPropertiesForFlags(e,i)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,i){i===void 0&&(i=!0),this.Is("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,i)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var i,n,r,s;if(M.info("reset"),!this.__loaded)return M.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(i=this.persistence)==null||i.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),(r=this.persistence)==null||r.set_property(ft,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.vs=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:Jo,$device_id:null},"");else{var o=this.config.get_device_id(It());this.register_once({distinct_id:o,$device_id:e?o:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,i;return(e=(i=this.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:i,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+i);if(e!=null&&e.withTimestamp&&n){var s,a=(s=e.timestampLookBack)!==null&&s!==void 0?s:10;if(!n)return r;r+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-a,0)}return r}alias(e,i){return e===this.get_property(Nc)?(M.critical("Attempting to create alias for existing People user - aborting."),-2):this.Is("posthog.alias")?(k(i)&&(i=this.get_distinct_id()),e!==i?(this.Ps(ji,e),this.capture("$create_alias",{alias:e,distinct_id:i})):(M.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var i,n,r,s,a=A({},this.config);ie(e)&&(se(this.config,Dl(e)),(i=this.persistence)==null||i.update_config(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Zr(A({},this.config,{persistence:"sessionStorage"})),ce.O()&&ce.A("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(vt.DEBUG=!0,M.info("set_config",JSON.stringify({config:e,oldConfig:a,newConfig:A({},this.config)},null,2))),(n=this.sessionRecording)==null||n.startIfEnabledOrStop(),(r=this.autocapture)==null||r.startIfEnabled(),(s=this.heatmaps)==null||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._s())}startSessionRecording(e){var i=e===!0,n={sampling:i||!(e==null||!e.sampling),linked_flag:i||!(e==null||!e.linked_flag),url_trigger:i||!(e==null||!e.url_trigger),event_trigger:i||!(e==null||!e.event_trigger)};if(Object.values(n).some(Boolean)){var r,s,a,o,l;(r=this.sessionManager)==null||r.checkAndGetSessionAndWindowId(),n.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),n.linked_flag&&((a=this.sessionRecording)==null||a.overrideLinkedFlag()),n.url_trigger&&((o=this.sessionRecording)==null||o.overrideTrigger("url")),n.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,i){var n=new Error("PostHog syntheticException");this.exceptions.sendExceptionEvent(A({},c_((r=>r instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:n}),i))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var i;return(i=this.persistence)==null?void 0:i.props[e]}getSessionProperty(e){var i;return(i=this.sessionPersistence)==null?void 0:i.props[e]}toString(){var e,i=(e=this.config.name)!==null&&e!==void 0?e:oi;return i!==oi&&(i=oi+"."+i),i}_isIdentified(){var e,i;return((e=this.persistence)==null?void 0:e.get_property(ft))==="identified"||((i=this.sessionPersistence)==null?void 0:i.get_property(ft))==="identified"}Es(){var e,i,n,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&ui(this.getGroups())&&((e=this.persistence)==null||(i=e.props)==null||!i[ji])&&((n=this.persistence)==null||(r=n.props)==null||!r[sr]))}$s(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Es()||this.Is("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Is(e){return this.config.person_profiles==="never"?(M.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Ps(sr,!0),!0)}_s(){var e,i,n,r,s=this.consent.isOptedOut(),a=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||s&&!!a;((e=this.persistence)==null?void 0:e.ke)!==o&&((n=this.persistence)==null||n.set_disabled(o)),((i=this.sessionPersistence)==null?void 0:i.ke)!==o&&((r=this.sessionPersistence)==null||r.set_disabled(o))}opt_in_capturing(e){var i;this.consent.optInOut(!0),this._s(),(k(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((i=e==null?void 0:e.captureEventName)!==null&&i!==void 0?i:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ss()}opt_out_capturing(){this.consent.optInOut(!1),this._s()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._s()}_is_bot(){return Ve?Vh(Ve,this.config.custom_blocked_useragents):void 0}Ss(){F&&(F.visibilityState==="visible"?this.us||(this.us=!0,this.capture("$pageview",{title:F.title},{send_instantly:!0}),this.hs&&(F.removeEventListener("visibilitychange",this.hs),this.hs=null)):this.hs||(this.hs=this.Ss.bind(this),Z(F,"visibilitychange",this.hs)))}debug(e){e===!1?(v==null||v.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(v==null||v.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}xs(e){if(j(this.config.before_send))return e;var i=te(this.config.before_send)?this.config.before_send:[this.config.before_send],n=e;for(var r of i){if(n=r(n),j(n)){var s="Event '"+e.event+"' was rejected in beforeSend function";return bm(e.event)?M.warn(s+". This can cause unexpected behavior."):M.info(s),null}n.properties&&!ui(n.properties)||M.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var e;return(e=this.pageViewManager.oe)==null?void 0:e.pageViewId}captureTraceFeedback(e,i){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:i})}captureTraceMetric(e,i,n){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:i,$ai_metric_value:String(n)})}}(function(t,e){for(var i=0;i<e.length;i++)t.prototype[e[i]]=xm(t.prototype[e[i]])})(Mr,["identify"]);var Ll,Nl,Vl,Bl,ql,jl;(function(t){t.Button="button",t.Tab="tab",t.Selector="selector"})(Ll||(Ll={})),function(t){t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger"}(Nl||(Nl={})),function(t){t.Popover="popover",t.API="api",t.Widget="widget"}(Vl||(Vl={})),function(t){t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link"}(Bl||(Bl={})),function(t){t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question"}(ql||(ql={})),function(t){t.Once="once",t.Recurring="recurring",t.Always="always"}(jl||(jl={}));var Wl,M0=(Wl=en[oi]=new Mr,function(){function t(){t.done||(t.done=!0,Bh=!1,G(en,function(e){e._dom_loaded()}))}F!=null&&F.addEventListener?F.readyState==="complete"?t():Z(F,"DOMContentLoaded",t,{capture:!1}):v&&M.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),Wl),I0=Oe('<!> <main><div class="flex flex-col items-center min-h-screen p-4 dark:bg-black bg-gray-100"><!> <!> <!> <!></div></main>',1);function C0(t,e){Ti(e,!1),_n(()=>{M0.init("phc_VK3BG0gaxwgg0aCF9g7LDSvrH2cM7iVq0fNgacPWfuG",{api_host:"https://us.i.posthog.com",person_profiles:"identified_only"})}),mn();var i=I0(),n=_d(i);Wv(n);var r=q(n,2),s=H(r),a=H(s);im(a,{});var o=q(a,2);Zv(o,{});var l=q(o,2);gm(l);var u=q(l,2);lm(u,{}),_e(t,i),Ai()}zd(C0,{target:document.getElementById("app")});
